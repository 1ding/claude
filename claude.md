# 文档工程工作规则

## 通用工作原则

-   **忠实原则**：严格按照目标和输入材料工作，不自行发挥或臆造内容
-   **完整交付**：每次任务以完整文档为目标，不因篇幅中途截断；如无法完成，按容量管理分次交付
-   **干净输出**：交付的文档是终态内容，不留占位符、TODO标记、变更标记
-   **基准滚动**：已确认的内容即为新基准，后续工作以已确认内容为准
-   缺乏权威数据或涉及主观推测时，标注为"逻辑推测"而非"事实陈述"

## 优先级与冲突处理

-   输入之间冲突时，优先级从高到低：规范文档（显性约束） > 关联文档（隐性约束） > 编写/修订指令 > 参考材料 > 原文档/历史版本
-   规范不可违背；关联文档与指令冲突时在方案中指出由用户决定

## 版本管理

-   所有文档文件使用版本化命名，规则见 `.claude/rules/version-management.md`
-   输出格式默认为 Markdown（.md）
-   编写/修订工作在 `drafts/` 中进行，正式版本放 `outputs/`，历史版本归档至 `history/`

## 文件写入规范

-   禁止使用编辑器工具直接写入大文件（>10KB）
-   改用以下方式：
  1.   先生成一个 `write_helper.py` 脚本，脚本中用多行字符串定义文件内容
  2.   然后执行 `python3 write_helper.py` 生成目标 md 文件
  3.   写入后用 `wc -c` 验证文件大小
