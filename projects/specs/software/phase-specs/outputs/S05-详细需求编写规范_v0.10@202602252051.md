# 1 适用范围

+   文档编号：S05
+   文档名称：BC详细需求编写规范
+   适用对象：BC详细需求规格说明书（《软件研发过程规范》阶段5"BC详细需求"的输出物，文档编号 05-BC详细需求）
+   管辖范围：BC详细需求规格说明书各章节的编写规则、内容要求、判断标准与内容模型
+   不管辖的范围：排版格式（见《C02-排版格式规范》）、内容表达通用规则（见《C01-内容表达规范》）

+   BC详细需求规格说明书是阶段5"BC详细需求"的正式输出物，每个BC对应一份，承接阶段2"宏观需求"输出的 Business Epic 清单、阶段3"领域设计"输出的BC定义和 Enabler Epic 清单、阶段4"系统设计"输出的 Enabler Capability / Enabler Feature 架构需求清单，为阶段6"BC总体设计"提供输入。

+   本文档在单个BC的职责边界内，将 Business Epic 和 Capability 逐步拆分为 Feature（特性）和 User Story（用户故事），为每个 User Story 定义可测试的验收标准（Acceptance Criteria），汇总业务规则，细化BC级非功能需求。核心目标是建立从 Business Epic 到可交付 User Story 的完整可追溯链路，确保每条需求可验证、可测试、可追溯。

+   BC详细需求规格说明书的上游输入如下表所示。

    | 来源阶段       | 输入文档     | 具体输入内容                                                                                                                                                                                                                              |
    | -------------- | ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | 阶段4 系统设计 | 系统设计文档 | BC与服务映射表、Enabler Capability/Feature 架构需求清单（含验收标准和约束映射）、集成架构设计、全局依赖治理原则、非功能需求方案（全局基线）、BC版本覆盖矩阵                                                                               |
    | 阶段3 领域设计 | 领域设计文档 | BC定义（职责、边界、所属子域、核心聚合）、上下文映射、领域事件全景、统一语言词汇表、核心领域模型概要                                                                                                                                      |
    | 阶段2 宏观需求 | 宏观需求文档 | 本BC承接的 Business Epic 清单（含能力架构、Epic定义、验收标准和版本分配）、相关业务活动（PL2流程节点）、相关用户角色（CL2角色定义、痛点和期望）、相关实体生命周期、基础性需求（本BC承接部分）、非功能需求框架（全局级基线目标）、追溯矩阵 |
    | 阶段1 产品战略 | 产品战略文档 | 版本路线图、业务主题与业务域（经上游阶段传递）                                                                                                                                                                                            |

    +   表1 BC详细需求规格说明书输入项

+   当上游输入不完整时，缺失内容记录为假设（AS-*），标注"来源：阶段N输出缺失"，确保上游输出完善后可回溯更新。

+   BC详细需求规格说明书正文应覆盖以下内容，各项内容与章节的对应关系及附录属性如下表所示。

    | 内容             | 对应章节  | 属性 |
    | ---------------- | --------- | ---- |
    | 概述             | 正文第1章 | 必选 |
    | BC概述与边界     | 正文第2章 | 必选 |
    | 用户角色         | 正文第3章 | 必选 |
    | 业务场景         | 正文第4章 | 必选 |
    | 需求分解         | 正文第5章 | 必选 |
    | 业务规则汇总     | 正文第6章 | 必选 |
    | 非功能需求细化   | 正文第7章 | 必选 |
    | 需求追溯矩阵     | 正文第8章 | 必选 |
    | 优先级与版本规划 | 正文第9章 | 必选 |
    | 术语速查         | 附录A     | 可选 |
    | 评审检查清单     | 附录B     | 可选 |
    | 修订记录         | 附录C     | 必选 |

    +   表2 BC详细需求规格说明书输出内容与章节对应关系

+   不可裁剪的章节及理由：
    -   第2章 BC概述与边界：BC级分析的基线，明确本文档的分析范围和约束
    -   第5章 需求分解（Feature / User Story）：核心产出，BC详细需求的主体交付物
    -   第8章 需求追溯矩阵：追溯链完整性保障，确保 Business Epic → Capability → Feature → User Story 的链路完整

+   裁剪建议：

    | 项目规模 | 判断参考                       | 裁剪策略                                                                                       |
    | -------- | ------------------------------ | ---------------------------------------------------------------------------------------------- |
    | 标准项目 | Feature >= 8，User Story >= 30 | 完整执行全部章节                                                                               |
    | 小型项目 | Feature < 3，User Story < 10   | 第3章和第4章可简化（合并为单节概述）；第6章可简化（仅汇总关键规则）；第7章可并入第5章各Feature |

    +   表3 裁剪建议

+   裁剪后仍应确保追溯链完整性（Business Epic → Capability → Feature → User Story → AC 的链路不断裂，且受 Enabler Feature 约束的非功能性要求可追溯）。

+   章节结构表以四列定义：编号（对应目标文档的章节编号）、标题（对应目标文档的章节标题）、内容要点（该章节应包含的核心内容）、内容模型（指向本规范中定义的具体编写模型，无指向时留空）。

+   内容要点采用三级强制性标注：(必选)为不可省略项，缺失视为不合规；(宜)为推荐项，可根据实际裁剪；(可选)为可选项，根据产品特性自行决定。未标注的内容要点默认为必选项。

# 2 正文章节结构

+   BC详细需求规格说明书正文应包含9个章节，章节顺序固定，不应调整。
+   除正文外，报告应包含附录，附录编写规则见第3章。
+   2.1–2.9节分别定义各章节的编写规范，每节包含章节目的、章节结构（四列表）、内容模型（如有）三个层次。

## 2.1 第1章 概述

### 2.1.1 章节目的

+   本章是BC详细需求规格说明书的导读章节，使读者快速了解文档目的、分析框架和术语约定。
+   本章不包含需求分析内容，所有分析从第2章开始。
+   核心产出为需求分解方法论框架图和阶段定位说明。方法论框架图应涵盖从上游承接（Business Epic、BC定义、Enabler Feature 约束）到需求分解产出（Feature → User Story → AC）的完整分析逻辑链，体现"承接验收→BC概述→角色与场景→需求分解→业务规则→非功能细化→追溯验证"各环节。
+   本章的术语约定应引用《软件开发术语规范》，详细需求特有术语（Feature、User Story、Acceptance Criteria、Capability、业务规则等）应在本章建立统一定义。

### 2.1.2 章节结构

+   第1章结构与内容要点如下表所示。

    | 编号  | 标题       | 内容要点                                                                          | 内容模型 |
    | ----- | ---------- | --------------------------------------------------------------------------------- | -------- |
    | **1** | **概述**   |                                                                                   |          |
    | 1.1   | 文档目的   | 本文档的编写目的和适用范围                                                        |          |
    | 1.2   | 方法论框架 | 需求分解方法论框架图、各环节职责概述、与上下游阶段的关系说明                      |          |
    | 1.3   | 文档定位   | 本文档在研发过程中的位置（引用《N00-软件研发过程规范》），与宏观需求的层级边界    |          |
    | 1.4   | 术语约定   | 通用术语引用索引（引用《软件开发术语规范》）、本文档特有术语定义                  |          |
    | 1.5   | 编号约定   | 各类条目的编号体系说明（引用《P01-软件开发编号规范》），含Feature/Story/AC/BR编号 |          |

    +   表4 第1章结构与内容要点

## 2.2 第2章 BC概述与边界

### 2.2.1 章节目的

+   本章建立BC级分析基线，回答"这个BC是什么、负责什么、受哪些约束"。
+   通过承接验收确认上游输入的完整性，明确BC定位（职责、核心价值、所属子域）、业务边界（负责什么/不负责什么）、上游 Enabler Feature 约束和当前版本范围。
+   BC定位和边界定义承接阶段3领域设计中的BC定义和阶段4系统设计中的BC与服务映射，本章引用而非重新定义。
+   上游承接验收应逐项确认阶段2-4的输出完整性（本BC承接的 Business Epic 清单、BC定义、Enabler Feature 约束等），缺失项记录为假设。
+   本章核心产出为：BC基本信息、业务边界定义、上游承接验收清单、Enabler Feature 约束清单和当前版本范围。
+   本章结论向后传递：边界定义为第3-5章的分析范围提供框架，Enabler Feature 约束为第7章非功能需求细化提供输入。

### 2.2.2 章节结构

+   第2章结构与内容要点如下表所示。

    | 编号  | 标题                 | 内容要点                                                                                 | 内容模型         |
    | ----- | -------------------- | ---------------------------------------------------------------------------------------- | ---------------- |
    | **2** | **BC概述与边界**     |                                                                                          |                  |
    | 2.1   | 上游承接验收         | 逐项确认阶段2-4输出的完整性（本BC相关部分），缺失项记录为假设                            | 上游承接验收清单 |
    | 2.2   | BC基本信息           | BC编号、名称、所属子域、对应微服务、对应数据库（引用阶段3/4）                            | BC基本信息表     |
    | 2.3   | BC定位与核心价值     | BC职责定义、核心业务能力、为用户提供的核心价值                                           |                  |
    | 2.4   | 业务边界             | 本BC负责的业务范围（正面清单）和不负责的业务范围（负面清单）                             | 业务边界清单     |
    | 2.5   | BC间协作关系         | 本BC与其他BC的协作关系摘要（引用阶段3上下文映射和阶段4集成架构），标注映射模式和通信方式 | 协作关系表       |
    | 2.6   | Enabler Feature 约束 | 本BC受上游 Enabler Feature 约束的清单（约束编号、约束内容、来源章节、对本BC的影响）      | EF约束清单       |
    | 2.7   | 当前版本范围         | 本文档覆盖的版本范围和 Epic/Feature 范围                                                 | 版本覆盖表       |

    +   表5 第2章结构与内容要点

### 2.2.3 内容模型

#### 上游承接验收清单

+   输出为验收清单表，按上游阶段分组，逐项确认输入完整性。

    | 列名     | 必填 | 说明                                                           |
    | -------- | ---- | -------------------------------------------------------------- |
    | 来源阶段 | 是   | 上游阶段编号和名称（如"阶段2 宏观需求"）                       |
    | 验收项   | 是   | 需确认的具体输入内容（如"本BC承接的 Business Epic 清单"）      |
    | 状态     | 是   | 枚举值：已确认 / 部分缺失 / 缺失                               |
    | 备注     | 否   | 状态为"部分缺失"或"缺失"时，记录假设编号（AS-*）和缺失内容描述 |

    +   表6 上游承接验收清单列定义

+   验收项应覆盖大纲视图"上游输入"节中列出的所有内容项（阶段2、阶段3、阶段4），按本BC实际承接范围筛选。

+   示例（单行）：

    | 来源阶段       | 验收项                         | 状态     | 备注                                 |
    | -------------- | ------------------------------ | -------- | ------------------------------------ |
    | 阶段2 宏观需求 | 本BC承接的 Business Epic 清单  | 已确认   |                                      |
    | 阶段3 领域设计 | BC定义（职责、边界、核心聚合） | 部分缺失 | AS-BC11-001：核心聚合待阶段3补充确认 |
    | 阶段4 系统设计 | Enabler Feature 架构需求清单   | 已确认   |                                      |

    +   表7 上游承接验收清单示例

#### BC基本信息表

+   输出为单表，汇总BC的核心标识信息。列定义：字段（信息项名称）| 内容（信息项取值）。
+   必填信息项：BC编号、BC名称、所属子域、对应微服务（引用阶段4）、对应数据库（引用阶段4）、核心聚合（引用阶段3）。
+   所有信息项引用上游阶段文档，标注引用来源（如"引用阶段3领域设计 X.X节"），不重新定义。

#### BC定位与核心价值

+   输出为 2~3 段叙述，每段不超过 5 句。
+   第一段：BC职责定义——本BC在业务中承担什么职责，用一句话概括。
+   第二段：核心业务能力——本BC提供哪些核心能力（以能力列表形式内嵌，不独立成表）。
+   第三段：核心价值——本BC为用户提供的核心价值，关联到具体用户角色。

#### 业务边界清单

+   输出为正面清单和负面清单两张表。

+   正面清单（本BC负责）列定义：

    | 列名     | 必填 | 说明                                    |
    | -------- | ---- | --------------------------------------- |
    | 业务范围 | 是   | 本BC负责的具体业务范围描述              |
    | 依据     | 是   | 引用上游文档中的定义来源（阶段/章节号） |

    +   表8 正面清单列定义

+   负面清单（本BC不负责）列定义：

    | 列名         | 必填 | 说明                             |
    | ------------ | ---- | -------------------------------- |
    | 业务范围     | 是   | 本BC不负责的具体业务范围描述     |
    | 归属BC       | 是   | 该业务范围实际归属的BC编号和名称 |
    | 边界判断依据 | 是   | 为什么不归本BC，引用上游定义来源 |

    +   表9 负面清单列定义

+   负面清单示例（单行）：

    | 业务范围       | 归属BC         | 边界判断依据                           |
    | -------------- | -------------- | -------------------------------------- |
    | 租户计费与结算 | BC-12 计费中心 | 阶段3领域设计3.2节BC定义，计费域独立BC |

    +   表10 负面清单示例

#### 协作关系表

+   输出为协作关系摘要表，列定义：

    | 列名     | 必填 | 说明                                                      |
    | -------- | ---- | --------------------------------------------------------- |
    | 协作BC   | 是   | 协作方BC编号和名称                                        |
    | 协作方向 | 是   | 枚举值：上游 / 下游 / 双向                                |
    | 映射模式 | 是   | DDD上下文映射模式（如 ACL、OHS、CF），引用阶段3上下文映射 |
    | 通信方式 | 是   | 同步API / 异步事件 / 混合，引用阶段4集成架构              |
    | 交互概述 | 是   | 一句话描述交互内容                                        |

    +   表11 协作关系表列定义

#### EF约束清单

+   输出为约束清单表，列定义：

    | 列名     | 必填 | 说明                                     |
    | -------- | ---- | ---------------------------------------- |
    | 约束编号 | 是   | 本BC内的约束流水号（EF-{BC编号}-{序号}） |
    | 约束名称 | 是   | Enabler Feature 名称                     |
    | 来源     | 是   | 阶段4系统设计中的章节引用                |
    | 约束内容 | 是   | 该 Enabler Feature 对本BC的具体约束描述  |
    | 影响范围 | 是   | 本BC中受影响的 Feature / 非功能需求类别  |
    | 验收标准 | 是   | 该约束的可测试验收条件，引用阶段4定义    |

    +   表12 EF约束清单列定义

+   影响范围列应具体到 Feature 级别或非功能需求类别（如"性能需求-响应时间"），不应笼统写"全部"。

#### 版本覆盖表

+   输出为版本范围说明（1~2 段）+ 版本覆盖表。版本范围说明引用阶段4 BC版本覆盖矩阵。

    | 列名        | 必填 | 说明                                                           |
    | ----------- | ---- | -------------------------------------------------------------- |
    | 版本        | 是   | 规划版本编号（如 P1）                                          |
    | 覆盖Epic    | 是   | 该版本覆盖的 Business Epic 编号列表                            |
    | 覆盖Feature | 是   | 该版本预计交付的 Feature 编号列表（初始为空，第5章完成后回填） |

    +   表13 版本覆盖表列定义

### 2.2.4 约束与规则

+   引用原则：BC基本信息、BC定位中的职责定义、业务边界的核心判断均引用阶段3/4上游文档，标注"引用阶段N X.X节"，不重新定义。本章只在BC维度下补充上游未覆盖的细节（如核心价值中的用户视角描述）。

+   假设管理：上游承接验收中状态为"部分缺失"或"缺失"的项，应在备注中记录假设编号（格式 AS-{BC编号}-{序号}），假设编号全文档唯一，后续章节引用时使用该编号。

+   边界完整性：正面清单和负面清单应穷尽本BC的业务边界——正面清单覆盖本BC承接的所有 Business Epic 涉及的业务范围；负面清单至少覆盖与本BC职责最容易混淆的相邻BC业务范围。

### 2.2.5 推导逻辑

+   本章各节的编写顺序：
    -   第一步：完成 2.1 上游承接验收 → 确认输入完整性，识别假设
    -   第二步：完成 2.2 BC基本信息 → 建立BC标识基线
    -   第三步：完成 2.3 BC定位与核心价值 + 2.4 业务边界 → 明确职责和范围
    -   第四步：完成 2.5 BC间协作关系 → 明确外部依赖
    -   第五步：完成 2.6 Enabler Feature 约束 → 明确架构约束
    -   第六步：完成 2.7 当前版本范围 → 确定本文档的分析范围

+   2.1 的验收结论直接影响后续各节：缺失项产生的假设会在 2.3~2.7 中被引用，因此 2.1 应先于其他节完成。

## 2.3 第3章 用户角色

### 2.3.1 章节目的

+   本章从本BC的视角提取和细化用户角色，回答"谁使用这个BC"。
+   用户角色承接阶段2宏观需求的角色线分析（CL0利益相关方→CL1利益相关方→CL2用户角色），本章提取与本BC直接相关的用户角色并在BC语境下补充细节。
+   角色定义在阶段2中已建立，本章引用核心定义并在BC维度下细化，不重新定义角色。
+   本章核心产出为：本BC用户角色清单（含角色在本BC的具体职责和场景）和角色与 Business Epic 的关联。角色清单为第4章场景细化和第5章 User Story 编写提供"作为{角色}"的输入。

### 2.3.2 章节结构

+   第3章结构与内容要点如下表所示。

    | 编号  | 标题          | 内容要点                                                                                     | 内容模型        |
    | ----- | ------------- | -------------------------------------------------------------------------------------------- | --------------- |
    | **3** | **用户角色**  |                                                                                              |                 |
    | 3.1   | 角色提取      | 从阶段2角色线提取与本BC相关的用户角色，确认角色覆盖完整性                                    | 角色提取表      |
    | 3.2   | 角色定义      | 按角色分设子节，每个角色的BC级定义（编号、名称、核心目标、在本BC的职责、典型痛点、交互频率） | 角色定义模型    |
    | 3.3   | 角色-Epic关联 | 用户角色与本BC承接的 Business Epic 的关联表                                                  | 角色-Epic关联表 |

    +   表14 第3章结构与内容要点

### 2.3.3 内容模型

#### 角色提取表

+   输出为角色提取表 + 覆盖度验证结论（1~2 句）。

    | 列名           | 必填 | 说明                                           |
    | -------------- | ---- | ---------------------------------------------- |
    | 角色编号       | 是   | 沿用阶段2宏观需求中的CL2角色编号               |
    | 角色名称       | 是   | 沿用阶段2定义的角色名称                        |
    | 所属利益相关方 | 是   | 该角色所属的CL0/CL1层级（引用阶段2）           |
    | 与本BC的关系   | 是   | 枚举值：直接使用者 / 间接使用者 / 系统集成方   |
    | 提取依据       | 是   | 引用阶段2中角色与Epic/场景的关联来源（章节号） |

    +   表15 角色提取表列定义

+   覆盖度验证：确认本BC承接的所有 Business Epic 至少有一个角色关联，无角色覆盖的 Epic 应标注并说明原因。

#### 角色定义模型

+   按角色分设子节（`### 3.2.1 {角色名称}`、`### 3.2.2 {角色名称}`），每个角色输出一张角色定义表（字段 | 内容 两列）。

+   每个角色的必填定义项：

    | 定义项       | 填写要求                                                              |
    | ------------ | --------------------------------------------------------------------- |
    | 角色编号     | 沿用阶段2 CL2角色编号                                                 |
    | 角色名称     | 沿用阶段2定义                                                         |
    | 核心目标     | 引用阶段2定义，如有BC级细化则补充                                     |
    | 在本BC的职责 | BC级新增内容：该角色在本BC中具体负责什么（1~3 条）                    |
    | 典型操作场景 | BC级新增内容：该角色在本BC中的典型操作场景名称列表，关联第4章场景编号 |
    | 交互频率     | BC级新增内容：枚举值——高频（日常）/ 中频（周级）/ 低频（月级或更低）  |
    | 典型痛点     | 引用阶段2定义，筛选与本BC相关的痛点                                   |

    +   表16 角色必填定义项

+   "核心目标"和"典型痛点"引用阶段2原始定义，"在本BC的职责""典型操作场景""交互频率"为本章BC级新增内容。

+   示例：

    | 字段         | 内容                                                        |
    | ------------ | ----------------------------------------------------------- |
    | 角色编号     | CL2-03                                                      |
    | 角色名称     | 平台管理员                                                  |
    | 核心目标     | 确保平台租户的正常运营和合规管理（引用阶段2 5.3节）         |
    | 在本BC的职责 | 审批租户开通/变更申请；监控租户资源使用；处理租户异常       |
    | 典型操作场景 | SC-BC11-003 审批租户申请；SC-BC11-007 监控租户资源          |
    | 交互频率     | 高频（日常）                                                |
    | 典型痛点     | 缺乏统一的审批工作台，需在多个系统间切换（引用阶段2 5.3节） |

    +   表17 角色定义示例

#### 角色-Epic关联表

+   输出为关联矩阵表，列定义：

    | 列名     | 必填 | 说明                                                |
    | -------- | ---- | --------------------------------------------------- |
    | 角色编号 | 是   | CL2角色编号                                         |
    | 角色名称 | 是   | 角色名称                                            |
    | 关联Epic | 是   | 本BC承接的 Business Epic 编号列表                   |
    | 关联关系 | 是   | 枚举值：主要使用者 / 次要使用者 / 审批者 / 被通知者 |

    +   表18 角色-Epic关联表列定义

+   每个 Business Epic 至少有一个"主要使用者"角色；每个角色至少关联一个 Epic（否则质疑该角色是否属于本BC）。

### 2.3.4 粒度标准

+   角色粒度判断：

    | 判断维度     | 合并为同一角色           | 拆分为不同角色                         |
    | ------------ | ------------------------ | -------------------------------------- |
    | 业务目标     | 目标一致，仅操作权限不同 | 目标不同，关注的业务价值不同           |
    | 操作场景     | 参与的场景完全重叠       | 参与的场景有显著差异（超过50%不重叠）  |
    | 验收标准影响 | AC描述中无需区分         | AC描述中需按角色分别定义不同的验收条件 |

    +   表19 角色粒度判断标准

+   当阶段2定义的角色粒度过粗时，可在本章提出角色细分建议，标注"建议细分，待阶段2确认"。

### 2.3.5 约束与规则

+   角色编号沿用阶段2 CL2编号，不在本章新建编号体系。如需BC级细分角色，使用子编号格式 `{CL2编号}-{子序号}`（如 `CL2-03-A`），并标注"BC级细分，待阶段2确认"。
+   "在本BC的职责"应具体到可验证的行为描述（如"审批租户开通申请"），不应使用抽象描述（如"管理相关业务"）。
+   "典型操作场景"应引用第4章场景编号（如"SC-BC11-001 提交试用申请"），在第4章完成前可使用暂定名称并标注"待第4章确认"。
+   角色-Epic关联表应覆盖第2章 2.7节版本范围内的所有 Business Epic。

## 2.4 第4章 业务场景

### 2.4.1 章节目的

+   本章将宏观需求中的业务活动（PL2流程节点）在本BC范围内细化为具体的操作场景，回答"用户在这个BC里做什么"。
+   场景细化是从宏观需求的"业务活动级"到详细需求的"操作级"的桥梁——宏观需求描述"做什么"，本章描述"怎么做"。
+   每个场景应明确触发条件、前置条件、主流程、分支流程、异常流程和后置条件。
+   本章核心产出为：BC级操作场景清单（含场景定义和流程描述）和场景与 Business Epic / 业务活动的映射关系。场景清单为第5章 Feature 识别和 User Story 编写提供输入。

### 2.4.2 章节结构

+   第4章结构与内容要点如下表所示。

    | 编号  | 标题               | 内容要点                                                                                                        | 内容模型             |
    | ----- | ------------------ | --------------------------------------------------------------------------------------------------------------- | -------------------- |
    | **4** | **业务场景**       |                                                                                                                 |                      |
    | 4.1   | 场景识别与细化方法 | 从宏观需求业务活动到BC级操作场景的细化方法                                                                      | 场景细化步骤表       |
    | 4.2   | 场景定义           | 按场景分设子节，每个场景的完整定义（编号、名称、触发条件、前置/后置条件、主/分支/异常流程、参与角色、业务价值） | 场景定义模型         |
    | 4.3   | 场景-Epic-活动映射 | 场景与 Business Epic 和业务活动（PL2流程节点）的映射表，验证覆盖完整性                                          | 场景-Epic-活动映射表 |

    +   表20 第4章结构与内容要点

### 2.4.3 内容模型

#### 场景细化步骤表

+   输出为 1~2 段方法说明 + 细化步骤表。

    | 列名     | 必填 | 说明                                              |
    | -------- | ---- | ------------------------------------------------- |
    | 步骤序号 | 是   | 细化步骤编号（1, 2, 3...）                        |
    | 步骤名称 | 是   | 步骤简称                                          |
    | 步骤说明 | 是   | 该步骤的具体操作和产出                            |
    | 输入     | 是   | 该步骤所需的输入来源（如"阶段2 PL2流程节点清单"） |

    +   表21 场景细化步骤表列定义

+   细化步骤应覆盖：提取本BC相关的PL2流程节点 → 识别每个流程节点的操作场景 → 细化场景流程（主/分支/异常）→ 验证场景覆盖度。

#### 场景定义模型

+   按场景分设子节（`### 4.2.1 {场景名称}`），每个场景输出一张场景定义表 + 流程描述。

+   每个场景的必填定义项：

    | 定义项   | 填写要求                                                       |
    | -------- | -------------------------------------------------------------- |
    | 场景编号 | 格式 SC-{BC编号}-{三位序号}（如 SC-BC11-001）                  |
    | 场景名称 | 动宾结构短语（如"提交试用申请""审批租户开通"）                 |
    | 来源活动 | 阶段2 PL2流程节点编号和名称                                    |
    | 触发条件 | 触发该场景的事件或前提（如"用户点击'申请试用'按钮"）           |
    | 前置条件 | 场景开始前必须满足的系统状态（如"用户已完成注册并登录"）       |
    | 参与角色 | 角色编号列表，引用第3章                                        |
    | 业务价值 | 一句话描述该场景为用户带来的价值                               |
    | 后置条件 | 场景正常完成后的系统状态（如"申请记录已创建，状态为'待审批'"） |
    | 关联Epic | 本场景支撑的 Business Epic 编号                                |

    +   表22 场景必填定义项

+   流程描述紧跟场景定义表之后，分三部分输出：

    | 流程类型 | 输出格式                 | 说明                                   |
    | -------- | ------------------------ | -------------------------------------- |
    | 主流程   | 编号步骤列表（1. 2. 3.） | 正常情况下的完整操作步骤，每步一个动作 |
    | 分支流程 | 编号步骤列表             | 可选路径，标注从主流程哪一步分支       |
    | 异常流程 | 编号步骤列表             | 异常情况处理，标注触发条件和处理结果   |

    +   表23 流程描述格式

+   流程步骤使用编号列表（`-` 标记），每步格式：`{步骤序号}. {操作主体}{动作}{对象}（{约束或说明}）`

+   示例（场景定义表）：

    | 字段     | 内容                                               |
    | -------- | -------------------------------------------------- |
    | 场景编号 | SC-BC11-001                                        |
    | 场景名称 | 提交试用申请                                       |
    | 来源活动 | PL2-TL-01 试用申请受理                             |
    | 触发条件 | 用户在官网点击"申请试用"按钮                       |
    | 前置条件 | 无（匿名用户可操作）                               |
    | 参与角色 | CL2-01 企业用户                                    |
    | 业务价值 | 企业用户能便捷地申请产品试用，降低产品体验门槛     |
    | 后置条件 | 试用申请记录已创建，状态为"待审批"，申请编号已生成 |
    | 关联Epic | EP-TL 租户生命周期                                 |

    +   表24 场景定义示例

#### 场景-Epic-活动映射表

+   输出为映射表 + 覆盖度验证结论（1~3 句）。

    | 列名     | 必填 | 说明                               |
    | -------- | ---- | ---------------------------------- |
    | 场景编号 | 是   | 本章定义的场景编号                 |
    | 场景名称 | 是   | 场景名称                           |
    | 关联Epic | 是   | Business Epic 编号                 |
    | 来源活动 | 是   | 阶段2 PL2流程节点编号              |
    | 覆盖状态 | 是   | 枚举值：已覆盖 / 部分覆盖 / 未覆盖 |

    +   表25 场景-Epic-活动映射表列定义

### 2.4.4 粒度标准

+   场景粒度判断：

    | 判断维度      | 粒度合适                               | 粒度过粗（应拆分）            | 粒度过细（应合并）                    |
    | ------------- | -------------------------------------- | ----------------------------- | ------------------------------------- |
    | 操作步骤数    | 主流程 3~10 步                         | 主流程超过 15 步              | 主流程少于 2 步                       |
    | 参与角色      | 1~2 个角色                             | 3 个以上角色交替操作          | —                                     |
    | 触发条件      | 1 个明确触发事件                       | 多个不同触发事件混合          | —                                     |
    | 业务完整性    | 从触发到后置条件构成一个完整的业务闭环 | 包含多个独立的业务闭环        | 不构成完整闭环，是另一场景的子步骤    |
    | 与Feature关系 | 1 个场景对应 1~3 个 Feature            | 1 个场景对应 5 个以上 Feature | 多个场景共享同一个 Feature 的同一部分 |

    +   表26 场景粒度判断标准

+   场景拆分信号：主流程中出现明确的"等待外部响应"节点（如"等待审批结果"）→ 应在等待点拆分为两个场景。

### 2.4.5 约束与规则

+   场景编号格式：SC-{BC编号}-{三位序号}，序号从 001 起连续编排，不跳号。
+   场景名称使用动宾结构（如"提交试用申请"），不使用名词短语（如"试用申请"）。
+   触发条件与前置条件的区分：触发条件是引发场景启动的事件；前置条件是场景启动前必须已满足的状态。
+   主流程每步应只包含一个动作。分支流程应标注分支点："从主流程第 N 步分支：当{条件}时，{操作}"。
+   异常流程应标注触发条件和处理结果："当{异常条件}时 → {处理动作} → {最终状态}"。
+   参与角色应引用第3章角色编号，不在本章新建角色。

## 2.5 第5章 需求分解

### 2.5.1 章节目的

+   本章将 Business Epic 和 Capability 分解为可交付的 Feature 和 User Story，为每个 Story 定义可测试的验收标准，回答"具体要做什么"。
+   需求分解遵循 INVEST 原则，每个 User Story 应独立可交付、有价值、可估算、规模适当、可测试。
+   本章核心产出为：Feature 清单、User Story 清单（含验收标准）和需求层级总览。Feature 清单和 User Story 清单是阶段5的主体交付物，为阶段6 BC总体设计和迭代计划提供输入。

### 2.5.2 章节结构

+   第5章结构与内容要点如下表所示。

    | 编号  | 标题            | 内容要点                                                              | 内容模型           |
    | ----- | --------------- | --------------------------------------------------------------------- | ------------------ |
    | **5** | **需求分解**    |                                                                       |                    |
    | 5.1   | 分解方法与原则  | 需求分解步骤说明和 INVEST 原则速查表                                  | INVEST原则速查表   |
    | 5.2   | 需求层级总览    | Epic → Feature → Story → AC 的完整树形结构总览                        | 需求层级表         |
    | 5.3   | Capability 拆分 | (宜) 跨BC Capability 的拆分说明（仅在本BC承接跨BC Capability 时编写） | Capability拆分表   |
    | 5.4   | Feature 定义    | 按 Epic 分组，逐个 Feature 的完整定义                                 | Feature定义模型    |
    | 5.5   | User Story 定义 | 按 Feature 分组，逐个 Story 的完整定义和验收标准                      | User Story定义模型 |

    +   表27 第5章结构与内容要点

### 2.5.3 内容模型

#### INVEST原则速查表

+   分解步骤概要：

    | 步骤 | 输入                       | 产出                     | 判断依据                                        |
    | ---- | -------------------------- | ------------------------ | ----------------------------------------------- |
    | 1    | Business Epic / Capability | Feature 清单             | 每个 Feature 可在单个PI内独立交付               |
    | 2    | Feature                    | User Story 清单          | 每个 Story 满足 INVEST 原则，可在单个迭代内完成 |
    | 3    | User Story                 | Acceptance Criteria 清单 | 每条 AC 可测试、无歧义                          |

    +   表28 需求分解步骤概要

+   INVEST 原则速查表：

    | 原则 | 英文        | 检查问题                                 | 不满足时的处理                     |
    | ---- | ----------- | ---------------------------------------- | ---------------------------------- |
    | I    | Independent | 能否独立交付，不依赖其他未完成的 Story？ | 拆除依赖或调整交付顺序             |
    | N    | Negotiable  | 实现方式是否可协商？                     | 移除技术实现细节，回归用户目标     |
    | V    | Valuable    | 对用户有明确价值吗？                     | 重写价值描述或合并至有价值的 Story |
    | E    | Estimable   | 能否估算工作量？                         | 补充信息或拆分至可估算粒度         |
    | S    | Small       | 能否在 1~3 天内完成？                    | 拆分为更小的 Story                 |
    | T    | Testable    | 有明确的验收标准吗？                     | 补充 AC                            |

    +   表29 INVEST 原则速查表

#### 需求层级表

+   展示 Epic → Feature → User Story → AC 的完整树形结构，9列：Epic | Feature | Story编号 | User Story | AC编号 | 验收标准 | 角色 | 优先级 | 规模。
+   填写规则：Epic 行仅填 Epic 列；Feature 行仅填 Feature 列；Story 行填 Story编号、User Story、角色、优先级、规模；AC 行仅填 AC编号（`.AC-{序号}`）和验收标准。
+   层级嵌套通过行顺序体现，不使用缩进。

#### Feature定义模型

+   按 Epic 分组，逐个 Feature 分设子节（`### 5.4.1 FT-{编号} {Feature名称}`），每个 Feature 输出一张定义表（字段 | 内容 两列）。

+   Feature 必填定义项：

    | 定义项      | 填写要求                                |
    | ----------- | --------------------------------------- |
    | Feature编号 | FT-{BC编号}-{两位序号}（如 FT-BC11-01） |
    | Feature名称 | 动宾结构或名词短语（如"试用申请管理"）  |
    | 所属Epic    | Business Epic 编号和名称                |
    | Feature描述 | 一句话描述功能范围                      |
    | 业务价值    | 一句话描述为用户带来的价值              |
    | 包含Story   | 该 Feature 下所有 User Story 编号列表   |
    | 关联场景    | 场景编号列表（引用第4章）               |
    | 目标版本    | P1~P6                                   |
    | 优先级      | P1~P6                                   |

    +   表30 Feature 必填定义项

+   示例：

    | 字段        | 内容                                               |
    | ----------- | -------------------------------------------------- |
    | Feature编号 | FT-BC11-01                                         |
    | Feature名称 | 试用申请管理                                       |
    | 所属Epic    | EP-TL 租户生命周期                                 |
    | Feature描述 | 提供企业用户从提交试用申请到查看申请状态的完整功能 |
    | 业务价值    | 降低产品体验门槛，让企业用户便捷地申请和跟踪试用   |
    | 包含Story   | US-BC11-001, US-BC11-002                           |
    | 关联场景    | SC-BC11-001 提交试用申请, SC-BC11-002 查看申请状态 |
    | 目标版本    | P1                                                 |
    | 优先级      | P1                                                 |

    +   表31 Feature 定义示例

#### User Story定义模型

+   按 Feature 分组，逐个 Story 分设子节（`### 5.5.x US-{编号} {Story名称}`），每个 Story 输出定义表 + AC 表。

+   User Story 必填定义项：

    | 定义项      | 填写要求                                               |
    | ----------- | ------------------------------------------------------ |
    | Story编号   | US-{BC编号}-{三位序号}（如 US-BC11-001）               |
    | Story名称   | 动宾结构短语（如"提交试用申请"）                       |
    | 所属Feature | Feature 编号                                           |
    | 用户故事    | "作为{角色}，我想要{做什么}，以便{获得什么价值}"       |
    | 角色        | 角色编号和名称（引用第3章）                            |
    | 关联场景    | 场景编号列表（引用第4章）                              |
    | 关联规则    | 业务规则编号列表（引用第6章），第6章完成前标注"待确认" |
    | 优先级      | P1~P6                                                  |
    | 规模估算    | XS/S/M/L/XL                                            |

    +   表32 User Story 必填定义项

+   AC 表紧跟 Story 定义表之后：

    | 列名     | 必填 | 说明                                                        |
    | -------- | ---- | ----------------------------------------------------------- |
    | AC编号   | 是   | 格式 AC-{Story序号}-{两位序号}（如 AC-001-01）              |
    | 验收标准 | 是   | 格式："能{动作}{对象}（{约束条件}）"                        |
    | AC类型   | 是   | 枚举值：功能型 / 数据型 / 界面型 / 流程型 / 规则型 / 性能型 |

    +   表33 验收标准表列定义

+   示例（AC表）：

    | AC编号    | 验收标准                          | AC类型 |
    | --------- | --------------------------------- | ------ |
    | AC-001-01 | 能填写企业名称（必填，2~100字符） | 数据型 |
    | AC-001-02 | 能选择所属行业（必填，下拉选择）  | 功能型 |
    | AC-001-03 | 能提交申请后查看申请编号          | 界面型 |
    | AC-001-04 | 能在提交成功后收到确认邮件        | 流程型 |

    +   表34 验收标准示例

### 2.5.4 粒度标准

+   Feature 粒度判断：

    | 判断维度   | 粒度合适            | 粒度过粗（应拆分）                  | 粒度过细（应合并）   |
    | ---------- | ------------------- | ----------------------------------- | -------------------- |
    | 交付独立性 | 可独立部署和发布    | 必须与其他 Feature 联合发布才有意义 | —                    |
    | Story 数量 | 3~10 个 Story       | 超过 15 个 Story                    | 仅 1~2 个 Story      |
    | 迭代容量   | 可在 1 个 PI 内交付 | 需跨多个 PI                         | 工作量不足 1 个迭代  |
    | 用户可感知 | 用户可感知功能变化  | —                                   | 用户无法感知独立价值 |

    +   表35 Feature 粒度判断标准

+   User Story 粒度判断：

    | 判断维度 | 粒度合适 | 粒度过粗（应拆分）        | 粒度过细（应合并）     |
    | -------- | -------- | ------------------------- | ---------------------- |
    | 完成时间 | 1~3 天   | 超过 1 周                 | 少于 2 小时            |
    | AC 数量  | 3~10 条  | 超过 15 条                | 仅 1 条                |
    | 角色数量 | 1 个角色 | 涉及 3 个以上角色交替操作 | —                      |
    | INVEST   | 全部满足 | I 或 S 不满足             | V 不满足（无独立价值） |
    | 规模估算 | XS~L     | XL                        | —                      |

    +   表36 User Story 粒度判断标准

+   AC 粒度判断：每条 AC 描述一个独立的验收点。"能填写企业名称和所属行业" → 拆为两条 AC。

### 2.5.5 约束与规则

+   编号格式汇总：

    | 条目类型 | 编号格式                  | 示例        |
    | -------- | ------------------------- | ----------- |
    | Feature  | FT-{BC编号}-{两位序号}    | FT-BC11-01  |
    | Story    | US-{BC编号}-{三位序号}    | US-BC11-001 |
    | AC       | AC-{Story序号}-{两位序号} | AC-001-01   |

    +   表37 编号格式汇总

+   User Story 三段式格式约束："作为"后接角色名称（非编号）；"我想要"后接用户视角的操作描述，不含技术实现细节；"以便"后接业务价值描述。
+   AC 使用"能{动作}{对象}（{约束条件}）"格式，动作使用用户视角动词（填写、选择、查看、上传、提交、导出等），不使用系统视角动词（调用、存储、渲染等）。
+   Story 与场景的关系：每个 Story 至少关联一个场景；每个场景至少被一个 Story 覆盖。
+   XL 级 Story 禁止保留，应拆分为多个 M 或 L 级 Story 后再录入。
+   优先级继承规则：Story 默认继承所属 Epic 的优先级；同一 Feature 下的 Story 优先级不应跨越两个以上等级。

## 2.6 第6章 业务规则汇总

### 2.6.1 章节目的

+   本章汇总本BC所有业务规则，回答"业务逻辑有哪些约束和校验"。
+   业务规则独立于 User Story 集中管理，便于跨Story复用、统一测试和维护。每条业务规则应标注关联的 User Story，建立规则到Story的双向追溯。
+   本章核心产出为：业务规则清单（含定义、类型、关联Story、触发时机和违规处理）。业务规则清单为阶段6 BC总体设计中的领域逻辑设计提供输入。

### 2.6.2 章节结构

+   第6章结构与内容要点如下表所示。

    | 编号  | 标题             | 内容要点                                                                            | 内容模型           |
    | ----- | ---------------- | ----------------------------------------------------------------------------------- | ------------------ |
    | **6** | **业务规则汇总** |                                                                                     |                    |
    | 6.1   | 规则分类体系     | 业务规则分类定义（校验规则、计算规则、流程规则、权限规则等）                        | 规则分类定义表     |
    | 6.2   | 业务规则清单     | 按分类汇总所有业务规则（规则编号、名称、描述、类型、关联Story、触发时机、违规处理） | 业务规则清单模型   |
    | 6.3   | 规则-Story映射   | 业务规则与 User Story 的双向映射表，验证规则覆盖完整性                              | 规则-Story映射模型 |

    +   表38 第6章结构与内容要点

### 2.6.3 内容模型

#### 规则分类定义表

+   标准分类体系（可根据BC实际情况增减）：

    | 分类编码 | 分类名称 | 定义                         |
    | -------- | -------- | ---------------------------- |
    | VAL      | 校验规则 | 数据合法性和完整性校验       |
    | CAL      | 计算规则 | 数值计算、公式推导、自动赋值 |
    | FLW      | 流程规则 | 流程流转条件、状态变迁约束   |
    | AUTH     | 权限规则 | 操作权限、数据可见性约束     |
    | LMT      | 限额规则 | 数量上限、频次限制、配额约束 |
    | NTF      | 通知规则 | 触发通知/提醒的条件和方式    |

    +   表39 标准规则分类体系

#### 业务规则清单模型

+   按分类分组输出，每个分类下为一张规则清单表，列定义：

    | 列名      | 必填 | 说明                                                         |
    | --------- | ---- | ------------------------------------------------------------ |
    | 规则编号  | 是   | 格式 BR-{BC编号}-{三位序号}（如 BR-BC11-001）                |
    | 规则名称  | 是   | 规则简称（动宾结构，如"试用申请防重复"）                     |
    | 规则描述  | 是   | 完整的规则逻辑描述，应无歧义、可直接转化为测试用例           |
    | 规则类型  | 是   | 引用 6.1 节分类编码                                          |
    | 关联Story | 是   | 涉及该规则的 User Story 编号列表（引用第5章）                |
    | 触发时机  | 是   | 触发该规则校验/执行的具体时机（如"表单提交时""状态变更时"）  |
    | 违规处理  | 是   | 违反该规则时的处理方式（如"阻断操作并提示""记录日志并告警"） |

    +   表40 业务规则清单表列定义

+   示例：

    | 规则编号    | 规则名称       | 规则描述                                                                            | 规则类型 | 关联Story   | 触发时机   | 违规处理                             |
    | ----------- | -------------- | ----------------------------------------------------------------------------------- | -------- | ----------- | ---------- | ------------------------------------ |
    | BR-BC11-001 | 试用申请防重复 | 联系人邮箱在提交试用申请时，若该邮箱7天内已有试用申请记录，则阻断提交；否则允许提交 | VAL      | US-BC11-001 | 表单提交时 | 阻断操作，提示"该邮箱近期已提交申请" |

    +   表41 业务规则清单示例

#### 规则-Story映射模型

+   输出为规则→Story 映射表和 Story→规则 映射表。
+   覆盖度验证：每条业务规则至少关联一个 Story；第5章 Story 定义中"关联规则"字段与本表一致。

### 2.6.4 约束与规则

+   规则编号格式：BR-{BC编号}-{三位序号}，序号从 001 起连续编排，不跳号，不按分类分段编号。
+   规则描述应满足"可直接转化为测试用例"的标准，格式："{判断对象}在{触发时机}时，若{判断条件}，则{通过处理}；否则{违规处理}"。
+   触发时机应具体到用户操作或系统事件，不使用模糊表述（如"需要时""适当时候"）。
+   违规处理应明确处理方式：阻断型（阻止操作继续，向用户提示错误信息）、警告型（允许操作继续，展示警告提示）、静默型（不影响用户操作，系统后台记录日志）。
+   业务规则与 AC 的区分：业务规则是可跨 Story 复用的业务逻辑约束；AC 是特定 Story 的验收点。判断方法：该逻辑是否被多个 Story 引用？是 → 业务规则；否 → AC 内嵌。

## 2.7 第7章 非功能需求细化

### 2.7.1 章节目的

+   本章将上游全局级非功能需求基线细化为本BC的具体可测试指标，回答"这个BC应以什么标准运行"。
+   非功能需求来源：阶段2非功能需求框架（全局级基线目标）、阶段4 Enabler Feature 约束（架构级要求）和本BC特有的质量要求。
+   细化原则：全局基线提供下限，Enabler Feature 约束不可放宽，BC特有需求按业务重要性补充。
+   每条非功能需求应量化为可测试指标，标注验收方式。BC间交互需求作为专节，明确本BC与其他BC的交互接口需求。
+   本章核心产出为：BC级非功能需求清单（含量化指标和验收方式）和BC间交互需求清单。

### 2.7.2 章节结构

+   第7章结构与内容要点如下表所示。

    | 编号  | 标题               | 内容要点                                                              | 内容模型             |
    | ----- | ------------------ | --------------------------------------------------------------------- | -------------------- |
    | **7** | **非功能需求细化** |                                                                       |                      |
    | 7.1   | 非功能需求来源     | 上游全局基线、Enabler Feature 约束和BC特有需求的来源说明和细化原则    | 非功能需求来源汇总表 |
    | 7.2   | 性能需求           | 响应时间、吞吐量、并发数等性能指标（含具体数值和验收方式）            | 性能需求表           |
    | 7.3   | 安全需求           | 认证、授权、数据安全等安全要求（承接阶段4安全架构，细化到BC级）       | 安全需求表           |
    | 7.4   | 可用性需求         | 可用性目标、降级策略等（含具体数值和验收方式）                        | 可用性需求表         |
    | 7.5   | 其他质量属性       | (宜) 可维护性、可扩展性等其他质量属性要求                             |                      |
    | 7.6   | BC间交互需求       | 本BC与其他BC的交互接口需求（接口名称、方向、协议、数据格式、SLA要求） | BC间交互需求表       |
    | 7.7   | 数据需求           | 本BC的数据存储、数据迁移、数据一致性等数据层面需求                    | 数据需求表           |

    +   表42 第7章结构与内容要点

### 2.7.3 内容模型

#### 非功能需求来源汇总表

+   来源汇总表列定义：

    | 列名     | 必填 | 说明                                             |
    | -------- | ---- | ------------------------------------------------ |
    | 来源     | 是   | 枚举值：全局基线 / Enabler Feature 约束 / BC特有 |
    | 来源文档 | 是   | 上游阶段文档引用（阶段编号 + 章节号）            |
    | 适用范围 | 是   | 该来源覆盖的非功能需求类别（性能/安全/可用性等） |
    | 细化原则 | 是   | 枚举值：继承 / 收紧 / 补充                       |

    +   表43 非功能需求来源汇总表列定义

#### 性能需求表

+   性能需求表列定义：

    | 列名     | 必填 | 说明                                              |
    | -------- | ---- | ------------------------------------------------- |
    | 需求编号 | 是   | 格式 NFR-{BC编号}-P{两位序号}（如 NFR-BC11-P01）  |
    | 需求项   | 是   | 性能指标名称（如"列表页响应时间""并发用户数"）    |
    | 指标值   | 是   | 量化指标，含单位和阈值（如"< 2s""支持 200 并发"） |
    | 来源     | 是   | 枚举值：全局基线 / Enabler Feature / BC特有       |
    | 测试场景 | 是   | 验收测试的具体场景描述（如"100条数据列表查询"）   |
    | 验收方式 | 是   | 枚举值：性能测试 / 压力测试 / 基准测试            |
    | 优先级   | 是   | P1~P6                                             |

    +   表44 性能需求表列定义

+   示例（单行）：

    | 需求编号     | 需求项         | 指标值      | 来源     | 测试场景              | 验收方式 | 优先级 |
    | ------------ | -------------- | ----------- | -------- | --------------------- | -------- | ------ |
    | NFR-BC11-P01 | 列表页响应时间 | < 2s（P95） | 全局基线 | 100条数据、50并发查询 | 性能测试 | P1     |

    +   表45 性能需求示例

#### BC间交互需求表

+   BC间交互需求表列定义：

    | 列名     | 必填 | 说明                                              |
    | -------- | ---- | ------------------------------------------------- |
    | 接口编号 | 是   | 格式 ITF-{BC编号}-{两位序号}（如 ITF-BC11-01）    |
    | 接口名称 | 是   | 接口简称（如"租户开通通知""计费信息查询"）        |
    | 方向     | 是   | 枚举值：本BC调出 / 本BC调入                       |
    | 对端BC   | 是   | 对端BC编号和名称                                  |
    | 协议     | 是   | 枚举值：同步REST / 同步gRPC / 异步事件 / 异步消息 |
    | 数据格式 | 是   | 主要数据结构概述（关键字段列表）                  |
    | SLA要求  | 是   | 响应时间、可用性、重试策略等                      |
    | 来源     | 是   | 引用阶段3上下文映射或阶段4集成架构的章节号        |

    +   表46 BC间交互需求表列定义

+   BC间交互需求应与第2章 2.5节的协作关系一致——2.5节定义的每个协作BC，应在 7.6节有对应的交互需求条目。

### 2.7.4 约束与规则

+   编号体系汇总：

    | 需求类别     | 编号前缀             | 示例         |
    | ------------ | -------------------- | ------------ |
    | 性能需求     | NFR-{BC编号}-P{序号} | NFR-BC11-P01 |
    | 安全需求     | NFR-{BC编号}-S{序号} | NFR-BC11-S01 |
    | 可用性需求   | NFR-{BC编号}-A{序号} | NFR-BC11-A01 |
    | 其他质量属性 | NFR-{BC编号}-Q{序号} | NFR-BC11-Q01 |
    | 数据需求     | NFR-{BC编号}-D{序号} | NFR-BC11-D01 |
    | BC间交互     | ITF-{BC编号}-{序号}  | ITF-BC11-01  |

    +   表47 非功能需求编号体系

+   量化要求：每条非功能需求应包含可量化的指标值，不接受定性描述（如"响应应足够快"）。无法量化时，应明确定性标准和验收判断方式。
+   Enabler Feature 约束的处理：第2章 2.6节列出的 Enabler Feature 约束中涉及非功能性要求的，应在本章对应类别中展开为具体指标，指标值不得低于 Enabler Feature 定义的基线。

## 2.8 第8章 需求追溯矩阵

### 2.8.1 章节目的

+   本章建立本BC从 Business Epic 到 User Story 的完整追溯链路，回答"链路是否完整、需求是否遗漏"。
+   追溯链路为：Business Epic → Capability（如有）→ Feature → User Story → AC，同时标注 Enabler Feature 约束的映射。
+   覆盖度验证应检查：所有承接的 Business Epic 是否都有 Feature 覆盖、所有 Feature 是否都有 User Story 覆盖、所有场景是否都有 Story 覆盖、所有 Enabler Feature 约束是否都在非功能需求中落实。
+   本章核心产出为：正向追溯矩阵、反向追溯矩阵和覆盖度验证结论。追溯矩阵的完整性直接体现《N00-软件研发过程规范》附录C定义的正向追溯、反向追溯和变更影响分析要求。

### 2.8.2 章节结构

+   第8章结构与内容要点如下表所示。

    | 编号  | 标题                    | 内容要点                                                                     | 内容模型         |
    | ----- | ----------------------- | ---------------------------------------------------------------------------- | ---------------- |
    | **8** | **需求追溯矩阵**        |                                                                              |                  |
    | 8.1   | 追溯链路说明            | 本BC追溯链路结构（Business Epic → Capability → Feature → User Story → AC）   | 追溯链路结构表   |
    | 8.2   | 正向追溯矩阵            | Epic → Feature → Story 的正向分解追溯表                                      | 正向追溯表       |
    | 8.3   | 反向追溯矩阵            | Story → Feature → Epic 的反向回溯表                                          | 反向追溯表       |
    | 8.4   | 场景覆盖度验证          | 验证所有场景（第4章）是否都有 User Story 覆盖                                | 场景覆盖度验证表 |
    | 8.5   | Enabler Feature约束落实 | 验证所有 Enabler Feature 约束（第2章2.6节）是否都在非功能需求（第7章）中落实 | 约束落实验证表   |
    | 8.6   | 覆盖度结论              | 各维度覆盖度汇总和完整性结论                                                 | 覆盖度汇总表     |

    +   表48 第8章结构与内容要点

### 2.8.3 内容模型

#### 追溯链路结构表

+   追溯链路结构：

    | 层级   | 条目类型            | 数据来源章节 | 编号格式              |
    | ------ | ------------------- | ------------ | --------------------- |
    | L0     | Business Epic       | 第2章 2.7节  | EP-* （阶段2定义）    |
    | L1     | Capability          | 第5章 5.3节  | 阶段3定义（如有）     |
    | L2     | Feature             | 第5章 5.4节  | FT-{BC编号}-{序号}    |
    | L3     | User Story          | 第5章 5.5节  | US-{BC编号}-{序号}    |
    | L4     | Acceptance Criteria | 第5章 5.5节  | AC-{Story序号}-{序号} |
    | 约束层 | Enabler Feature     | 第2章 2.6节  | EF-{BC编号}-{序号}    |

    +   表49 追溯链路结构

#### 正向追溯表

+   展示 Epic → Feature → Story 的分解链路，列定义：

    | 列名        | 必填 | 说明                        |
    | ----------- | ---- | --------------------------- |
    | Epic编号    | 是   | Business Epic 编号          |
    | Epic名称    | 是   | Business Epic 名称          |
    | Capability  | 否   | Capability 编号（无则留空） |
    | Feature编号 | 是   | Feature 编号                |
    | Feature名称 | 是   | Feature 名称                |
    | Story编号   | 是   | User Story 编号             |
    | Story名称   | 是   | User Story 名称             |
    | AC数量      | 是   | 该 Story 的 AC 条数         |

    +   表50 正向追溯表列定义

+   示例（部分行）：

    | Epic编号 | Epic名称     | Capability | Feature编号 | Feature名称  | Story编号   | Story名称    | AC数量 |
    | -------- | ------------ | ---------- | ----------- | ------------ | ----------- | ------------ | ------ |
    | EP-TL    | 租户生命周期 |            | FT-BC11-01  | 试用申请管理 | US-BC11-001 | 提交试用申请 | 10     |
    |          |              |            |             |              | US-BC11-002 | 查看申请状态 | 5      |
    |          |              |            | FT-BC11-02  | 租户审批处理 | US-BC11-003 | 审批通过申请 | 6      |

    +   表51 正向追溯示例

#### 覆盖度汇总表

+   覆盖度汇总表列定义：

    | 列名     | 必填 | 说明                  |
    | -------- | ---- | --------------------- |
    | 验证维度 | 是   | 验证项名称            |
    | 总数     | 是   | 该维度的条目总数      |
    | 已覆盖   | 是   | 已覆盖/已落实的条目数 |
    | 覆盖率   | 是   | 百分比（已覆盖/总数） |
    | 结论     | 是   | 枚举值：通过 / 有缺口 |

    +   表52 覆盖度汇总表列定义

+   必须覆盖的验证维度及通过标准：

    | 验证维度                    | 通过标准 |
    | --------------------------- | -------- |
    | Epic → Feature 覆盖         | 100%     |
    | Feature → Story 覆盖        | 100%     |
    | 场景 → Story 覆盖           | 100%     |
    | Enabler Feature 约束 → 落实 | 100%     |

    +   表53 覆盖度验证维度及通过标准

### 2.8.4 约束与规则

+   数据一致性：追溯矩阵中的所有编号应与第2~7章的定义完全一致，不在本章新增或修改编号。
+   完整性要求：正向追溯覆盖第2章承接的每个 Business Epic；反向追溯覆盖第5章定义的每个 User Story；场景覆盖第4章定义的每个场景；约束落实覆盖第2章 2.6节的每条 Enabler Feature 约束。
+   覆盖率未达 100% 的维度，应在备注中说明处理方案（补充遗漏的 Feature/Story、记录为已知缺口、确认为不需要覆盖）。
+   追溯矩阵应在第2~7章全部完成后编写，作为全文档的完整性验证环节。

## 2.9 第9章 优先级与版本规划

### 2.9.1 章节目的

+   本章将 Feature 和 User Story 分配到具体的版本和迭代，回答"什么时候交付"。
+   版本分配应与阶段2宏观需求的版本规划（P1-P6）和阶段4系统设计的BC版本覆盖矩阵保持一致。
+   本章核心产出为：Feature/Story版本分配表、优先级分布统计和迭代规划概要。

### 2.9.2 章节结构

+   第9章结构与内容要点如下表所示。

    | 编号  | 标题                 | 内容要点                                                                        | 内容模型                |
    | ----- | -------------------- | ------------------------------------------------------------------------------- | ----------------------- |
    | **9** | **优先级与版本规划** |                                                                                 |                         |
    | 9.1   | 版本分配规则         | 版本分配原则（与上游版本规划的一致性要求、Feature/Story继承规则、依赖排序规则） | 版本定义表              |
    | 9.2   | 优先级分布           | 按版本统计Feature/Story数量分布                                                 | 版本维度统计表          |
    | 9.3   | 版本规划详情         | 按版本分设子节，每个版本的Feature/Story清单、迭代安排概要                       | 版本Feature/Story清单表 |
    | 9.4   | 规模估算汇总         | 各规模等级的Story数量统计，识别需拆分的XL级Story                                | 规模分布统计表          |

    +   表54 第9章结构与内容要点

### 2.9.3 内容模型

#### 版本定义表

+   版本定义：

    | 规划版本 | 版本定位 | Story特征                  |
    | -------- | -------- | -------------------------- |
    | P1       | MVP版本  | 核心必备，没有就不能用     |
    | P2       | 增强版本 | 重要功能，没有会很不方便   |
    | P3       | 完善版本 | 标准功能，有了更完善       |
    | P4       | 扩展版本 | 扩展功能，支持更多场景     |
    | P5       | 高级版本 | 高级功能，满足深度需求     |
    | P6       | 理想版本 | 远期功能，理想状态下的能力 |

    +   表55 版本定义

#### 版本维度统计表

+   列定义：版本 | Feature数量 | Story数量 | AC数量 | 占比。
+   分布合理性检查：P1 版本 Story 数量宜占总数的 20%~40%；P1+P2 宜占 50%~70%。

#### 规模等级工作量参考

+   规模等级工作量参考：

    | 规模等级 | 工作量范围 | 说明                 |
    | -------- | ---------- | -------------------- |
    | XS       | < 0.5天    | 简单修改、配置调整   |
    | S        | 0.5~1天    | 单一功能点           |
    | M        | 2~3天      | 标准用户故事         |
    | L        | 1周        | 复杂用户故事         |
    | XL       | 2周+       | 需拆分，不可直接交付 |

    +   表56 规模等级工作量参考

### 2.9.4 约束与规则

+   版本一致性：本章的版本分配应与第2章 2.7节当前版本范围一致，本章涉及的版本范围不得超出第2章定义的范围。
+   数据来源一致性：本章所有 Feature/Story 编号、优先级、规模估算应与第5章定义完全一致，本章不修改第5章的定义，仅按版本维度重新组织展示。
+   XL级Story处理：所有XL级Story应在本章给出拆分方案，拆分后的子Story应回写到第5章，并更新第8章追溯矩阵。
+   优先级与版本的一致性：P1优先级的Story应归入P1版本；P2优先级的Story应归入P1或P2版本。不一致时应说明原因。
+   依赖排序：存在依赖关系的Story，被依赖方应在同一版本或更早版本。

# 3 附录编写规则

+   BC详细需求规格说明书的附录分为两类：资料性附录（可选）和规范性附录（必选）。

## 3.1 附录A（资料性）术语速查

+   为读者提供BC详细需求相关术语的快速查询索引。术语的权威定义见第1章术语约定和《软件开发术语规范》，本附录的简要定义仅供快速参照。

    | 编号 | 标题               | 内容要点                                           | 内容模型 |
    | ---- | ------------------ | -------------------------------------------------- | -------- |
    | A.1  | 需求层级术语索引   | Feature / User Story / AC 等需求层级术语的简要定义 |          |
    | A.2  | 本文档特有术语索引 | 本文档特有术语的定义来源指引                       |          |

    +   表57 附录A结构与内容要点

## 3.2 附录B（资料性）评审检查清单

+   提供BC详细需求评审时的逐项检查表，便于人工评审。检查项覆盖 Epic覆盖度、场景覆盖度、Feature完整性、INVEST原则、AC可测试性、业务规则完整性、非功能需求细化度、追溯链完整性等维度。

    | 编号 | 标题         | 内容要点                                                     | 内容模型 |
    | ---- | ------------ | ------------------------------------------------------------ | -------- |
    | B.1  | 评审检查清单 | 按维度列出检查项、检查内容和通过标准                         |          |
    | B.2  | 常见问题     | (宜) Story粒度、AC数量、业务规则与AC区别等常见问题的处理指引 |          |

    +   表58 附录B结构与内容要点

## 3.3 附录C（规范性）修订记录

+   记录文档版本演进历史，供版本追溯和变更审计使用。

    | 编号 | 标题     | 内容要点                                                                                   | 内容模型 |
    | ---- | -------- | ------------------------------------------------------------------------------------------ | -------- |
    | C.1  | 修订记录 | 按版本逆序记录每次修订的版本号、日期、修订内容、修订人；首行即为当前版本，兼作版本信息索引 |          |

    +   表59 附录C结构与内容要点

# 附录A（资料性）术语表

+   需求层级术语（定义参见《软件开发术语规范》）：
    -   Business Epic、Capability、Feature、User Story、Acceptance Criteria（AC）、Business Rule（BR）

+   本规范专有术语：
    -   BC详细需求规格说明书：阶段5"BC详细需求"的正式输出物，每个BC对应一份，文档编号05-BC详细需求
    -   正面清单：本BC负责的业务范围清单，覆盖本BC承接的所有 Business Epic 涉及的业务范围
    -   负面清单：本BC不负责的业务范围清单，明确相邻BC的边界归属
    -   Enabler Feature 约束：上游阶段4系统设计中 Enabler Feature 对本BC的具体约束，对应约束编号 EF-{BC编号}-{序号}
    -   INVEST原则：User Story 质量评估原则，含 Independent、Negotiable、Valuable、Estimable、Small、Testable 六个维度

# 修订记录

| 版本 | 日期       | 修订内容                                   | 修订人 |
| ---- | ---------- | ------------------------------------------ | ------ |
| 0.10 | 2026-02-24 | 初始版本，合并大纲视图与各正文章节规范文档 | AI     |
