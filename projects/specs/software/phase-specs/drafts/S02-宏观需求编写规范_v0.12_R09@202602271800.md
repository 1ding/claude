# 1 目的和范围

+   文档编号:S02
+   文档名称:宏观需求编写规范
+   目的:规定宏观需求规格说明书的编写规则、内容要求与判断标准
+   范围:《N00-软件研发过程规范》阶段2"宏观需求分析"的输出物——宏观需求规格说明书(文档编号:02-宏观需求规格)的编写
+   管理要点:三线演绎方法论(活动线、角色线、实体线)、Epic推导与验证、章节结构表(四列表)、表达规范、追溯矩阵
+   文档密级:【商密二级】 -- 外发必追责。

# 2 宏观需求规格说明书结构要求

+   宏观需求规格说明书应采用以下标准章节结构:

    | 章节     | 标题                 | 必备/可选 | 说明                                                                                |
    | -------- | -------------------- | --------- | ----------------------------------------------------------------------------------- |
    | 第1章    | 概述                 | 必备      | 文档目的、分析框架总览、文档定位、术语约定、编号约定。编写规则见本规范第3.1节       |
    | 第2章    | 业务背景与目标       | 必备      | 业务目标引用、困境识别、成功标准、约束条件、假设与依赖。编写规则见本规范第3.2节     |
    | 第3章    | 业务价值生态         | 必备      | 业务生态系统、端到端流程识别、流程节点分解、业务域归类。编写规则见本规范第3.3节     |
    | 第4章    | 关键实体与生命周期   | 必备      | 核心实体识别与分类、实体关系、生命周期定义、实体与活动映射。编写规则见本规范第3.4节 |
    | 第5章    | 利益相关方与角色分析 | 必备      | 利益相关方识别、用户角色定义、角色与活动映射。编写规则见本规范第3.5节               |
    | 第6章    | 业务能力需求(Epic)   | 必备      | Epic推导、Epic定义、Epic串联验证、能力架构设计。编写规则见本规范第3.6节             |
    | 第7章    | 基础性需求           | 必备      | 基础性需求分类与定义。编写规则见本规范第3.7节                                       |
    | 第8章    | 非功能需求框架       | 必备      | 非功能需求分类与量化约束。编写规则见本规范第3.8节                                   |
    | 第9章    | 完整性验证           | 必备      | 活动覆盖度验证、实体覆盖度验证、角色覆盖度验证。编写规则见本规范第3.9节             |
    | 第10章   | 版本规划             | 必备      | Epic优先级排序、版本分配、版本路线图。编写规则见本规范第3.10节                      |
    | 第11章   | 追溯矩阵             | 必备      | 全链路追溯矩阵、分维度追溯矩阵。编写规则见本规范第3.11节                            |
    | 附录A    | 需求层级体系         | 必备      | Theme/Epic/Feature/Story层级关系说明。编写规则见本规范第4.1节                       |
    | 附录B    | 术语表               | 必备      | 三层术语体系:业界通用术语+天帷通用术语+文档专有术语                                  |
    | 附录C    | 文档说明             | 可选      | 文档定位、输入输出、关联规范、前提假设。编写规则见本规范第4.3节                     |
    | 修订记录 | 修订记录             | 必备      | 版本号、日期、修订内容、修订人                                                       |

    +   表 宏观需求规格说明书的标准章节结构

## 2.1 裁剪指引

+   宏观需求规格说明书定义了完整的分析框架（11章+附录），不同规模的产品项目可根据实际情况对分析深度和文档内容进行裁剪。

+   裁剪的核心原则:
    +   **追溯链完整性不可裁剪**:无论项目规模如何,目标→困境→活动→角色→Epic→版本的追溯链路应保持完整,这是宏观需求分析的核心价值。
    +   **分析深度可适配**:各章节的分析深度和表达规范字段可根据项目规模调整。
    +   **可迭代补充**:部分内容可在首版中标注为"待后续迭代补充",在后续版本中逐步完善。

+   不同规模产品的裁剪建议如下表所示。

    | 项目规模 | 判断参考                 | 建议分析深度                                    | 工作量量级参考 |
    | -------- | ------------------------ | ----------------------------------------------- | -------------- |
    | 大型     | Epic数量 >= 15,角色 >= 8 | 完整执行全部章节,所有字段应填写完整             | 3-5周          |
    | 中型     | Epic数量 5-15,角色 3-8   | 完整执行核心章节,可简化附录和验证章节的输出形式 | 1-3周          |
    | 小型     | Epic数量 < 5,角色 < 3    | 核心章节必做,部分章节可合并或简化               | 3-7天          |

    +   表 裁剪规模参考

+   各章节的裁剪适用性如下表所示。

    | 章节                   | 大型项目 | 中型项目 | 小型项目 | 裁剪说明                                                          |
    | ---------------------- | -------- | -------- | -------- | ----------------------------------------------------------------- |
    | 2 业务背景与目标       | 完整     | 完整     | 完整     | 不可裁剪,是分析起点                                               |
    | 3 业务价值生态         | 完整     | 完整     | 简化     | 小型项目可合并生态系统(3.1)和业务域划分(3.2),简化为单一业务活动表 |
    | 4 关键实体与生命周期   | 完整     | 完整     | 简化     | 小型项目可仅列出关键实体和核心状态流转,省略详细映射表             |
    | 5 利益相关方与角色分析 | 完整     | 完整     | 简化     | 小型项目可省略关键旅程触点(5.2.4)和详细的角色→活动映射(5.3)       |
    | 6 业务能力需求(Epic)   | 完整     | 完整     | 完整     | 不可裁剪,是核心产出                                               |
    | 7 基础性需求           | 完整     | 完整     | 简化     | 小型项目可按需裁减分类,仅列出实际涉及的基础性需求                 |
    | 8 非功能需求框架       | 完整     | 完整     | 简化     | 小型项目可仅定义性能、安全、可用性三项核心非功能需求              |
    | 9 完整性验证           | 完整     | 简化     | 简化     | 中小型项目可将验证结果合并到追溯矩阵中,不单独成章                 |
    | 10 版本规划            | 完整     | 完整     | 简化     | 小型项目可省略WSJF评估,采用MoSCoW快速排序                         |
    | 11 追溯矩阵            | 完整     | 完整     | 简化     | 小型项目可仅保留全链路追溯矩阵(11.7),省略分维度追溯               |

    +   表 各章节裁剪适用性

+   裁剪操作定义:上表中"完整"、"简化"的含义如下:
    +   **完整**:按本规范要求完整执行该章节,所有字段应填写,所有分析步骤应执行。
    +   **简化**:该章节仍应保留,但可采取以下一种或多种简化措施——省略标注为"可选"的字段、将多个子节合并为单一表格输出、省略独立的验证章节并将验证结论并入追溯矩阵。各章节允许的具体简化措施参见上表"裁剪说明"列。
    +   简化后仍应确保追溯链完整性(目标→困境→活动→角色→Epic→版本的链路不断裂)。

+   可迭代补充的内容:以下内容可在首版中标注为"待后续迭代补充",随项目进展逐步完善:
    +   关键旅程触点(5.2.4):可在Epic推导完成后补充。
    +   非功能需求量化约束(8.2):可在技术预研完成后补充精确数值。
    +   完整性验证(第9章):可在追溯矩阵建立后补充验证结论。
    +   WSJF评估(10.5):可在成本估算完成后补充评分。

+   裁剪决策应在项目启动时由产品经理与技术负责人共同确定,并在文档概述中记录裁剪方案。

# 3 正文章节编写规则

+   宏观需求规格说明书正文应包含11个章节,章节顺序固定,不应调整。
+   除正文外,说明书应包含附录。附录编写规则见第4章。
+   宏观需求分析遵循以下核心原则:

    | 原则         | 说明                                                                                                                                              |
    | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------- |
    | **可追溯**   | 每个需求都能追溯到业务目标和用户价值                                                                                                              |
    | **可验证**   | 每个需求都有明确的验收标准                                                                                                                        |
    | **角色驱动** | 三线演绎框架下,以角色线(CL2)的痛点与期望为主线推导Epic。当角色线推导结论与实体线/活动线验证结论冲突时,以业务目标对齐度裁决(详见3.6.3冲突调和规则) |
    | **两维验证** | 以业务活动(CL2)覆盖度和实体生命周期(CL2)覆盖度对Epic进行串联验证                                                                                  |
    | **层级分明** | 严格区分宏观需求与详细需求,避免层级混淆                                                                                                           |
    | **渐进明细** | 从Epic到Story逐步细化,避免一开始陷入细节                                                                                                          |
    | **关注分离** | 宏观需求关注"做什么",详细需求关注"怎么交付"                                                                                                       |

    +   表 需求分析核心原则

+   3.1–3.11节分别定义各章节的编写规范,每节包含以下层次:
    +   **章节综述**:说明本章在说明书中的定位与核心职责。
    +   **章节结构**:以四列表(编号、标题、内容要点、表达规范)定义章节结构。表中编号对应目标文档的章节编号。"表达规范"列指向本节的"表达规范"层(即3.x.3小节)或其他章节中定义的具体编写规范,无指向时留空。
    +   **表达规范**(如有):对章节结构中引用的表达规范做详细定义,包括规范列定义、分析方法论、粒度判断标准、ASCII图规范和编写示例。
+   部分章节在章节结构表前后设有编写规则,作为该章节的约束性要求。
+   内容要点中标注"(宜)"的为推荐包含项,非强制要求;标注"(必选)"的为必选项,不可省略;未标注的默认为必选项。
+   各类条目均采用《P01-软件开发编号规范》定义的**双轨制标识体系**——每个条目由语义ID(表达业务含义,用于文档索引和追溯)和短号(简洁易记,用于日常交流和快速检索)共同标识。语义ID一经分配不应变更,短号按递增顺序分配。首次引用宜同时标注语义ID和短号,后续引用可仅使用短号。各条目的具体编号格式在对应章节的表达规范中定义,总体规则参见《P01-软件开发编号规范》。

## 3.1 第1章 概述

### 3.1.1 章节综述

+   概述是说明书的导读章节,使读者快速了解文档的目的、框架和术语约定,建立阅读全文的认知基础。
+   本章不包含业务分析内容——所有分析内容从第2章开始。

### 3.1.2 章节结构

    | 编号 | 标题     | 内容要点                                                   | 表达规范         |
    | ---- | -------- | ---------------------------------------------------------- | ---------------- |
    | 1.1  | 文档目的 | 本说明书的编写目的和适用范围                               |                  |
    | 1.2  | 文档框架 | 宏观需求分析框架总览图                                     | 分析框架总览规范 |
    | 1.3  | 文档定位 | 本说明书在研发过程中的位置                                 |                  |
    | 1.4  | 术语约定 | 通用术语引用索引(引用《软件开发术语规范》)                 | 术语引用索引表   |
    |      |          | 本说明书特有术语定义                                       | 特有术语定义表   |
    |      |          | 术语关系说明(困境与痛点等)                                 |                  |
    | 1.5  | 编号约定 | 各类条目的双轨制编号体系说明(引用《P01-软件开发编号规范》) |                  |

    +   表 第1章结构与内容要点

### 3.1.3 表达规范

#### 分析框架总览规范

+   宏观需求分析采用**三线演绎,角色驱动,两维验证**的核心方法论,以图形方式呈现分析框架全貌。

+   三线三级对齐模型如下图所示。

    ```graph
    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
    │                                                                三线三级对齐模型                                                                          │
    ├──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                                                                                          │
    │  层级          活动线                                   角色线                                    实体线                                   说明          │
    │  ────          ──────                                   ──────                                    ──────                                   ────          │
    │                                                                                                                                                          │
    │  CL0           业务生态全景                             所有利益相关方(全景)                      ER全景图                                 全景/全集层   │
    │  (全景)        识别完整业务生态                         识别所有人员/组织                         识别所有核心业务对象                                   │
    │                                                                                                                                                          │
    │                     │                                        │                                        │                                                  │
    │                     ▼                                        ▼                                        ▼                                                  │
    │                                                                                                                                                          │
    │  CL1           业务域                                   特定利益相关方(组织维度)                  具体实体(ER)                             域/个体层     │
    │  (域/个体)     按价值链/职能域划分                      定位具体的人员群体/组织                   逐个定义业务对象及关系                                 │
    │                                                                                                                                                          │
    │                     │                                        │                                        │                                                  │
    │                     ▼                                        ▼                                        ▼                                                  │
    │                                                                                                                                                          │
    │  CL2           业务活动                                 用户角色(岗位维度)                        生命周期                                 最细粒度层    │
    │  (最细粒度)    定义每个域内的具体业务环节               识别具体的系统使用者                      定义每个实体的状态阶段与流转                           │
    │                                                                                                                                                          │
    │                     │                                        │                                        │                                                  │
    │                     └────────────── 验证覆盖 ───────────────▶│◀──────────── 验证覆盖 ─────────────────┘                                                  │
    │                                                              │                                                                                           │
    │                                                              ▼                                                                                           │
    │                                                         Epic清单                                                                                         │
    │                                                         (业务能力需求)                                                                                   │
    │                                                                                                                                                          │
    │  演绎要点:                                                                                                                                              │
    │  1. 三条线索从同一源头(业务价值生态)出发,确保分析的完整性和一致性                                                                                       │
    │  2. 每条线索独立演绎,各自从CL0→CL1→CL2逐级细化,确保MECE(互斥穷尽)                                                                                      │
    │  3. 角色线(CL2)为推导主线:角色的痛点和期望直接驱动Epic的定义                                                                                            │
    │  4. 活动线(CL2)和实体线(CL2)为验证维度:检查Epic是否覆盖了所有业务活动和实体状态流转                                                                     │
    │  5. 工作场景作为角色(CL2)的内部属性,桥接角色与业务活动(CL2)                                                                                             │
    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
    ```

    +   图 三线三级对齐模型

+   分析框架总览图应涵盖从业务背景(Why)到追溯矩阵(Check)的完整分析逻辑链。

    | 要素       | 说明                                                                                              |
    | ---------- | ------------------------------------------------------------------------------------------------- |
    | 分析起点   | 业务背景与目标 [Why]                                                                              |
    | 三线演绎   | 活动线(CL0→CL1→CL2) + 角色线(CL0→CL1→CL2) + 实体线(CL0→CL1→CL2)                                   |
    | 推导产出   | 角色(CL2)的痛点/期望 → Epic [What]                                                                |
    | 验证维度   | 活动(CL2)覆盖度 + 实体(CL2)覆盖度 [Verify]                                                        |
    | 补充产出   | 基础性需求 [What] + 非功能需求框架 [How Well]                                                     |
    | 规划与追溯 | 版本规划 [When] + 追溯矩阵 [Check]                                                                |
    | 分析逻辑   | Why → Where(三线CL0→CL1→CL2) → Who(推导) + Entity(验证) → What → How Well → Verify → When → Check |

    +   表 分析框架总览图要素

+   **层级标记前缀说明**:本规范涉及两套层级标记体系,为避免混淆,采用不同前缀区分:
    +   **CL(Conceptual Level,概念层级)**:用于三线三级对齐模型中活动线、角色线、实体线的统一分层标记。CL0为全景/全集层,CL1为域/个体层,CL2为最细粒度层。三线在CL2层级汇聚推导Epic。
    +   **PL(Process Level,流程层级)**:仅用于第3章活动线的流程分层演绎,描述从价值链到流程节点的逐级细化过程。PL0为价值链/职能域层,PL1为端到端流程层,PL2为流程节点层。
    +   两套体系的映射关系:活动线CL2(业务活动)与PL2(流程节点)指向同一概念——宏观需求粒度的基本业务单元,两者从不同视角描述同一对象。CL体系强调三线对齐的概念框架,PL体系强调流程分层的演绎方法。

#### 术语引用索引表

+   通用术语引用索引应包含以下列。

    | 列名     | 说明                                     |
    | -------- | ---------------------------------------- |
    | 分析线索 | 所属线索(活动线/角色线/实体线/-)         |
    | 层级     | 所属层级(CL0/CL1/CL2/-)                  |
    | 术语     | 术语中文名称                             |
    | 英文     | 英文全称                                 |
    | 编号前缀 | 该术语的编号前缀                         |
    | 定义来源 | 权威定义的出处(如"软件开发术语规范 2.3") |
    | 备注     | 补充说明                                 |

#### 特有术语定义表

+   本说明书特有术语(不在《软件开发术语规范》中定义的)应包含以下列。

    | 列名     | 说明                             |
    | -------- | -------------------------------- |
    | 分析线索 | 所属线索(活动线/角色线/实体线/-) |
    | 层级     | 所属层级(CL0/CL1/CL2/-)          |
    | 术语     | 术语中文名称                     |
    | 英文     | 英文全称                         |
    | 定义     | 该术语在本说明书中的完整定义     |

+   **困境与痛点的关系**应在术语约定中明确说明:
    +   **困境**是业务层面的概念,描述达成业务目标面临的系统性障碍,在第2章中定义。
    +   **痛点**是角色层面的概念,描述角色在实际工作中面临的具体问题,在第5章角色定义规范中定义。
    +   两者的关系为:困境导致痛点,痛点驱动Epic。一个困境可能在多个角色身上表现为不同的痛点,一个角色的痛点也可能由多个困境共同导致。
    +   追溯链路为:业务目标 → 困境(业务层面障碍)→ 痛点(角色层面问题)→ Epic(产品能力)。

## 3.2 第2章 业务背景与目标

### 3.2.1 章节综述

+   业务背景与目标是宏观需求分析的起点章节，回答"为什么要做这个产品"（Why）。
+   本章通过引用阶段1的业务目标和价值主张建立分析基线，同时识别达成目标面临的困境、定义成功标准、明确约束条件和假设依赖，为后续三线演绎和Epic推导提供输入。
+   本章的困境定义向后传递：困境在第5章角色分析中细化为各角色的痛点，痛点直接驱动第6章的Epic推导。

### 3.2.2 章节结构

+   业务目标和价值主张在阶段1（产品战略）中已定义，本章**引用**阶段1的输出，不在本章重新定义。
+   引用阶段1输出时，应逐项确认输入的完整性和可用性（参见表达规范"阶段1输入验收检查表"）。当阶段1输出不完整时，应将缺失部分记录为假设（2.5节），并在假设描述中标注"来源：阶段1输出缺失"，确保后续阶段1输出完善后可回溯更新。
+   困境识别应来源于客户访谈、市场调研等一手资料。
+   关联目标填写说明：关联目标应引用2.1中定义的具体目标维度或目标编号（如OBJ-01），避免笼统描述，以确保追溯矩阵的精确性。

+   第2章结构与内容要点如下表所示。

    | 编号 | 标题           | 内容要点                                                         | 表达规范            |
    | ---- | -------------- | ---------------------------------------------------------------- | ------------------- |
    | 2.1  | 业务目标与价值 | 引用阶段1的战略目标、阶段目标和价值主张                          | 阶段1输入验收检查表 |
    |      | 主张           | 战略目标引用表                                                   | 战略目标引用表      |
    |      |                | 阶段目标引用表                                                   | 阶段目标引用表      |
    | 2.2  | 困境识别       | 基于业务目标分析达成目标面临的困境                               | 困境描述规范        |
    |      |                | 编写示例（透管云）                                               |                     |
    | 2.3  | 成功标准定义   | 定义产品成功的衡量标准，从多个维度与业务目标对齐                 | 成功标准定义表      |
    | 2.4  | 约束条件       | 明确业务约束和技术约束，约束直接影响Epic可行性和版本规划         | 约束条件表          |
    |      |                | 典型约束类型参考                                                 | 典型约束类型参考表  |
    | 2.5  | 假设与依赖     | 记录需求分析所依赖的假设条件和外部依赖，假设失效时评估影响并调整 | 假设与依赖表        |

    +   表 第2章结构与内容要点

### 3.2.3 表达规范

#### 阶段1输入验收检查表

+   阶段1输入验收检查的具体检查项和合格标准参见本规范2.2节"阶段1输入验收检查项"表。说明书中该表应包含以下列。

    | 列名               | 说明                                                                    |
    | ------------------ | ----------------------------------------------------------------------- |
    | 检查项             | 待检查的阶段1输出要素（如"战略目标""阶段目标""价值主张""目标可追溯性"） |
    | 合格标准           | 该要素满足质量要求的判断标准                                            |
    | 不满足时的处理方式 | 当要素不满足合格标准时的补救措施                                        |

#### 战略目标引用表

+   引用阶段1定义的战略目标。

    | 列名     | 说明                                       |
    | -------- | ------------------------------------------ |
    | 目标维度 | 战略目标的维度分类（如客户价值、商业价值） |
    | 战略目标 | 该维度下的具体战略目标                     |
    | 量化指标 | 该目标对应的可衡量指标                     |

#### 阶段目标引用表

+   引用阶段1定义的各版本阶段目标。

    | 列名     | 说明                       |
    | -------- | -------------------------- |
    | 版本     | 规划版本编号（如P1、P2）   |
    | 时间范围 | 该版本的时间跨度           |
    | 核心目标 | 该版本的核心阶段目标       |
    | 关键成果 | 可衡量的关键成果定义       |
    | 财务目标 | 该版本的财务目标（如适用） |

#### 困境描述规范

+   困境是业务层面达成目标的系统性障碍。困境在第5章角色分析中细化为各角色的痛点，痛点直接驱动Epic推导。本章聚焦于困境的识别和定义，痛点在角色分析阶段逐角色细化。

+   困境描述应包含以下列。

    | 列名     | 说明                                                                                                        |
    | -------- | ----------------------------------------------------------------------------------------------------------- |
    | 困境编号 | 采用双轨制标识。语义ID格式：`DLM-{困境描述}`；短号格式：`DLM{3位数字}`。详见《P01-软件开发编号规范》2.2.4节 |
    | 困境名称 | 简短名称                                                                                                    |
    | 困境描述 | 详细描述达成目标面临的问题                                                                                  |
    | 影响范围 | 受影响的角色                                                                                                |
    | 当前应对 | 用户目前如何应对                                                                                            |
    | 严重程度 | 高/中/低                                                                                                    |
    | 关联目标 | 该困境阻碍哪些业务目标（应引用2.1节的具体目标维度或目标编号）                                               |

+   困境识别编写示例（透管云）如下。

    | 困境编号                       | 短号   | 困境名称     | 困境描述                           | 影响范围             | 严重程度 | 关联目标        |
    | ------------------------------ | ------ | ------------ | ---------------------------------- | -------------------- | -------- | --------------- |
    | DLM-regulation-comparison-hell | DLM001 | 新规比对地狱 | 每有新规发布，需人工逐条比对内规   | 合规专员、制度管理员 | 高       | OBJ-01 客户价值 |
    | DLM-inspection-interrogation   | DLM002 | 检查应对拷问 | 外部检查时难以快速提供合规证据     | 合规专员、执行人员   | 高       | OBJ-01 客户价值 |
    | DLM-reporting-speechless       | DLM003 | 管理汇报哑口 | 合规状态难以量化，无法向管理层汇报 | 合规负责人、管理层   | 中       | OBJ-01 客户价值 |
    | DLM-execution-confusion        | DLM004 | 员工执行茫然 | 员工不清楚自己应执行哪些合规要求   | 业务执行人员         | 中       | OBJ-01 客户价值 |

    +   表 困境识别示例（透管云）

#### 成功标准定义表

+   定义产品成功的衡量标准，应从多个维度定义并与业务目标对齐。

    | 列名     | 说明                                                 |
    | -------- | ---------------------------------------------------- |
    | 维度     | 成功标准的维度分类（如客户价值、商业价值、产品能力） |
    | 指标     | 该维度下的具体衡量指标名称                           |
    | 目标值   | 该指标的目标值                                       |
    | 衡量方式 | 如何测量或评估该指标                                 |

#### 约束条件表

+   约束直接影响Epic可行性和版本规划，分为业务约束和技术约束两类。

    | 列名     | 说明                   |
    | -------- | ---------------------- |
    | 约束类型 | 业务约束或技术约束     |
    | 约束项   | 具体的约束名称         |
    | 约束描述 | 约束的具体内容         |
    | 影响范围 | 该约束影响的Epic或版本 |

#### 典型约束类型参考表

+   以下为典型约束类型，供编写时参考。

    | 约束类型 | 典型约束项                                       |
    | -------- | ------------------------------------------------ |
    | 业务约束 | 法律法规、行业监管、合同条款、预算限制、上线时间 |
    | 技术约束 | 技术栈限定、已有系统集成、数据迁移、部署环境     |

    +   表 典型约束类型参考

#### 假设与依赖表

+   记录需求分析所依赖的假设条件和外部依赖，假设失效时应评估影响范围并调整相关Epic。

    | 列名     | 说明                            |
    | -------- | ------------------------------- |
    | 类型     | 假设或依赖                      |
    | 编号     | AS-{n}（假设）或 DP-{n}（依赖） |
    | 描述     | 假设或依赖的具体内容            |
    | 影响范围 | 影响的Epic或版本                |
    | 失效后果 | 假设不成立或依赖不满足时的后果  |

## 3.3 第3章 业务价值生态

### 3.3.1 章节综述

+   业务价值生态是三条分析线索（活动线、角色线、实体线）的共同源头，本章覆盖**活动线**的完整演绎过程，回答"业务活动发生在哪里"（Where）。
+   本章从全局视角识别产品所处的业务生态系统，沿活动线采用流程分层理论逐级细化：从PL0（价值链/职能域）到PL1（端到端流程）再到PL2（流程节点），最终输出宏观需求粒度的基本业务活动清单。
+   本章结论向后传递：业务域归类为第6章能力架构设计提供逻辑框架，流程节点(PL2)为第6章Epic覆盖度验证和第9章完整性验证提供活动维度的验证基准，职能域和流程全景为第5章利益相关方识别提供线索。

### 3.3.2 章节结构

+   业务生态系统在阶段1（产品战略）中应已形成初步认识，本章在其基础上进行深化和验证。若阶段1已有生态分析，本章应引用并深化；若阶段1未提供，应从头建立并记录为假设。
+   实际编写中，应按PL0→PL1→PL2的顺序演绎，即先识别价值链全景，再识别端到端流程，最后分解流程节点。业务域归类(3.4)在流程节点识别完成后进行。
+   **PL层级与CL层级的对应关系**：本章使用PL（Process Level）标记描述活动线的流程分层演绎过程，与第1章定义的CL（Conceptual Level）三线三级对齐模型的对应关系详见下方"活动线层级与章节对应"表中的"对应CL层级"列。其中核心映射为：PL2（流程节点）= CL2（业务活动），是宏观需求粒度的基本单元。

+   活动线层级与章节对应关系如下表所示。

    | 层级 | 概念              | 对应CL层级            | 对应章节           | 说明                                         |
    | ---- | ----------------- | --------------------- | ------------------ | -------------------------------------------- |
    | PL0  | 价值链/职能域     | CL0→CL1之间的演绎细化 | 3.1 业务生态系统   | 识别产品所处的价值链和职能全景               |
    | PL1  | 端到端流程        | CL0→CL1之间的演绎细化 | 3.2 端到端流程识别 | 识别跨职能的完整业务流程                     |
    | PL2  | 流程节点/活动     | = CL2（业务活动）     | 3.3 流程节点分解   | 分解每个端到端流程的关键节点（宏观需求粒度） |
    | -    | 业务域（PL0归类） | = CL1（业务域）       | 3.4 业务域归类     | 基于PL0价值链对PL1/PL2进行领域归类           |

    +   表 活动线层级与章节对应

+   PL0与PL1的关系说明：PL0（价值链/职能域）与PL1（端到端流程）是正交关系。价值链是横向的职能划分，端到端流程是纵向的业务流，贯穿多个职能域。两者构成矩阵关系，每个端到端流程会流经多个职能域。

+   第3章结构与内容要点如下表所示。

    | 编号  | 标题           | 内容要点                                                     | 表达规范                           |
    | ----- | -------------- | ------------------------------------------------------------ | ---------------------------------- |
    | 3.1   | 业务生态系统   | PL0层：识别产品所处的业务生态系统                            |                                    |
    | 3.1.1 | 与阶段1的关系  | 说明阶段1与阶段2在生态分析上的分工，确认输入完整性           | 阶段分工对照表                     |
    | 3.1.2 | 业务价值链分析 | 基于价值链分析理论，识别价值创造/传递/消费/支撑各环节        | 价值链分析方法论                   |
    | 3.1.3 | 职能域识别     | 基于价值链归类职能域，定义名称、职责、参与方                 | 职能域定义规范                     |
    |       |                | 常见业务模式的职能域参考                                     | 常见业务模式职能域参考表           |
    |       |                | 编写示例（透管云）                                           |                                    |
    | 3.2   | 端到端流程识别 | PL1层：识别贯穿多个职能域的完整业务流程                      |                                    |
    | 3.2.1 | 端到端流程定义 | 端到端流程的特征定义                                         |                                    |
    |       |                | 职能域与端到端流程的正交关系图                               | PL0-PL1正交关系图规范              |
    | 3.2.2 | 识别方法       | 端到端流程识别的演绎路径                                     | 端到端流程识别演绎路径图规范       |
    | 3.2.3 | 端到端流程定义 | 端到端流程定义规范                                           | 端到端流程定义规范                 |
    |       | 模板           | 编写示例（透管云）                                           |                                    |
    | 3.3   | 流程节点分解   | PL2层：将端到端流程分解为关键节点                            |                                    |
    | 3.3.1 | 流程节点定义   | 流程节点的特征定义                                           |                                    |
    | 3.3.2 | 分解方法       | 流程节点从端到端流程中分解的方法                             | 端到端流程分解为流程节点示例图规范 |
    | 3.3.3 | 粒度标准       | 流程节点粒度判断标准和调整策略                               | 流程节点粒度判断标准               |
    | 3.3.4 | 流程节点定义   | 流程节点定义规范                                             | 流程节点定义规范                   |
    |       | 模板           | 编写示例（透管云-新规应对流程）                              |                                    |
    | 3.4   | 业务域归类     | 基于PL0职能域对PL1/PL2进行领域归类                           |                                    |
    | 3.4.1 | 业务域归类价值 | 业务域在宏观需求分析中的五项价值                             |                                    |
    | 3.4.2 | 归类方法       | 业务域归类步骤和与职能域的对应关系                           | 业务域与职能域对应关系参考表       |
    | 3.4.3 | 业务域定义规范 | 业务域定义规范，编写示例（透管云）                           | 业务域定义规范                     |
    | 3.4.4 | 业务域归类汇总 | 业务域→端到端流程归类表 + 业务域→流程节点归类表 + 完整性检查 | 业务域归类汇总规范                 |

    +   表 第3章结构与内容要点

### 3.3.3 表达规范

#### 阶段分工对照表

+   说明阶段1（产品战略）与阶段2（宏观需求分析）在业务生态分析上的分工和衔接。

    | 列名     | 说明                       |
    | -------- | -------------------------- |
    | 阶段     | 阶段编号和名称             |
    | 分析重点 | 该阶段的生态分析聚焦点     |
    | 输出形式 | 该阶段生态分析的输出物形式 |
    | 详细程度 | 概要/详细                  |

+   阶段分工对照编写示例如下。

    | 阶段   | 分析重点                           | 输出形式                   | 详细程度 |
    | ------ | ---------------------------------- | -------------------------- | -------- |
    | 阶段1  | 识别核心参与方和价值交换方向       | 战略层面的生态定位         | 概要     |
    | 阶段2  | 细化价值链、识别端到端流程和节点   | 可执行的流程节点清单和分类 | 详细     |
    | 衔接点 | 阶段1的生态定位应作为阶段2的输入点 | 引用并深化                 | -        |

    +   表 阶段分工对照示例

+   阶段2业务生态分析的输入检查：应确认阶段1是否已提供生态系统初步分析。若阶段1已有生态分析，本节应引用阶段1的生态定位并在其基础上细化价值链和职能域；若阶段1未提供生态分析，本节应从头建立生态系统全景，并记录为假设（AS-*），标注"待阶段1回溯补充"。

#### 价值链分析方法论

+   业务生态系统的识别应基于业务价值链分析理论。价值链分析是识别产品在业务生态中位置的核心方法，通过分析价值如何产生、流转和交付，识别产品涉及的所有职能域和参与方。

+   价值链分析的基本步骤如下。

    | 步骤 | 活动             | 产出                         |
    | ---- | ---------------- | ---------------------------- |
    | 1    | 识别核心价值主张 | 产品为谁创造什么价值         |
    | 2    | 分析价值创造过程 | 价值如何产生（供给侧活动）   |
    | 3    | 分析价值传递过程 | 价值如何流转（中间环节）     |
    | 4    | 分析价值消费过程 | 价值如何被使用（需求侧活动） |
    | 5    | 识别支撑性活动   | 哪些辅助活动支撑价值链运转   |
    | 6    | 识别所有参与方   | 每个环节涉及哪些外部参与方   |
    | 7    | 定义职能域       | 按职能归类价值链活动         |

    +   表 价值链分析步骤

+   价值链分析的核心问题如下。

    | 维度     | 关键问题                                           |
    | -------- | -------------------------------------------------- |
    | 价值创造 | 谁在创造价值？如何创造？依赖什么资源或能力？       |
    | 价值传递 | 价值如何从创造方到达消费方？经过哪些中间环节？     |
    | 价值消费 | 谁在消费价值？如何消费？消费后产生什么结果？       |
    | 价值支撑 | 哪些活动支撑价值链运转（如监管、服务、技术支撑）？ |

    +   表 价值链分析核心问题

+   价值链分析编写示例（透管云）如下。

    | 价值链环节 | 参与方             | 核心职能           | 价值流向              |
    | ---------- | ------------------ | ------------------ | --------------------- |
    | 价值创造   | 监管机构           | 监管政策制定       | 监管要求 → 被监管方   |
    | 价值传递   | 合规服务商（产品） | 解析、映射、追踪   | 结构化合规知识 → 企业 |
    | 价值消费   | 企业合规部门       | 执行合规、应对检查 | 合规能力 → 监管达标   |
    | 价值支撑   | 制度管理部门       | 维护内部制度体系   | 制度依据 → 合规执行   |

    +   表 价值链分析示例（透管云）

#### 职能域定义规范

+   职能域是对价值链环节的职能归类，体现产品涉及的业务领域全景。

+   职能域识别的基本步骤：基于价值链分析，列出各环节涉及的职能类别 → 按职能相似性归类 → 为每个职能域定义名称、职责范围和典型参与方 → 检查职能域划分的MECE性（互斥且穷尽）。

+   职能域定义应包含以下列。

    | 列名       | 说明                             |
    | ---------- | -------------------------------- |
    | 职能域名称 | 该职能域的业务名称               |
    | 职能域缩写 | 2-3个字符的缩写，用于后续编号    |
    | 价值链位置 | 该职能域在价值链中的位置         |
    | 职责范围   | 该职能域负责的业务职责           |
    | 典型参与方 | 该职能域涉及的典型利益相关方群体 |

+   职能域定义编写示例（透管云）如下。

    | 职能域     | 域缩写 | 价值链位置 | 职责范围                       | 典型参与方           |
    | ---------- | ------ | ---------- | ------------------------------ | -------------------- |
    | 合规管理域 | CM     | 价值传递   | 制度管理、新规解析、合规映射   | 合规专员、制度管理员 |
    | 执行管理域 | EX     | 价值消费   | 合规执行、证据采集、执行追踪   | 执行人员、业务负责人 |
    | 监督检查域 | SP     | 价值支撑   | 检查应对、问题整改、合规评估   | 合规负责人、审计人员 |
    | 报告分析域 | RP     | 价值支撑   | 合规报告、趋势分析、管理驾驶舱 | 管理层、合规负责人   |

    +   表 职能域定义示例（透管云）

#### 常见业务模式职能域参考表

+   以下为不同业务模式下的典型职能域划分，供编写时参考。实际项目应根据自身业务模式和价值链分析结果识别职能域，不应直接套用。

    | 业务模式     | 典型职能域划分示例                             | 说明               |
    | ------------ | ---------------------------------------------- | ------------------ |
    | 双边平台型   | 供给管理域、需求管理域、撮合交易域、平台运营域 | 连接供需双方的平台 |
    | 企业工具型   | 业务执行域、流程管理域、数据分析域、系统管理域 | 企业内部管理工具   |
    | 供应链管理型 | 采购域、生产域、物流域、销售域、财务域         | 供应链各环节       |
    | SaaS服务型   | 租户服务域、平台运营域、集成服务域、计费域     | 多租户SaaS产品     |
    | 监管合规型   | 合规管理域、执行管理域、监督检查域、报告分析域 | 以合规为核心的管理 |

    +   表 常见业务模式的职能域参考

#### PL0-PL1正交关系图规范

+   以ASCII图呈现PL0职能域（横轴）与PL1端到端流程（纵轴）的正交关系矩阵。

    | 要素     | 说明                                         |
    | -------- | -------------------------------------------- |
    | 横轴     | PL0各职能域，标注职能域名称和缩写            |
    | 纵轴     | PL1各端到端流程，标注流程编号和名称          |
    | 交叉点   | 用●标记流程节点(PL2)，用○标记流程起/终点     |
    | 连线     | 用────连接同一流程的节点，表示流程流向       |
    | 标注要求 | 每个节点标注流程节点名称；图下方说明符号含义 |

+   PL0-PL1正交关系图编写示例（透管云）如下。

    ```graph
    ┌───────────────────────────────────────────────────────────────────────────────────────────────┐
    │                                     PL0职能域 与 PL1端到端流程 的正交关系                     │
    ├───────────────────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                               │
    │          职能域A        职能域B        职能域C        职能域D        职能域E                  │
    │          (合规管理)     (执行管理)     (监督检查)     (报告分析)     (系统管理)               │
    │          ──────────────────────────────────────────────────────────────────────────────────   │
    │                                                                                               │
    │  流程1   ●──────────────●──────────────●──────────────○                                       │
    │  新规    (新规解析)     (制度更新)     (影响评估)     (完成通知)                              │
    │  应对                                                                                         │
    │                                                                                               │
    │  流程2            ●──────────────●──────────────●──────────────●                              │
    │  合规            (要求下达)     (证据采集)     (执行追踪)     (完成确认)                      │
    │  执行                                                                                         │
    │                                                                                               │
    │  流程3   ○──────────────●──────────────●──────────────●──────────────○                        │
    │  检查            (准备资料)     (应对检查)     (问题整改)     (结果报告)                      │
    │  应对                                                                                         │
    │                                                                                               │
    │  流程4   ●──────────────○──────────────○──────────────●──────────────○                        │
    │  合规    (数据采集)                                  (报告生成)     (报告发布)                │
    │  报告                                                                                         │
    │                                                                                               │
    │  说明: ● = 流程节点(PL2)    ○ = 流程起/终点    ──── = 流程流向                                │
    │                                                                                               │
    │  每个端到端流程(PL1)横向贯穿多个职能域(PL0)                                                   │
    │  每个流程内部由多个流程节点(PL2)组成                                                          │
    │                                                                                               │
    └───────────────────────────────────────────────────────────────────────────────────────────────┘
    ```

    +   图 PL0职能域与PL1端到端流程的正交关系示例（透管云）

#### 端到端流程识别演绎路径图规范

+   以ASCII图呈现从输入（困境、目标、价值链分析）到输出（端到端流程清单）的演绎路径。

    | 要素   | 说明                                                  |
    | ------ | ----------------------------------------------------- |
    | 输入区 | 列出演绎的输入来源（困境2.2、目标2.1、价值链分析3.1） |
    | 提问区 | 列出演绎的核心问题                                    |
    | 候选区 | 候选端到端流程清单                                    |
    | 判断区 | 逐一判断是否符合端到端流程定义特征                    |
    | 输出区 | 确认的PL1端到端流程清单                               |

+   端到端流程识别演绎路径图编写示例如下。

    ```graph
    ┌────────────────────────────────────────────────────────────────┐
    │                 端到端流程识别的演绎路径                       │
    ├────────────────────────────────────────────────────────────────┤
    │                                                                │
    │  ┌──────────────────────────┐                                  │
    │  │  输入1: 业务困境(2.2)    │                                  │
    │  │  输入2: 业务目标(2.1)    │                                  │
    │  │  输入3: 价值链分析(3.1)  │                                  │
    │  └────────────┬─────────────┘                                  │
    │               │                                                │
    │               │  提出问题                                      │
    │               │  - 为解决困境需要什么完整流程?                 │
    │               │  - 为达成目标需要什么完整流程?                 │
    │               │  - 外部参与方与产品的交互周期?                 │
    │               ▼                                                │
    │  ┌──────────────────────────────────────────────────────────┐  │
    │  │  候选端到端流程清单                                      │  │
    │  │                                                          │  │
    │  │  流程候选1    流程候选2    流程候选3    流程候选4  ...   │  │
    │  └──────────────────────┬───────────────────────────────────┘  │
    │                         │                                      │
    │                         │  逐一判断                            │
    │                         │  - 是否有明确起点和终点?             │
    │                         │  - 是否贯穿多个职能域?               │
    │                         │  - 是否形成完整业务闭环?             │
    │                         │  - 是否能独立产生价值?               │
    │                         ▼                                      │
    │  ┌──────────────────────────────────────────────────────────┐  │
    │  │  PL1: 端到端流程清单                                     │  │
    │  │                                                          │  │
    │  │  P-{域}-01      P-{域}-02      P-{域}-03      ...        │  │
    │  └──────────────────────────────────────────────────────────┘  │
    │                                                                │
    └────────────────────────────────────────────────────────────────┘
    ```

    +   图 端到端流程识别的演绎路径示例

#### 端到端流程定义规范

+   端到端流程具有以下特征：有明确的业务触发点和业务终点，形成完整闭环；通常贯穿多个职能域（至少2个）；从外部参与方或业务事件的视角观察，是一个完整的业务周期；能够独立产生业务价值或达成业务目标；可追溯到第2章定义的业务困境或业务目标。

+   端到端流程定义应包含以下列。

    | 列名       | 说明                                   |
    | ---------- | -------------------------------------- |
    | 流程编号   | 唯一标识，格式P-{主域缩写}-{序号}      |
    | 流程名称   | 端到端流程的业务名称                   |
    | 业务触发点 | 什么事件或条件触发该流程               |
    | 业务终点   | 流程在什么状态下结束                   |
    | 贯穿职能域 | 该流程流经哪些职能域（按流程顺序列出） |
    | 业务价值   | 该流程完成后产生什么业务价值           |
    | 关联困境   | 该流程解决哪个业务困境（引用2.2）      |
    | 关联目标   | 该流程支撑哪个业务目标（引用2.1）      |

+   端到端流程识别编写示例（透管云）如下。

    | 流程编号 | 流程名称     | 业务触发点       | 业务终点           | 贯穿职能域  | 关联困境 |
    | -------- | ------------ | ---------------- | ------------------ | ----------- | -------- |
    | P-CM-01  | 新规应对流程 | 监管机构发布新规 | 内部制度更新完成   | CM→EX→SP    | DLM001   |
    | P-EX-01  | 合规执行流程 | 合规要求下达     | 执行完成并记录证据 | CM→EX→SP    | DLM002   |
    | P-SP-01  | 检查应对流程 | 收到检查通知     | 检查结果归档       | CM→EX→SP→RP | DLM002   |
    | P-RP-01  | 合规报告流程 | 定期报告周期到达 | 报告发布给管理层   | EX→SP→RP    | DLM003   |

    +   表 端到端流程识别示例（透管云）

#### 端到端流程分解为流程节点示例图规范

+   以ASCII图呈现一个PL1端到端流程分解为多个PL2流程节点的过程。

    | 要素     | 说明                                                 |
    | -------- | ---------------------------------------------------- |
    | 上半部   | PL1端到端流程概要（流程编号、名称、触发点、终点）    |
    | 下半部   | 分解产出的PL2流程节点清单                            |
    | 每个节点 | 标注节点编号、名称、所属职能域、参与角色、输入、输出 |
    | 标注要求 | 说明PL1和PL2的层级关系                               |

+   端到端流程分解为流程节点编写示例（透管云-新规应对流程）如下。

    ```graph
    ┌────────────────────────────────────────────────────────────────────────────────┐
    │                        端到端流程分解为流程节点示例                            │
    │                        P-CM-01: 新规应对流程                                   │
    ├────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                │
    │  ┌──────────────────────────────────────────────────────────────────────────┐  │
    │  │  PL1: 端到端流程                                                         │  │
    │  │  ───────────────                                                         │  │
    │  │  P-CM-01 新规应对流程                                                    │  │
    │  │  触发: 监管机构发布新规    终点: 内部制度更新完成                        │  │
    │  └────────────────────┬─────────────────────────────────────────────────────┘  │
    │                       │                                                        │
    │                       │  分解                                                  │
    │                       ▼                                                        │
    │  ┌────────────────────────────────────────────────────────────────────────┐    │
    │  │  PL2: 流程节点                                                         │    │
    │  │  ───────────                                                           │    │
    │  │                                                                        │    │
    │  │  BA-CM-01        BA-CM-02        BA-CM-03        BA-EX-01              │    │
    │  │  新规获取        新规比对        影响评估        制度更新              │    │
    │  │  ────────        ────────        ────────        ────────              │    │
    │  │  职能域: CM      职能域: CM      职能域: CM      职能域: EX            │    │
    │  │  角色: 合规专员  角色: 合规专员  角色: 合规专员  角色: 制度管理员      │    │
    │  │  输入: 新规通知  输入: 新规文本  输入: 比对结果  输入: 评估报告        │    │
    │  │  输出: 新规文本  输出: 比对结果  输出: 评估报告  输出: 制度更新记录    │    │
    │  │                                                                        │    │
    │  │  BA-EX-02        BA-SP-01                                              │    │
    │  │  变更通知        合规确认                                              │    │
    │  │  ────────        ────────                                              │    │
    │  │  职能域: EX      职能域: SP                                            │    │
    │  │  角色: 合规专员  角色: 合规负责人                                      │    │
    │  │  输入: 更新记录  输入: 通知记录                                        │    │
    │  │  输出: 通知记录  输出: 确认完成                                        │    │
    │  │                                                                        │    │
    │  └────────────────────────────────────────────────────────────────────────┘    │
    │                                                                                │
    │  说明: 一个PL1端到端流程分解为6个PL2流程节点                                   │
    │                                                                                │
    └────────────────────────────────────────────────────────────────────────────────┘
    ```

    +   图 端到端流程分解为流程节点示例（透管云-新规应对流程）

#### 流程节点粒度判断标准

+   流程节点应处于"流程中的关键环节"层次，判断标准如下。

    | 判断维度   | 合适粒度的特征                                 | 过粗的表现                 | 过细的表现               |
    | ---------- | ---------------------------------------------- | -------------------------- | ------------------------ |
    | 业务完整性 | 该节点在流程中有明确的输入和输出，完成特定职责 | 包含多个独立职责           | 只是某个职责中的一个步骤 |
    | 职能归属   | 通常在单个职能域内完成                         | 跨多个职能域，难以界定归属 | 只是职能域内的一个操作   |
    | 价值独立性 | 该节点能为流程贡献独立的价值增量               | 只有拆分后才能体现价值贡献 | 价值必须依附于更大的节点 |
    | 角色稳定性 | 通常由1-2个明确的角色负责                      | 涉及过多角色，职责不清     | 只是某个角色的一个操作   |
    | Epic映射度 | 后续能直接映射到Epic，或作为Epic的验证依据     | 需要映射到大量Epic         | 无法独立映射到Epic       |
    | 时间跨度   | 通常在分钟到小时量级（少数可到天）             | 跨度过长（天/周）          | 跨度过短（秒级）         |
    | 数量合理性 | 一个端到端流程分解为3-8个节点                  | 节点过少（1-2个）          | 节点过多（10+个）        |

    +   表 流程节点粒度判断标准

+   粒度判断编写示例如下。

    | 候选节点     | 粒度判断 | 理由                                   | 建议调整                     |
    | ------------ | -------- | -------------------------------------- | ---------------------------- |
    | 新规比对     | 合适     | 有明确输入输出，在CM职能域内完成       | 无需调整                     |
    | 合规管理     | 过粗     | 包含多个独立节点（比对、追溯、评估等） | 拆分为多个独立节点           |
    | 点击比对按钮 | 过细     | 只是"新规比对"节点中的一个操作         | 归入"新规比对"节点内部       |
    | 制度更新     | 合适     | 有明确职责，输出制度更新记录           | 无需调整                     |
    | 查看制度条款 | 过细     | 只是某个节点中的查阅动作，无独立输出   | 不作为独立节点               |
    | 年度合规规划 | 边界模糊 | 可能不属于任何已识别的端到端流程       | 判断是否应识别新的端到端流程 |

    +   表 粒度判断示例

+   粒度调整策略：过粗的节点按职责独立性或职能域切换拆分为多个节点；过细的节点归并到其所属的流程节点中，或作为后续详细需求阶段的任务(L3)；边界模糊的节点回溯端到端流程，判断该节点应归属哪个流程，或是否需要识别新的端到端流程。

#### 流程节点定义规范

+   流程节点是端到端流程中的关键环节，具有以下特征：在端到端流程中有明确的输入和输出；通常在单个职能域内完成（少数节点可能跨2个职能域）；有明确的参与角色；能够作为Epic覆盖验证的基本单元。每个端到端流程(PL1)应分解为3-8个流程节点(PL2)。

+   流程节点定义应包含以下列。

    | 列名       | 说明                                 |
    | ---------- | ------------------------------------ |
    | 节点编号   | 唯一标识，格式BA-{职能域缩写}-{序号} |
    | 节点名称   | 流程节点的业务名称                   |
    | 所属流程   | 该节点所属的端到端流程（引用3.2）    |
    | 所属职能域 | 该节点主要在哪个职能域内完成         |
    | 参与角色   | 哪些角色参与该节点                   |
    | 节点输入   | 该节点的输入是什么                   |
    | 节点输出   | 该节点的输出是什么                   |
    | 业务目标   | 该节点要达成什么目标                 |

+   流程节点定义编写示例（透管云-新规应对流程）如下。

    | 节点编号 | 节点名称 | 所属流程 | 所属职能域 | 参与角色         | 节点输入 | 节点输出     |
    | -------- | -------- | -------- | ---------- | ---------------- | -------- | ------------ |
    | BA-CM-01 | 新规获取 | P-CM-01  | CM         | UR-06 合规专员   | 新规通知 | 新规文本     |
    | BA-CM-02 | 新规比对 | P-CM-01  | CM         | UR-06 合规专员   | 新规文本 | 比对结果     |
    | BA-CM-03 | 影响评估 | P-CM-01  | CM         | UR-06 合规专员   | 比对结果 | 评估报告     |
    | BA-EX-01 | 制度更新 | P-CM-01  | EX         | UR-08 制度管理员 | 评估报告 | 制度更新记录 |
    | BA-EX-02 | 变更通知 | P-CM-01  | EX         | UR-06 合规专员   | 更新记录 | 通知记录     |
    | BA-SP-01 | 合规确认 | P-CM-01  | SP         | UR-01 合规负责人 | 通知记录 | 确认完成     |

    +   表 流程节点分解示例（透管云-新规应对流程）

#### 业务域与职能域对应关系参考表

+   业务域归类应基于PL0职能域，而非任意划分。业务域通常与职能域一一对应，或由相关职能域合并而成。

+   业务域归类的基本步骤：回顾3.1定义的职能域清单 → 将3.2识别的端到端流程按主要职能域归类 → 将3.3分解的流程节点按所属职能域归类 → 检查归类结果是否符合MECE原则 → 根据归类结果定义业务域。

+   业务域在宏观需求分析中的价值：为Epic组织提供逻辑框架（Epic通常在业务域内保持高内聚）；为能力架构设计奠定基础（业务域映射到第6章的能力域）；指导利益相关方识别（不同业务域对应不同利益相关方群体）；支撑完整性验证（通过业务域维度检查Epic覆盖度）；为阶段3概要设计提供参考（业务域是划分BC的重要输入之一）。

+   业务域与职能域的典型对应关系如下。

    | 对应方式 | 说明                                 | 示例                               |
    | -------- | ------------------------------------ | ---------------------------------- |
    | 一对一   | 一个业务域对应一个职能域             | 合规管理域 ← 合规管理职能域        |
    | 多对一   | 多个相关职能域合并为一个业务域       | 执行管理域 ← 执行职能域+追踪职能域 |
    | 一对多   | 一个职能域拆分为多个业务域（较少见） | 财务职能域 → 应收域+应付域         |

    +   表 业务域与职能域的对应关系

#### 业务域定义规范

+   业务域定义应包含以下列。

    | 列名       | 说明                          |
    | ---------- | ----------------------------- |
    | 业务域     | 业务域名称                    |
    | 域缩写     | 2-3个字符的缩写，用于后续编号 |
    | 对应职能域 | 该业务域对应的PL0职能域       |
    | 说明       | 业务域的职责说明              |
    | 流程数量   | 归属该业务域的端到端流程数量  |
    | 节点数量   | 归属该业务域的流程节点数量    |

+   业务域定义编写示例（透管云）如下。

    | 业务域     | 域缩写 | 对应职能域 | 说明                         | 流程数量 | 节点数量 |
    | ---------- | ------ | ---------- | ---------------------------- | -------- | -------- |
    | 合规管理域 | CM     | 合规管理域 | 制度管理、新规应对、合规映射 | 2        | 8        |
    | 执行管理域 | EX     | 执行管理域 | 合规执行、证据采集、执行追踪 | 1        | 5        |
    | 监督检查域 | SP     | 监督检查域 | 检查应对、问题整改、合规评估 | 1        | 4        |
    | 报告分析域 | RP     | 报告分析域 | 合规报告、趋势分析、管理决策 | 1        | 3        |

    +   表 业务域定义示例（透管云）

#### 业务域归类汇总规范

+   业务域归类完成后，应输出以下两个汇总表。

+   **业务域→端到端流程归类表**应包含以下列。

    | 列名     | 说明                   |
    | -------- | ---------------------- |
    | 业务域   | 业务域名称             |
    | 域缩写   | 业务域缩写             |
    | 流程编号 | 归属该业务域的流程编号 |
    | 流程名称 | 流程的业务名称         |

+   **业务域→流程节点归类表**应包含以下列。

    | 列名     | 说明                       |
    | -------- | -------------------------- |
    | 业务域   | 业务域名称                 |
    | 域缩写   | 业务域缩写                 |
    | 节点编号 | 归属该业务域的流程节点编号 |
    | 节点名称 | 流程节点的业务名称         |
    | 所属流程 | 该节点所属的端到端流程编号 |

+   归类完成后应检查以下完整性：所有端到端流程是否均已归入业务域（穷尽性）；所有流程节点是否均已归入业务域（穷尽性）；是否有流程或节点同时归属多个业务域（互斥性）；业务域的编号缩写是否与流程、节点编号中的域缩写一致。

## 3.4 第4章 关键实体与生命周期

### 3.4.1 章节综述

+   从业务价值生态中识别关键业务实体，定义其生命周期状态流转，覆盖**实体线**的完整演绎过程。
+   关键实体与生命周期为第6章Epic的串联验证提供"实体流转效率/安全"维度的验证输入，同时为第9章完整性验证提供实体生命周期覆盖度的验证基准。
+   本章不直接推导Epic，而是作为第6章的验证维度——通过检查Epic是否覆盖了所有实体的关键生命周期阶段，确保需求的完整性。

### 3.4.2 章节结构

+   每个核心实体应分配唯一编号，采用双轨制标识。语义ID格式为 `EN-{域缩写}-{实体描述}`，短号格式为 `EN{3位数字}`，详见《P01-软件开发编号规范》2.2.9节。域缩写应与业务域定义表中的标准语义标识保持一致，实体描述应使用小写英文。
+   生命周期阶段编码采用双轨制标识。语义ID格式为 `{实体语义ID}-LC-{阶段描述}`，短号格式为 `LC{3位数字}`，详见《P01-软件开发编号规范》2.2.10节。阶段描述应使用小写英文，短号在所有实体的生命周期阶段中全局递增分配，不按实体分组。
+   事件编号采用双轨制标识。语义ID格式为 `EVT-{域缩写}-{事件描述}`，短号格式为 `EVT{3位数字}`，详见《P01-软件开发编号规范》2.2.11节。事件是触发实体状态流转的业务动作或系统动作，域缩写应与实体编号的域缩写保持一致，短号全局递增分配。
+   阶段编码与事件编号的区别：阶段编码标识"实体处于什么状态"，事件编号标识"什么动作触发了状态流转"，两者为不同概念，应分别定义。
+   实体分类应根据产品实际业务模式确定，不同类型的产品具有不同的实体分类结构。
+   **映射对象说明**：4.4节中"业务活动"特指第3章定义的PL2流程节点（编号格式BA-{域}-{序号}），即三线三级对齐模型中的活动线CL2。

+   第4章结构与内容要点如下表所示。

    | 编号 | 标题                  | 内容要点                                         | 表达规范                   |
    | ---- | --------------------- | ------------------------------------------------ | -------------------------- |
    | 4.1  | 核心实体识别与分类    | 识别价值生态中的核心业务对象，按归属和性质分类   | 实体分类规范               |
    |      |                       | 常见业务模式的实体分类参考                       | 常见业务模式实体分类参考表 |
    | 4.2  | 核心实体关系          | 定义核心实体之间的关系，以概念级ER图呈现         | 实体关系定义规范           |
    |      |                       | 概念级ER图（应以图形方式呈现）                   |                            |
    | 4.3  | 生命周期定义          | 每个核心实体的完整生命周期定义                   | 生命周期定义规范           |
    |      |                       | 编号示例                                         |                            |
    | 4.4  | 生命周期→业务活动映射 | 将每个实体的每个生命周期阶段映射到对应的业务活动 | 生命周期→业务活动映射规范  |

    +   表 第4章结构与内容要点

### 3.4.3 表达规范

#### 实体分类规范

+   核心实体按归属和性质进行分类。

+   实体分类应包含以下列。

    | 列名     | 说明                                 |
    | -------- | ------------------------------------ |
    | 分类     | 实体分类名称（根据产品业务模式确定） |
    | 实体编号 | 双轨制标识（语义ID + 短号）          |
    | 实体名称 | 核心业务对象名称                     |
    | 说明     | 该分类的业务含义和归属说明           |

#### 常见业务模式实体分类参考表

+   编写者应根据产品的核心价值交付模式判断业务模式类型——供给侧与需求侧通过平台连接的为双边平台型，面向企业内部管理的为企业工具型，管理物料/供应链的为供应链管理型，以法规/制度/合规为核心的为监管合规型。实际产品可能混合多种模式，此时可综合多种模式的分类特征。

+   以下为不同业务模式下的典型实体分类，供编写时参考。实际项目应根据自身业务模式定义分类，不应直接套用。

    | 业务模式     | 典型实体分类                     | 分类说明                                                      |
    | ------------ | -------------------------------- | ------------------------------------------------------------- |
    | 双边平台型   | 内容实体、主体实体、业务实体     | 内容实体为供给侧产出，主体实体为用户，业务实体为交易/互动对象 |
    | 企业工具型   | 业务对象实体、配置实体、记录实体 | 业务对象为核心管理对象，配置为系统参数，记录为操作痕迹        |
    | 供应链管理型 | 物料实体、单据实体、主体实体     | 物料为实物对象，单据为业务凭证，主体为供应链参与方            |
    | 监管合规型   | 法规实体、制度实体、证据实体     | 法规为外部规则，制度为内部规则，证据为合规执行记录            |

    +   表 常见业务模式的实体分类参考

+   双边平台型产品的实体分类编写示例如下。

    | 分类     | 实体编号   | 实体名称   | 说明                 |
    | -------- | ---------- | ---------- | -------------------- |
    | 内容实体 | {实体编号} | {实体名称} | 供给侧生产的内容资产 |
    | 主体实体 | {实体编号} | {实体名称} | 平台服务的用户主体   |
    | 业务实体 | {实体编号} | {实体名称} | 消费侧产生的业务对象 |

    +   表 实体分类示例（双边平台型）

#### 实体关系定义规范

+   定义核心实体之间的关系，有助于理解业务域划分和实体间的依赖。

+   实体关系应包含以下列。

    | 列名     | 说明                                        |
    | -------- | ------------------------------------------- |
    | 实体A    | 关系的一端实体                              |
    | 关系类型 | 1:1、1:N、M:N，或包含、引用、派生等业务关系 |
    | 实体B    | 关系的另一端实体                            |
    | 关系说明 | 关系的业务含义                              |

+   应以图形方式呈现核心实体关系（概念级ER图），不要求字段级别细节。

#### 生命周期定义规范

+   每个核心实体应定义其完整生命周期。

+   生命周期定义应包含以下列。

    | 列名         | 说明                                    |
    | ------------ | --------------------------------------- |
    | 实体编号     | 核心实体的双轨制编号                    |
    | 阶段编码     | 生命周期阶段的双轨制标识                |
    | 阶段名称     | 该生命周期阶段的业务名称                |
    | 状态         | 状态码（如DRAFT、REVIEW、ACTIVE、VOID） |
    | 说明         | 该阶段的业务说明                        |
    | 触发事件编号 | 触发进入该阶段的事件编号                |
    | 触发事件名称 | 触发事件的业务名称                      |

+   生命周期编号编写示例如下。

    | 实体编号              | 短号  | 阶段编码（语义ID）              | 阶段短号 | 阶段名称 | 状态   | 触发事件（语义ID）      | 事件短号 | 触发事件名称 |
    | --------------------- | ----- | ------------------------------- | -------- | -------- | ------ | ----------------------- | -------- | ------------ |
    | EN-CM-internal-policy | EN001 | EN-CM-internal-policy-LC-draft  | LC001    | 草稿     | DRAFT  | EVT-CM-policy-created   | EVT001   | 创建制度     |
    | EN-CM-internal-policy | EN001 | EN-CM-internal-policy-LC-review | LC002    | 审核中   | REVIEW | EVT-CM-policy-submitted | EVT002   | 提交审核     |
    | EN-CM-internal-policy | EN001 | EN-CM-internal-policy-LC-active | LC003    | 已生效   | ACTIVE | EVT-CM-policy-approved  | EVT003   | 审核通过     |
    | EN-CM-internal-policy | EN001 | EN-CM-internal-policy-LC-void   | LC004    | 已废止   | VOID   | EVT-CM-policy-voided    | EVT004   | 废止制度     |

    +   表 生命周期编号示例

#### 生命周期→业务活动映射规范

+   将每个实体的每个生命周期阶段映射到对应的业务活动（即第3章定义的PL2流程节点），确保可追溯。

+   映射应包含以下列。

    | 列名         | 说明                                     |
    | ------------ | ---------------------------------------- |
    | 实体编号     | 核心实体的编号                           |
    | 实体名称     | 核心实体的名称                           |
    | 阶段编码     | 生命周期阶段编码                         |
    | 阶段名称     | 生命周期阶段名称                         |
    | 触发事件编号 | 触发该阶段的事件编号                     |
    | 覆盖活动编号 | 对应的业务活动编号（BA-{域}-{序号}格式） |
    | 覆盖活动名称 | 对应的业务活动名称                       |
    | 覆盖状态     | 有/无（标识是否已有对应的业务活动覆盖）  |

## 3.5 第5章 利益相关方与角色分析

### 3.5.1 章节综述

+   本章覆盖**角色线**的完整演绎过程，从业务价值生态中识别利益相关方，逐级细化到用户角色，回答"谁使用系统"（Who）和"为什么需要"（Why）。
+   **角色(CL2)是Epic推导的主线来源**：角色的痛点、期望和目标直接驱动第6章Epic的定义。
+   本章结论向后传递：角色定义(CL2)为第6章Epic推导提供输入，工作场景为角色→业务活动映射提供桥梁，利益相关方分类(CL0/CL1)为非功能需求和约束条件提供来源。
+   除业务能力视角外，本章还引入用户体验（UX）补充视角：通过用户画像摘要帮助团队建立对角色的共情认知，通过关键旅程触点识别体验敏感的高价值交互节点。UX视角在宏观需求阶段保持轻量——画像仅保留摘要，旅程仅识别关键触点；完整的Persona和User Journey Map在阶段4（BC级详细需求）中深化。

### 3.5.2 章节结构

+   角色线的三级层级与本章各节的对应关系如下。

    | 层级 | 角色线概念     | 维度     | 对应章节                     | 说明                                 |
    | ---- | -------------- | -------- | ---------------------------- | ------------------------------------ |
    | CL0  | 所有利益相关方 | 全景     | 5.1 利益相关方识别           | 识别与产品相关的所有人员或组织       |
    | CL1  | 特定利益相关方 | 组织维度 | 5.1 利益相关方识别           | 定位具体的人员群体或组织             |
    | CL2  | 用户角色       | 岗位维度 | 5.2 用户角色定义             | 识别系统的直接使用者，定义痛点与期望 |
    | -    | 工作场景       | -        | 5.2 用户角色定义（内部属性） | 角色的职责域，桥接角色与业务活动     |

    +   表 角色线层级与章节对应

+   角色线的演绎过程如下图所示。

    ```graph
    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
    │                                                角色线演绎过程                                                                │
    ├──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                                                              │
    │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │
    │  │  CL0: 所有利益相关方（全景）                                                                                 5.1.1         │  │
    │  │                                                                                                                        │  │
    │  │  从业务价值生态中识别所有与产品相关的人员或组织                                                                        │  │
    │  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐                              │  │
    │  │  │  直接用户    │  │  间接用户    │  │  外部相关方  │  │  平台方      │  │  ...         │                              │  │
    │  │  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘                              │  │
    │  └────────────────────────────────────────────────┬───────────────────────────────────────────────────────────────────────┘  │
    │                                                   │                                                                          │
    │                                                   │  逐类定位到具体的人员群体/组织                                           │
    │                                                   ▼                                                                          │
    │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │
    │  │  CL1: 特定利益相关方（组织维度）                                                                             5.1.2         │  │
    │  │                                                                                                                        │  │
    │  │  ┌──────────────────────────────────────┐  ┌──────────────────────────────────────┐                                    │  │
    │  │  │  直接用户                            │  │  间接用户/外部/平台方                │                                    │  │
    │  │  │  ┌────────────┐  ┌────────────┐      │  │  ┌────────────┐  ┌────────────┐      │                                    │  │
    │  │  │  │ 合规部门   │  │ 业务部门   │ ...  │  │  │ 管理层     │  │ 监管机构   │ ...  │                                    │  │
    │  │  │  └────────────┘  └────────────┘      │  │  └────────────┘  └────────────┘      │                                    │  │
    │  │  └──────────────────┬───────────────────┘  └──────────────────────────────────────┘                                    │  │
    │  │                     │                                                                                                  │  │
    │  └─────────────────────┼──────────────────────────────────────────────────────────────────────────────────────────────────┘  │
    │                        │                                                                                                     │
    │                        │  从直接用户类利益相关方中识别具体的系统使用者(岗位维度)                                                 │
    │                        │  注意: 并非所有利益相关方都会成为系统角色                                                               │
    │                        ▼                                                                                                     │
    │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │
    │  │  CL2: 用户角色（岗位维度）                                                                               5.2           │  │
    │  │                                                                                                                        │  │
    │  │  ┌──────────────────────────────┐  ┌──────────────────────────────┐  ┌──────────────────────────────┐                  │  │
    │  │  │  UR-01 角色A                 │  │  UR-02 角色B                 │  │  UR-03 角色C                 │                  │  │
    │  │  │  ┌────────────────────────┐  │  │  ┌────────────────────────┐  │  │  ┌────────────────────────┐  │                  │  │
    │  │  │  │ 痛点: ...              │  │  │  │ 痛点: ...              │  │  │  │ 痛点: ...              │  │                  │  │
    │  │  │  │ 期望: ...              │  │  │  │ 期望: ...              │  │  │  │ 期望: ...              │  │                  │  │
    │  │  │  │ 目标: ...              │  │  │  │ 目标: ...              │  │  │  │ 目标: ...              │  │                  │  │
    │  │  │  ├────────────────────────┤  │  │  ├────────────────────────┤  │  │  ├────────────────────────┤  │                  │  │
    │  │  │  │ 工作场景(内部属性):    │  │  │  │ 工作场景(内部属性):    │  │  │  │ 工作场景(内部属性):    │  │                  │  │
    │  │  │  │  WS-01-01 场景甲       │  │  │  │  WS-02-01 场景丁       │  │  │  │  WS-03-01 场景庚       │  │                  │  │
    │  │  │  │    → BA-X-01, BA-X-02  │  │  │  │    → BA-Y-01           │  │  │  │    → BA-Z-01, BA-Z-02  │  │                  │  │
    │  │  │  │  WS-01-02 场景乙       │  │  │  │  WS-02-02 场景戊       │  │  │  │  WS-03-02 场景辛       │  │                  │  │
    │  │  │  │    → BA-X-03           │  │  │  │    → BA-Y-02, BA-Y-03  │  │  │  │    → BA-Z-03           │  │                  │  │
    │  │  │  └────────────────────────┘  │  │  └────────────────────────┘  │  │  └────────────────────────┘  │                  │  │
    │  │  └──────────────────────────────┘  └──────────────────────────────┘  └──────────────────────────────┘                  │  │
    │  │                                                                                                                        │  │
    │  │  角色(CL2)的痛点/期望 ──推导──▶ Epic                                                                                   │  │
    │  │  角色(CL2)的工作场景  ──桥接──▶ 业务活动(CL2)                                                                          │  │
    │  └────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │
    │                                                                                                                              │
    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
    ```

    +   图 角色线演绎过程

+   利益相关方识别过程分两步：先建立分类框架(CL0)，再在每个分类下定位具体的人员群体或组织(CL1)。
+   从特定利益相关方(CL1)到用户角色(CL2)的筛选规则：仅"直接用户"类利益相关方中的具体岗位进入角色(CL2)定义；间接用户、外部相关方、平台方通常不定义为系统角色，但其需求应作为约束条件或非功能需求的输入。如某利益相关方虽归为间接用户或外部相关方，但确实需要直接使用系统，应调整其分类为直接用户。
+   角色定义应重点描述痛点、期望和目标，作为Epic推导的直接输入。工作场景是角色的内部属性，描述角色在业务中承担的职责域，每个工作场景关联一组业务活动。
+   工作场景分为两类：**直接作业场景**（角色直接参与具体业务活动）和**间接作业场景**（角色通过管理、分析、决策间接支撑业务）。直接作业场景应关联具体的业务活动编号(BA-*)；间接作业场景不关联具体活动，而应说明其管理/分析对象。
+   关键旅程触点为可选内容，适用于用户体验敏感度较高的产品。对于内部工具类或后台服务类产品，可视实际情况省略。

+   第5章结构与内容要点如下表所示。

    | 编号  | 标题               | 内容要点                                       | 表达规范                 |
    | ----- | ------------------ | ---------------------------------------------- | ------------------------ |
    | 5.1   | 利益相关方识别     | 覆盖角色线CL0和CL1两个层级                     |                          |
    | 5.1.1 | 利益相关方分类     | CL0层：从业务价值生态出发建立分类框架          | 利益相关方分类框架       |
    |       | (CL0)              | MECE检查要求                                   |                          |
    | 5.1.2 | 特定利益相关方定位 | CL1层：在每个分类下定位具体的人员群体或组织    | 特定利益相关方定义规范   |
    |       | (CL1)              | CL1→CL2筛选规则                                |                          |
    | 5.2   | 用户角色定义       | 覆盖角色线CL2层级                              |                          |
    | 5.2.1 | 角色识别方法       | 从特定利益相关方(CL1)中识别系统直接使用者      |                          |
    |       |                    | MECE检查要求                                   |                          |
    | 5.2.2 | 角色定义规范       | 角色定义规范（含痛点、期望、目标、画像摘要等） | 角色定义规范             |
    |       |                    | 用户画像摘要填写说明                           |                          |
    |       |                    | 编写示例（透管云）                             |                          |
    | 5.2.3 | 工作场景定义       | 工作场景分类（直接/间接作业场景）              | 工作场景分类表           |
    |       | (角色内部属性)     | 角色-场景-活动关系图                           | 角色-场景-活动关系图规范 |
    |       |                    | 工作场景定义规范                               | 工作场景定义规范         |
    |       |                    | 编写示例（透管云）                             |                          |
    |       |                    | MECE检查要求                                   |                          |
    | 5.2.4 | 关键旅程触点       | 旅程触点与详细需求阶段User Journey Map的区分   | 旅程触点阶段区分表       |
    |       | (可选)             | 关键触点识别方法和判断标准                     | 关键旅程触点记录规范     |
    |       |                    | 触点与Epic的关系说明                           |                          |
    |       |                    | 编写示例（透管云）                             |                          |
    | 5.3   | 角色→业务活动      | 建立角色线CL2与活动线CL2之间的关联             | 角色→业务活动映射规范    |
    |       | 映射               | 通过工作场景桥接，覆盖度检查                   |                          |
    |       |                    | 反向覆盖度检查                                 |                          |

    +   表 第5章结构与内容要点

### 3.5.3 表达规范

#### 利益相关方分类框架

+   从业务价值生态出发，识别所有与产品相关的人员或组织。分类框架应根据产品实际业务模式调整，以下为通用分类参考。

    | 分类       | 说明                         |
    | ---------- | ---------------------------- |
    | 直接用户   | 系统的直接使用者             |
    | 间接用户   | 间接受益但不直接使用系统的人 |
    | 外部相关方 | 外部机构或人员               |
    | 平台方     | 平台运营和维护方             |

    +   表 利益相关方分类（通用参考）

+   MECE检查：各分类应互斥（每个利益相关方仅归属一个分类）且穷尽（业务价值生态中涉及的所有人员或组织均已覆盖）。

#### 特定利益相关方定义规范

+   在每个分类下，定位具体的人员群体或组织。特定利益相关方按组织维度定位，描述"是哪个部门/机构/群体"，而非具体岗位。

+   特定利益相关方定义应包含以下列。

    | 列名           | 说明                                                                                                            |
    | -------------- | --------------------------------------------------------------------------------------------------------------- |
    | 利益相关方编号 | 采用双轨制标识。语义ID格式：`SH-{利益相关方描述}`；短号格式：`SH{2位数字}`。详见《P01-软件开发编号规范》2.2.7节 |
    | 利益相关方名称 | 该人员群体或组织的名称                                                                                          |
    | 所属分类       | 直接用户/间接用户/外部相关方/平台方                                                                             |
    | 所属生态维度   | 该利益相关方在业务生态中的维度归属                                                                              |
    | 组织描述       | 该群体或组织的职责和业务范围                                                                                    |
    | 与产品关系     | 该利益相关方与产品的利益关系                                                                                    |
    | 影响程度       | 高/中/低                                                                                                        |

#### 角色识别方法

+   角色从特定利益相关方(CL1)中演绎而来，演绎过程为：筛选5.1.2中分类为"直接用户"的特定利益相关方；对每个直接用户类利益相关方，识别其内部具体的系统使用者岗位；每个岗位定义为一个用户角色(CL2)，分配角色编号。

+   角色识别的MECE检查：**互斥**——同一岗位不应定义为多个角色（如"合规专员"只定义一次，即使多个部门都有）；**穷尽**——所有直接用户类利益相关方中的系统使用者岗位均已识别。

#### 角色定义规范

+   用户角色定义应包含以下列。

    | 列名           | 说明                                                                                                                                                                                                   |
    | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
    | 角色编号       | 采用双轨制标识。语义ID格式：`ROLE-{角色名称}`；短号采用分类前缀方案（如`UP-01`/`UR-01`/`UC-01`），仅涉及单个利益相关方的项目可采用统一前缀方案（`ROLE{3位数字}`）。详见《P01-软件开发编号规范》2.2.2节 |
    | 角色名称       | 角色的业务名称（岗位名称）                                                                                                                                                                             |
    | 所属生态维度   | 该角色在业务生态中的维度归属                                                                                                                                                                           |
    | 所属利益相关方 | 该角色所属的特定利益相关方编号（关联5.1.2）                                                                                                                                                            |
    | 核心目标       | 该角色想要达成的主要目标                                                                                                                                                                               |
    | 主要职责       | 该角色负责的主要工作                                                                                                                                                                                   |
    | 痛点           | 该角色当前面临的主要问题                                                                                                                                                                               |
    | 期望           | 该角色期望产品帮助达成什么                                                                                                                                                                             |
    | 使用频率       | 高/中/低                                                                                                                                                                                               |
    | 用户画像摘要   | 该角色的典型背景、行为特征和核心诉求的简要描述（1-3句话），帮助团队建立共情认知                                                                                                                        |
    | 工作场景       | 该角色的工作场景编号列表（详见5.2.3定义）                                                                                                                                                              |

+   用户画像摘要填写说明：用户画像摘要是对角色的感性补充，用1-3句话勾勒该角色的典型特征，使团队成员能快速建立对这类用户的直觉认知。摘要应包含以下要素中的至少两项：典型背景（如从业年限、专业领域）、行为特征（如使用系统的习惯、决策模式）、核心诉求（如最关注的价值点）。用户画像摘要不替代痛点和期望字段——痛点/期望是Epic推导的结构化输入，画像摘要是辅助团队共情的非结构化描述。完整的Persona（含详细人口统计、动机模型、行为场景等）在阶段4（BC级详细需求）中基于此摘要深化，宏观需求阶段不要求完整Persona。

+   角色定义编写示例（透管云）如下。

    | 角色编号 | 角色名称 | 所属生态维度 | 核心目标         | 痛点             | 期望             | 使用频率 | 用户画像摘要                                                 | 工作场景           |
    | -------- | -------- | ------------ | ---------------- | ---------------- | ---------------- | -------- | ------------------------------------------------------------ | ------------------ |
    | UR-01    | 合规总监 | 消费侧A      | 统筹合规管理     | 难以掌握整体状态 | 全景透明可视     | 中       | 资深管理者，关注全局态势而非操作细节，决策依赖数据看板和趋势 | WS-01-01, WS-01-02 |
    | UR-05    | 执行人员 | 消费侧A      | 完成合规执行任务 | 不清楚执行要求   | 精准推送到岗到人 | 高       | 一线操作人员，IT技能有限，需要系统主动推送清晰的执行指引     | WS-05-01           |
    | UR-06    | 合规专员 | 消费侧A      | 确保企业合规     | 人工比对效率低   | 自动化比对与追溯 | 高       | 专业岗位，熟悉法规但被重复性比对工作消耗大量精力             | WS-06-01, WS-06-02 |

    +   表 用户角色示例（透管云）

#### 工作场景分类表

+   工作场景是角色的内部属性，描述角色在业务中承担的职责域。两类场景的区分标准和定义要求如下。

    | 场景类型     | 定义                                       | 关联对象                            | 典型示例               |
    | ------------ | ------------------------------------------ | ----------------------------------- | ---------------------- |
    | 直接作业场景 | 角色直接参与具体业务活动的工作场景         | 关联具体的业务活动(CL2/PL2流程节点) | 法规比对分析、证据采集 |
    | 间接作业场景 | 角色通过管理、分析、决策间接支撑业务的场景 | 不关联具体活动，说明管理/分析对象   | 合规态势监控、决策支持 |

    +   表 工作场景分类

+   **直接作业场景**：角色通过系统直接参与第3章定义的PL2流程节点（业务活动）。每个直接作业场景应明确关联一个或多个业务活动编号（BA-*）。
+   **间接作业场景**：角色不直接执行具体的业务活动，而是通过系统进行管理、监控、分析、决策等间接支撑工作。间接作业场景不关联具体的业务活动编号，而应说明其管理或分析的对象（如"合规管理域全局状态"、"执行人员群体的工作进度"等）。

#### 角色-场景-活动关系图规范

+   角色-场景-活动的关联逻辑应以图形方式呈现。关系图应体现以下关联逻辑：角色(CL2)包含工作场景（1:N包含关系）；直接作业场景关联业务活动(CL2/PL2流程节点)（M:N关联关系）；间接作业场景不关联业务活动，通过说明管理/分析对象保持可追溯性。

+   关系图的参考结构如下。

    ```graph
    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────┐
    │                                  角色-场景-活动关系图                                                │
    ├──────────────────────────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                                      │
    │  ┌──────────────────┐                                                                                │
    │  │  UR-01 角色A     │                                                                                │
    │  │  ────────────    │              ┌──────────────────┐                        ┌──────────────────┐  │
    │  │                  │   包含       │  WS-01-01        │         不关联         │                  │  │
    │  │  痛点: ...       ├─────────────▶│  场景甲          │─ ─ ─ ─ ─ ── ─ ─ ─ ─ ─ ─│  (间接作业场景   │  │
    │  │  期望: ...       │              │  (间接作业)      │                        │   说明管理对象)  │  │
    │  │  目标: ...       │              └──────────────────┘                        └──────────────────┘  │
    │  │                  │                                                                                │
    │  │                  │              ┌──────────────────┐                        ┌──────────────────┐  │
    │  │                  │   包含       │  WS-01-02        │         关联           │  BA-X-01         │  │
    │  │                  ├─────────────▶│  场景乙          ├───────────────────────▶│  活动甲          │  │
    │  │                  │              │  (直接作业)      │                        │  ...             │  │
    │  └──────────────────┘              └──────────────────┘                        └──────────────────┘  │
    │                                                                                                      │
    │                                                                                                      │
    │  ┌──────────────────┐                                                                                │
    │  │  UR-02 角色B     │                                                                                │
    │  │  ────────────    │              ┌──────────────────┐                        ┌──────────────────┐  │
    │  │                  │   包含       │  WS-02-01        │         关联           │  BA-Y-01         │  │
    │  │  痛点: ...       ├─────────────▶│  场景丙          ├───────────────────────▶│  活动丙          │  │
    │  │  期望: ...       │              │  (直接作业)      │                        │  ...             │  │
    │  │  目标: ...       │              └──────────────────┘                        └──────────────────┘  │
    │  │                  │                                                                                │
    │  │                  │              ┌──────────────────┐                        ┌──────────────────┐  │
    │  │                  │   包含       │  WS-02-02        │         关联           │  BA-Y-02         │  │
    │  │                  ├─────────────▶│  场景戊          ├───────────────────────▶│  活动戊          │  │
    │  │                  │              │  (直接作业)      │─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─▶│  ...             │  │
    │  └──────────────────┘              └──────────────────┘                        └──────────────────┘  │
    │                                                                                                      │
    │  关系说明:                                                                                           │
    │  - 角色与工作场景: 1:N 包含关系，工作场景是角色的内部属性                                            │
    │  - 工作场景与业务活动: M:N 关联关系，一个场景可关联多个活动，一个活动可被多个场景关联                │
    │  - 通过此结构，角色(CL2)经由工作场景间接关联到业务活动(CL2/PL2流程节点)                              │
    │  - 间接作业场景不关联业务活动，但通过说明其管理/分析对象保持可追溯性                                 │
    │                                                                                                      │
    └──────────────────────────────────────────────────────────────────────────────────────────────────────┘
    ```

    +   图 角色-场景-活动关系图

#### 工作场景定义规范

+   工作场景定义应包含以下列。

    | 列名     | 说明                                                                                                                |
    | -------- | ------------------------------------------------------------------------------------------------------------------- |
    | 场景编号 | 采用双轨制标识。语义ID格式：`WS-{角色名}-{场景描述}`；短号格式：`WS{3位数字}`。详见《P01-软件开发编号规范》2.2.12节 |
    | 场景名称 | 工作场景的业务名称                                                                                                  |
    | 场景类型 | 直接作业场景 / 间接作业场景                                                                                         |
    | 所属角色 | 该场景归属的角色编号                                                                                                |
    | 场景描述 | 该角色在此场景下的工作内容和职责范围                                                                                |
    | 工作目标 | 该场景下角色要达成的目标                                                                                            |
    | 关联痛点 | 该场景对应角色的哪些痛点                                                                                            |
    | 关联期望 | 该场景对应角色的哪些期望                                                                                            |
    | 关联活动 | 直接作业场景填写关联的业务活动编号列表；间接作业场景填写其管理/分析对象的说明                                       |

+   工作场景编写示例（透管云）如下。

    | 场景编号 | 场景名称     | 场景类型     | 所属角色 | 场景描述                                 | 工作目标               | 关联痛点         | 关联活动                       |
    | -------- | ------------ | ------------ | -------- | ---------------------------------------- | ---------------------- | ---------------- | ------------------------------ |
    | WS-01-01 | 合规态势监控 | 间接作业场景 | UR-01    | 从全局视角监控企业合规状态，识别风险趋势 | 掌握整体合规态势       | 难以掌握整体状态 | 管理对象：合规管理域全局状态   |
    | WS-01-02 | 合规决策支持 | 间接作业场景 | UR-01    | 基于合规数据进行管理决策和资源调配       | 数据驱动合规决策       | 难以掌握整体状态 | 管理对象：合规管理域资源与进度 |
    | WS-05-01 | 合规任务执行 | 直接作业场景 | UR-05    | 接收并执行分配的合规要求，记录执行证据   | 完成合规执行并留痕     | 不清楚执行要求   | BA-EX-01, BA-EX-02             |
    | WS-06-01 | 法规比对分析 | 直接作业场景 | UR-06    | 跟踪外部法规变化，与内部制度进行比对分析 | 快速识别新规对内规影响 | 人工比对效率低   | BA-CM-01, BA-CM-02             |
    | WS-06-02 | 合规检查应对 | 直接作业场景 | UR-06    | 准备合规检查材料，组织证据链             | 高效应对外部检查       | 证据采集困难     | BA-EX-03等                     |

    +   表 工作场景示例（透管云）

+   工作场景梳理的MECE检查：**穷尽**——角色的所有主要职责是否都已覆盖到工作场景中；**互斥**——各工作场景之间的职责范围是否存在重叠；**分类**——每个工作场景的场景类型标注是否正确（直接作业场景应能指出关联的业务活动，间接作业场景应能说明管理/分析对象）。

#### 旅程触点阶段区分表

+   关键旅程触点（Key Journey Touchpoint）识别用户角色在端到端业务流程中与系统交互的关键节点，标识体验敏感的高价值时刻。宏观需求阶段的旅程触点与详细需求阶段的User Journey Map（用户旅程图）的区分如下。

    | 维度     | 宏观需求阶段（本节）                       | 详细需求阶段（阶段4）                        |
    | -------- | ------------------------------------------ | -------------------------------------------- |
    | 产出物   | 关键旅程触点清单                           | 完整User Journey Map                         |
    | 粒度     | 仅识别关键触点（高价值交互节点）           | 展开每个触点的完整交互流程、情绪曲线、机会点 |
    | 覆盖范围 | 每个角色选取3-5个最重要的触点              | 角色的全部交互场景                           |
    | 用途     | 为Epic细化提供UX补充视角，标识体验敏感区域 | 为Feature定义和交互设计提供完整输入          |
    | 是否必填 | 可选                                       | 按BC级需求规范要求                           |

    +   表 旅程触点在两个阶段的区分

+   关键旅程触点识别方法：以角色(CL2)为主体，沿其工作场景(5.2.3)涉及的业务活动(CL2)链路，识别角色与系统交互的关键节点。关键触点的判断标准：该节点是角色完成业务活动的必经交互点，且至少满足以下条件之一——体验不佳会直接导致角色放弃或绕过系统、该节点的效率直接影响角色的核心痛点、该节点涉及高频或高价值的业务决策。每个角色识别3-5个关键触点即可，不追求穷尽。

#### 关键旅程触点记录规范

+   关键旅程触点记录应包含以下列。

    | 列名         | 说明                                                                          |
    | ------------ | ----------------------------------------------------------------------------- |
    | 触点编号     | 采用双轨制标识。语义ID格式：`TP-{角色名}-{触点描述}`；短号格式：`TP{3位数字}` |
    | 所属角色     | 该触点对应的角色编号                                                          |
    | 关联场景     | 该触点所在的工作场景编号                                                      |
    | 关联活动     | 该触点对应的业务活动编号                                                      |
    | 触点描述     | 角色在此节点与系统交互的简要描述（做什么、为什么重要）                        |
    | 体验敏感因素 | 该触点为什么是体验敏感的（如效率瓶颈、认知负荷高、出错代价大等）              |
    | 关联Epic     | 该触点归属的Epic短号（可在Epic推导后回填）                                    |

+   关键旅程触点编写示例（透管云）如下。

    | 触点编号 | 所属角色 | 关联场景 | 关联活动 | 触点描述                       | 体验敏感因素                     | 关联Epic |
    | -------- | -------- | -------- | -------- | ------------------------------ | -------------------------------- | -------- |
    | TP-06-01 | UR-06    | WS-06-01 | BA-CM-01 | 新法规发布后首次进入系统比对   | 时效性要求高，延迟可能导致漏规   | EPIC001  |
    | TP-06-02 | UR-06    | WS-06-02 | BA-EX-03 | 外部检查前集中准备证据材料     | 时间压力大，材料缺失代价高       | EPIC003  |
    | TP-05-01 | UR-05    | WS-05-01 | BA-EX-01 | 接收合规任务推送并理解执行要求 | 认知负荷高，理解偏差导致执行错误 | EPIC003  |
    | TP-01-01 | UR-01    | WS-01-01 | -        | 登录后查看企业合规态势全景看板 | 首屏信息密度与可读性的平衡       | EPIC004  |

    +   表 关键旅程触点示例（透管云）

+   旅程触点与Epic的关系：旅程触点不直接推导Epic——Epic由角色痛点/期望推导（详见6.2.1）。旅程触点的作用是为已推导的Epic标识其中体验敏感的区域，供下游详细需求阶段重点关注。推导完Epic后，应回填每个触点的"关联Epic"字段，确保体验敏感区域被Epic覆盖。若发现某个关键触点无法关联到任何Epic，应评估是否存在遗漏的业务能力需求。

#### 角色→业务活动映射规范

+   本节建立角色线CL2（用户角色）与活动线CL2（流程节点）之间的关联。**映射对象说明**：此处"业务活动"特指第3章定义的PL2流程节点（编号格式BA-{域}-{序号}），即三线三级对齐模型中的活动线CL2，是宏观需求粒度的基本单元。

+   映射通过工作场景（角色内部属性）桥接，体现角色(CL2) → 工作场景 → 业务活动(CL2/PL2流程节点)的完整链路。映射结果是后续Epic推导和验证的基础输入。

+   角色→业务活动映射应包含以下列。

    | 列名         | 说明                                                              |
    | ------------ | ----------------------------------------------------------------- |
    | 角色编号     | 用户角色编号                                                      |
    | 角色名称     | 用户角色名称                                                      |
    | 场景编号     | 工作场景编号                                                      |
    | 场景名称     | 工作场景名称                                                      |
    | 场景类型     | 直接作业场景/间接作业场景                                         |
    | 关联活动编号 | 直接作业场景填写业务活动编号列表；间接作业场景填写"-"             |
    | 关联活动名称 | 直接作业场景填写活动名称列表；间接作业场景填写管理/分析对象的说明 |
    | 活动数量     | 直接作业场景填写关联的活动数；间接作业场景填写"-"                 |

+   映射完成后应检查以下覆盖度：每个角色(CL2)是否都有至少一个工作场景；直接作业场景是否都关联了至少一个业务活动(CL2/PL2流程节点)；间接作业场景是否都已说明其管理/分析对象（如关联的业务域或角色群体）；**反向覆盖度检查**——第3章识别的所有PL2流程节点(BA-*)是否都被至少一个直接作业场景覆盖。如存在未被任何直接作业场景覆盖的业务活动(CL2/PL2流程节点)，应回溯检查是否遗漏了角色或工作场景。

## 3.6 第6章 业务能力需求（Epic）

### 3.6.1 章节综述

+   Epic是宏观需求的核心粒度，本章定义Epic的推导、定义和验证的编写规则。
+   **推导逻辑**：从角色(CL2)的痛点、期望和目标出发，推导产品需要提供的业务能力。
+   **验证逻辑**：推导完成后，用业务活动(CL2)覆盖度和实体生命周期(CL2)覆盖度进行串联验证，发现遗漏则补充Epic。
+   Epic是三条分析线索（活动线、角色线、实体线）在CL2层级的汇聚产出。本章既是角色线分析的终点，也是三线汇聚的交叉验证点。

### 3.6.2 章节结构

+   本章的结构遵循"能力架构→Epic定义→映射与验证"的递进关系：先设计全局能力架构，再定义每个Epic的详细内容，最后通过三维映射验证完整性。
+   能力架构应从全局视角设计，体现业务域划分和能力层次。层次划分应根据产品实际业务模式和技术架构确定，层次数量宜为2-4层。
+   Epic推导遵循"主线推导 + 抽象过滤 + 两维验证补充"的逻辑。推导主线以角色(CL2)的痛点与期望为输入，不区分痛点/期望来自直接作业场景还是间接作业场景。
+   每个候选Epic在正式纳入清单前，应通过粒度检查（抽象过滤），防止将Feature级需求误提为Epic。
+   每个Epic应定义完成标准（Definition of Done）和业务验收场景。
+   跨域交互视图为可选但推荐的内容：当多个Epic分属不同业务域时，应识别跨业务域的高层级协作关系，为阶段3的BC划分提供集成约束输入。

+   第6章结构与内容要点如下表所示。

    | 编号  | 标题          | 内容要点                                               | 表达规范                  |
    | ----- | ------------- | ------------------------------------------------------ | ------------------------- |
    | 6.1   | 能力架构设计  | 从全局视角设计产品能力架构                             |                           |
    |       |               | 能力架构层次参考                                       | 能力架构层次参考规范      |
    |       |               | 跨域交互视图（可选但推荐）                             | 跨域交互视图记录规范      |
    | 6.2   | Epic定义规范  | Epic推导逻辑和定义规范                                 |                           |
    | 6.2.1 | Epic推导逻辑  | 主线推导 + 抽象过滤 + 两维验证补充                     | Epic推导逻辑链图规范      |
    |       |               | Epic抽象过滤判断标准                                   | Epic抽象过滤判断标准      |
    |       |               | Feature候选项降级记录                                  | Feature候选项降级记录规范 |
    | 6.2.2 | Epic定义规范  | Epic定义规范（含编号、能力定义、业务边界、交互边界等） | Epic定义规范              |
    |       |               | 待定归属项记录                                         | 待定归属项记录规范        |
    |       |               | 编写示例（透管云）                                     |                           |
    | 6.2.3 | Epic编号规范  | 双轨制编号体系、语义ID格式、短号格式、使用规则         | Epic编号格式规范          |
    | 6.2.4 | Epic示例      | 编写示例（透管云）                                     |                           |
    | 6.2.5 | Epic完成标准  | 完成必要条件 + 完成充分条件                            | Epic完成必要条件规范      |
    |       |               | 业务验收场景规范                                       | Epic完成充分条件规范      |
    |       |               | 编写示例（透管云）                                     | 业务验收场景规范          |
    | 6.3   | 映射与验证    | Epic推导后的三维映射验证                               |                           |
    | 6.3.1 | 业务活动→Epic | 检查所有业务活动是否被Epic覆盖                         | 业务活动→Epic映射规范     |
    |       | 映射          |                                                        |                           |
    | 6.3.2 | 实体生命周期  | 检查所有实体生命周期阶段是否被Epic覆盖                 | 实体生命周期→Epic映射规范 |
    |       | →Epic映射     |                                                        |                           |
    | 6.3.3 | 角色痛点/期望 | 确认所有角色的痛点和期望已转化为Epic                   | 角色→Epic确认规范         |
    |       | →Epic确认     |                                                        |                           |
    | 6.3.4 | 冲突调和与    | 角色线与实体线/活动线冲突时的调和规则                  |                           |
    |       | 遗漏补充      | 三维映射中发现的未覆盖项的处理                         |                           |

    +   表 第6章结构与内容要点

### 3.6.3 表达规范

#### 能力架构设计方法论

+   **逻辑推测声明**：以下方法论步骤为基于业界常见实践的逻辑推测，非引用自特定权威标准。

+   能力架构设计应遵循以下步骤。

    +   **步骤1 确定输入**：汇总第3章识别的业务域定义和第6.2节推导的Epic初始清单，作为能力架构设计的输入。
    +   **步骤2 确定层次结构**：根据产品实际业务模式和技术架构，参照下方"能力架构层次参考规范"确定本产品的层次划分方案（宜2-4层），并定义各层的职责边界。
    +   **步骤3 Epic归层**：将每个Epic归入对应的能力层次。归层依据：直接支撑业务活动的Epic归入业务能力层，提供数据服务的Epic归入数据与分析能力层，提供通用基础设施的Epic归入基础平台能力层。
    +   **步骤4 检查一致性**：检查层间依赖方向是否一致（上层依赖下层，不应出现下层依赖上层的反向依赖）；检查每个业务域是否都有Epic覆盖；检查是否存在未归层的Epic。

#### 能力架构层次参考规范

+   能力架构的层次划分应根据产品实际业务模式和技术架构确定，不同产品的层次结构可能不同。层次划分原则：各层次应职责清晰，层间依赖方向一致（上层依赖下层）；层次数量宜为2-4层，过多导致架构过度设计，过少则缺乏结构性。

+   以下为常见的能力架构层次参考，实际项目应根据自身业务模式和技术架构定义层次，不应直接套用。

    | 能力层次         | 说明                                                   |
    | ---------------- | ------------------------------------------------------ |
    | 业务能力层       | 直接支撑业务活动的核心业务能力                         |
    | 数据与分析能力层 | 数据存储、管理、分析等支撑能力                         |
    | 基础平台能力层   | 平台基础设施能力（认证、权限、审计等基础性需求归此层） |

    +   表 能力架构层次参考

#### 跨域交互视图记录规范

+   **跨域交互视图**：当多个Epic分属不同业务域时，应在能力架构设计中识别跨业务域的高层级协作关系，为阶段3的BC划分提供集成约束输入。

+   跨域交互视图的识别方法：遍历所有Epic，识别存在依赖关系或数据交换的Epic对；对于分属不同业务域的Epic对，记录其协作关系和关键数据流向；标识协作关系的类型（数据共享、事件触发、流程编排等）。

+   跨域交互视图记录应包含以下列。

    | 列名               | 说明                         |
    | ------------------ | ---------------------------- |
    | 源Epic短号         | 协作关系的发起方Epic短号     |
    | 源Epic所属业务域   | 发起方Epic所属的业务域       |
    | 目标Epic短号       | 协作关系的接收方Epic短号     |
    | 目标Epic所属业务域 | 接收方Epic所属的业务域       |
    | 交互类型           | 数据共享/事件触发/流程编排等 |
    | 关键数据流向       | 协作关系中的关键数据描述     |
    | 说明               | 协作关系的业务说明           |

+   跨域交互视图的定位说明：跨域交互视图在宏观需求阶段保持高层级，仅识别Epic间的协作关系和关键数据流向，不涉及接口规格或通信协议的定义。此视图为阶段3（概要设计）的BC划分提供集成约束输入——在划分BC时应充分考虑已识别的跨域交互关系，避免出现严重的集成障碍。跨域交互视图与Epic定义规范中的"交互边界"（详见6.2.2）互为补充——本视图从全局视角记录Epic间的协作关系，交互边界从单个Epic视角明确其与外部的责任分工，两者应保持一致。交互类型参考：数据共享（两个Epic共享同一实体的数据）、事件触发（一个Epic的操作触发另一个Epic的业务流程）、流程编排（多个Epic的能力按顺序协作完成一个端到端业务流程）。

#### Epic推导逻辑链图规范

+   Epic的推导过程应以图形方式呈现完整的逻辑链，覆盖主线推导和两维验证补充两个阶段。

+   推导逻辑链图应体现以下结构。

    ```graph
    ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
    │                                                  Epic推导逻辑链                                              │
    ├──────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                                              │
    │  ====== 主线推导: 角色(CL2) → 候选Epic → 抽象过滤 → Epic ======                                              │
    │                                                                                                              │
    │  ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐   │
    │  │  输入: 角色(CL2)定义（来自第5章）                                                                     │   │
    │  │                                                                                                       │   │
    │  │  UR-01 角色A               UR-02 角色B                UR-03 角色C                                     │   │
    │  │  ┌──────────────────┐      ┌──────────────────┐       ┌──────────────────┐                            │   │
    │  │  │ 痛点1: ...       │      │ 痛点1: ...       │       │ 痛点1: ...       │                            │   │
    │  │  │ 痛点2: ...       │      │ 期望1: ...       │       │ 期望1: ...       │                            │   │
    │  │  │ 期望1: ...       │      │ 期望2: ...       │       │ 目标1: ...       │                            │   │
    │  │  └────────┬─────────┘      └────────┬─────────┘       └────────┬─────────┘                            │   │
    │  └───────────┼─────────────────────────┼──────────────────────────┼──────────────────────────────────────┘   │
    │              │                         │                          │                                          │
    │              ▼                         ▼                          ▼                                          │
    │  ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐   │
    │  │  推导过程: 逐角色、逐痛点/期望推导                                                                    │   │
    │  │                                                                                                       │   │
    │  │  步骤1: 取一个角色的一个痛点或期望                                                                    │   │
    │  │  步骤2: 问"产品需要提供什么业务能力来解决此痛点/满足此期望?"                                          │   │
    │  │  步骤3: 该业务能力即为一个候选Epic                                                                    │   │
    │  │  步骤4: 对候选Epic执行抽象过滤（详见过滤判断标准表）                                                  │   │
    │  │         通过 → 进入步骤5                                                                              │   │
    │  │         不通过 → 降级为Feature候选项，记录后跳过                                                      │   │
    │  │  步骤5: 检查该候选Epic是否已存在(多个痛点/期望可能指向同一Epic)                                       │   │
    │  │  步骤6: 若为新Epic则定义，若已存在则补充关联关系                                                      │   │
    │  │  步骤7: 重复步骤1-6，直到所有角色的痛点和期望均已处理                                                 │   │
    │  └───────────┬───────────────────────────────────────────────────────────────────────────────────────────┘   │
    │              │                                                                                               │
    │              ▼                                                                                               │
    │  ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐   │
    │  │  产出: Epic初始清单（角色驱动） + Feature候选项降级记录                                               │   │
    │  │                                                                                                       │   │
    │  │  Epic初始清单:                                                                                        │   │
    │  │  EPIC-{域}-xxx      EPIC-{域}-yyy      EPIC-{域}-zzz      ...                                         │   │
    │  │  (EPIC001)          (EPIC002)           (EPIC003)                                                     │   │
    │  │  推导来源:角色驱动  推导来源:角色驱动   推导来源:角色驱动                                             │   │
    │  │                                                                                                       │   │
    │  │  Feature候选项降级记录:                                                                               │   │
    │  │  {候选项X}(降级,归属EPIC001)   {候选项Y}(降级,归属待定)   ...                                         │   │
    │  └───────────┬───────────────────────────────────────────────────────────────────────────────────────────┘   │
    │              │                                                                                               │
    │              │                                                                                               │
    │  ====== 验证补充: 业务活动(CL2/PL2流程节点) + 生命周期(CL2) → 发现遗漏 → 补充Epic ======                     │
    │              │                                                                                               │
    │              ▼                                                                                               │
    │  ┌──────────────────────────────────────────────────┐    ┌──────────────────────────────────────────────┐    │
    │  │  验证维度1: 业务活动覆盖(活动线CL2)              │    │  验证维度2: 实体生命周期覆盖(实体线CL2)      │    │
    │  │                                                  │    │                                              │    │
    │  │  逐一检查:                                       │    │  逐一检查:                                   │    │
    │  │  每个业务活动(BA-*,CL2/PL2流程节点)              │    │  每个实体的每个生命周期阶段                  │    │
    │  │  是否被至少一个Epic覆盖?                         │    │  是否被至少一个Epic覆盖?                     │    │
    │  │                                                  │    │                                              │    │
    │  │  ┌────────────┐  ┌────────────┐                  │    │  ┌────────────┐  ┌────────────┐              │    │
    │  │  │ 已覆盖 [Y] │  │ 未覆盖 [N] │──▶ 遗漏!         │    │  │ 已覆盖 [Y] │  │ 未覆盖 [N] │──▶ 遗漏!     │    │
    │  │  └────────────┘  └────────────┘                  │    │  └────────────┘  └────────────┘              │    │
    │  └──────────────────────────┬───────────────────────┘    └──────────────────────────┬───────────────────┘    │
    │                             │                                                       │                        │
    │                             └──────────────────┬────────────────────────────────────┘                        │
    │                                                │                                                             │
    │                                                ▼                                                             │
    │  ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐   │
    │  │  遗漏分析与补充                                                                                       │   │
    │  │                                                                                                       │   │
    │  │  - 分析未覆盖的CL2/PL2流程节点或生命周期阶段是否需要产品支撑                                          │   │
    │  │  - 若需要，补充Epic并标注推导来源为"实体验证补充"或"活动验证补充"                                     │   │
    │  │  - 若不需要（由外部系统或人工流程承担），记录说明                                                     │   │
    │  └───────────┬───────────────────────────────────────────────────────────────────────────────────────────┘   │
    │              │                                                                                               │
    │              ▼                                                                                               │
    │  ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐   │
    │  │  最终产出: Epic完整清单                                                                               │   │
    │  │                                                                                                       │   │
    │  │  EPIC-{域}-xxx      EPIC-{域}-yyy      EPIC-{域}-zzz      ...                                         │   │
    │  │  (EPIC001)          (EPIC002)           (EPIC003)                                                     │   │
    │  │  推导来源:角色驱动  推导来源:角色驱动   推导来源:活动验证补充                                         │   │
    │  └───────────────────────────────────────────────────────────────────────────────────────────────────────┘   │
    │                                                                                                              │
    └──────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
    ```

    +   图 Epic推导逻辑链

+   推导主线说明：推导主线以角色(CL2)的痛点与期望为输入，不区分痛点/期望来自直接作业场景还是间接作业场景——两类场景下的痛点和期望均可推导Epic。直接作业场景的痛点/期望通常推导业务能力类Epic（如"新规比对分析"痛点→"新规应对能力"Epic）；间接作业场景的痛点/期望通常推导管理/分析/协调类Epic（如"合规态势监控"痛点→"合规看板能力"Epic）。

#### Epic抽象过滤判断标准

+   每个候选Epic在正式纳入清单前，应通过粒度检查，防止将Feature级需求误提为Epic。过滤判断标准如下。

    | 判断维度   | 过滤问题                                                        | 通过标准（是Epic）                               | 不通过（疑似Feature）                  |
    | ---------- | --------------------------------------------------------------- | ------------------------------------------------ | -------------------------------------- |
    | 能力独立性 | 该候选项是否描述一个独立的业务能力域？                          | 是一个可独立定义边界的能力域                     | 是某个已有Epic下的具体功能点或交互方式 |
    | 多活动覆盖 | 该候选项是否支撑多个业务活动(CL2/PL2流程节点)或多个角色的痛点？ | 覆盖多个CL2/PL2流程节点，或解决多个角色/多个痛点 | 仅对应单一操作步骤或单一界面交互       |
    | 可拆分性   | 该候选项在详细需求阶段是否可进一步拆分为Feature？               | 可预见地拆分为多个Feature                        | 已经是一个具体的功能特性，难以继续拆分 |
    | 目标对齐   | 该候选项能否直接追溯到业务目标或困境？                          | 可直接追溯到业务目标                             | 仅为实现某个能力的技术手段或辅助功能   |

    +   表 Epic抽象过滤判断标准

+   过滤结果的处理方式：**通过**——候选项确认为Epic，进入Epic定义流程；**不通过**——候选项降级为Feature候选项，记录其来源角色和痛点/期望，留待阶段4（BC级详细需求）处理。

#### Feature候选项降级记录规范

+   未通过抽象过滤的候选项应记录为Feature候选项，包含以下列。

    | 列名           | 说明                       |
    | -------------- | -------------------------- |
    | 候选项名称     | 候选项的名称               |
    | 来源角色       | 推导该候选项的角色编号     |
    | 来源痛点/期望  | 推导该候选项的痛点或期望   |
    | 降级原因       | 不通过的判断维度说明       |
    | 可能归属的Epic | 该候选项可能归属的Epic短号 |

#### Epic定义规范

+   Epic定义应包含以下列。

    | 列名     | 说明                                                                                                                                                                                                                            |
    | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | Epic编号 | 采用双轨制标识。语义ID格式：`EPIC-{业务域}-{功能模块}`，用于文档索引和追溯；短号格式：`EPIC{3位数字}`，用于日常交流和快速检索。详见6.2.3编号规范                                                                                |
    | Epic名称 | Epic的业务名称（中文）                                                                                                                                                                                                          |
    | 能力定义 | 该能力是什么（一段话描述）                                                                                                                                                                                                      |
    | 核心要素 | 该能力包含哪些核心要素                                                                                                                                                                                                          |
    | 推导来源 | 角色驱动（主线）/ 实体验证补充 / 活动验证补充                                                                                                                                                                                   |
    | 来源角色 | 推导该Epic的角色编号(UR-*)及其痛点/期望                                                                                                                                                                                         |
    | 关联活动 | 该Epic支撑的业务活动编号(BA-*)（可多个）                                                                                                                                                                                        |
    | 依赖关系 | 该能力依赖哪些其他能力                                                                                                                                                                                                          |
    | 业务价值 | 该能力解决什么问题                                                                                                                                                                                                              |
    | 关联困境 | 追溯到的业务困境                                                                                                                                                                                                                |
    | 业务边界 | 该Epic明确不提供的能力或不覆盖的场景（Out of Scope），用于划清能力边界，避免下游阶段的范围争议。含待定归属项（详见下方填写说明）                                                                                                |
    | 交互边界 | 该Epic与外部系统或其他BC/Epic之间的责任分工与协作界面（详见下方填写说明），用于明确能力的责任归属，避免阶段3概要设计时架构方案的频繁推翻                                                                                        |
    | 验证方式 | 该Epic的验证方法类型（可选）。取值参考：业务验收场景验证（通过6.2.5定义的验收场景判定）、指标度量验证（通过可量化的业务指标判定）、专家评审验证（通过领域专家评审判定）。Epic粒度较粗时可仅标注类型，具体验证标准由下游阶段细化 |

+   推导来源说明：**角色驱动**——由角色(CL2)的痛点或期望直接推导（主线，绝大多数Epic来自此），无论痛点/期望来自直接作业场景还是间接作业场景，推导来源均标注为"角色驱动"；**实体验证补充**——由实体生命周期(CL2)覆盖度验证发现遗漏后补充；**活动验证补充**——由业务活动(CL2)覆盖度验证发现遗漏后补充。

+   业务边界填写说明：业务边界应列出该Epic容易被误认为包含但实际不在范围内的能力或场景。典型的边界声明包括：不支撑的角色、不覆盖的业务活动、不处理的实体状态流转、由其他Epic或外部系统承担的能力。对于宏观需求阶段，业务边界描述应保持在能力级别，不应细化到功能点或交互细节。

+   交互边界填写说明：交互边界应描述该Epic与外部系统或其他BC/Epic之间的责任分工——即该Epic在哪些能力上依赖外部提供输入或服务，以及该Epic向外部提供什么输出或能力。典型的交互边界描述应包含：交互对象（外部系统名称、其他Epic短号或待定的BC标识）、交互方向（本Epic依赖对方/对方依赖本Epic/双向协作）、交互内容（数据、事件、能力服务等）。交互边界与跨域交互视图（6.1）互为补充——跨域交互视图从全局视角记录Epic间的协作关系，交互边界从单个Epic视角明确其与外部的责任分工。在宏观需求阶段，交互边界应保持在能力级别，不应细化到接口规格或通信协议。若交互对象尚未确定（如尚未决定由本系统实现还是对接外部平台），应记录到待定归属项中。

#### 待定归属项记录规范

+   对于归属不明确的能力——可能属于本Epic，也可能属于其他Epic或外部集成系统——应在业务边界中单独列出，并给出初步的责任分配建议。待定归属项在阶段3（概要设计）BC划分时确认最终归属。

+   待定归属项记录应包含以下列。

    | 列名         | 说明                           |
    | ------------ | ------------------------------ |
    | 待定能力描述 | 归属不明确的能力描述           |
    | 可能归属方   | 本Epic / 其他EPIC-* / 外部系统 |
    | 初步建议归属 | 建议的归属方                   |
    | 确认时间点   | 阶段3概要设计                  |

+   Epic定义编写示例（透管云）如下。

    | 语义ID                      | 短号    | Epic名称     | 推导来源 | 来源角色            | 关联活动 | 关联困境 | 业务边界                                     | 交互边界                                                                     |
    | --------------------------- | ------- | ------------ | -------- | ------------------- | -------- | -------- | -------------------------------------------- | ---------------------------------------------------------------------------- |
    | EPIC-CM-regulation-response | EPIC001 | 新规应对能力 | 角色驱动 | UR-06 效率低→自动   | BA-CM-01 | DLM001   | 不含法规原文的采集与入库（由外部法规库提供） | 依赖外部法规库提供结构化法规数据（入站）；向EPIC002提供新规变化通知（出站）  |
    | EPIC-CM-policy-traceability | EPIC002 | 制度追溯能力 | 角色驱动 | UR-06 追溯难→可视   | BA-CM-02 | DLM001   | 不含制度的审批发布流程（由OA系统承担）       | 依赖OA系统提供制度发布事件（入站）；接收EPIC001的新规变化通知（入站）        |
    | EPIC-EX-evidence-collection | EPIC003 | 证据采集能力 | 角色驱动 | UR-05 不知如何→自动 | BA-EX-02 | DLM002   | 不含证据的法律效力认定（属于线下合规判断）   | 依赖EPIC002提供合规要求与制度映射（入站）；向EPIC004提供执行证据数据（出站） |

    +   表 Epic示例（透管云）

#### Epic编号格式规范

+   Epic编号采用双轨制标识体系，由语义ID和短号共同标识同一Epic，应遵循《P01-软件开发编号规范》（详见2.2.1节）。

+   语义ID格式如下。

    ```text
    EPIC-{业务域}-{功能模块}
    ```

    -   业务域：使用大写英文字母，应与3.4节定义的业务域缩写保持一致（如CM、EX、SP、RP）
    -   功能模块：使用小写英文字母，描述该Epic的核心业务能力；复合词之间使用连字符`-`连接（如`regulation-response`、`evidence-collection`）
    -   语义ID一经分配不应变更，在全局范围内应保持唯一

+   短号格式如下。

    ```text
    EPIC001, EPIC002, EPIC003 ...
    ```

    -   短号由类型前缀`EPIC`加3位数字组成，按递增顺序分配
    -   短号在全局范围内唯一，不应重复使用或回收已分配的短号

+   使用规则：在正式文档中首次引用某Epic时，宜同时标注语义ID和短号（如`EPIC-CM-regulation-response / EPIC001`）；后续引用可仅使用短号（如`EPIC001`）。语义ID用于文档索引、追溯矩阵等正式场景；短号用于日常交流、会议讨论、快速检索。

+   命名规则：语义ID中不应包含数字编号（数字编号仅出现在短号中）；语义ID各层级之间使用连字符`-`分隔，不应使用下划线`_`、斜杠`/`或空格；功能模块的命名应简洁清晰，优先使用团队约定的标准词汇；当标准词汇不能满足需要时，可扩展新词汇，但应遵循小写字母加连字符的命名风格；语义ID总长度宜控制在60个字符以内。

#### Epic完成必要条件规范

+   Epic完成标准（Definition of Done for Epic）定义Epic在什么条件下视为完成。完成标准用于判断一个Epic是否可以从"进行中"转为"已完成"状态，避免范围蔓延或过早关闭。Epic完成标准聚焦于业务能力闭环，不涉及Feature或Story级别的交付验证——后者属于详细需求和交付管理的职责。

+   Epic完成的必要条件如下。

    | 条件维度      | 完成标准                                                                   |
    | ------------- | -------------------------------------------------------------------------- |
    | 业务活动闭环  | 该Epic关联的所有业务活动已在线上实现闭环，角色可通过系统完成对应的工作场景 |
    | 成功标准达成  | 该Epic对应角色的核心痛点在第2章成功标准中的量化指标已达成或达到可接受水平  |
    | 实体流转覆盖  | 该Epic关联的实体生命周期阶段均已在线上实现状态流转                         |
    | 痛点/期望闭合 | 推导该Epic的来源痛点和期望均已被已交付的Feature覆盖，无遗漏的痛点/期望     |

    +   表 Epic完成必要条件

#### Epic完成充分条件规范

+   Epic完成的充分条件（在必要条件全部满足的基础上）如下。

    | 条件维度   | 完成标准                                                  |
    | ---------- | --------------------------------------------------------- |
    | 追溯完整   | 该Epic在追溯矩阵（第11章）中的全链路追溯无断点            |
    | 基础性需求 | 该Epic依赖的基础性需求（第7章）已交付且可用               |
    | 非功能达标 | 该Epic相关的非功能需求框架（第8章）中定义的量化约束已达标 |

    +   表 Epic完成充分条件

+   完成标准的使用时机：**版本发布前**——评估当前版本中各Epic的完成状态，判断是否达到发布条件；**Epic范围变更时**——当Epic的关联活动、来源痛点或业务边界发生变更，应重新评估完成标准；**跨版本Epic**——对于跨多个版本交付的Epic，每个版本应评估阶段性完成度，完整的完成标准在最终版本达成。

#### 业务验收场景规范

+   除结构化的完成条件外，每个Epic应补充1-2个业务验收场景（Business Acceptance Scenarios），用业务方可理解的具体画面描述"这个Epic做完了是什么样"。完成条件定义结构化的判断标准（用于系统化评审），验收场景提供业务方可直觉理解的验收画面（用于业务方确认）。两者互补，不相互替代。

+   业务验收场景编写要求：每个Epic应编写1-2个验收场景，覆盖该Epic最核心的业务能力；场景应从角色视角描述，明确角色是谁、执行什么操作、达成什么结果；场景应包含可观测的结果描述，使业务方可直观判断是否达成；场景粒度应保持在Epic级别，不应细化到Feature或Story级别的操作步骤。

+   业务验收场景记录应包含以下列。

    | 列名     | 说明                                                                                                                        |
    | -------- | --------------------------------------------------------------------------------------------------------------------------- |
    | 场景编号 | 采用双轨制标识。语义ID格式：`BAS-{Epic短号}-{场景描述}`（如`BAS-EPIC001-auto-comparison-report`）；短号格式：`BAS{3位数字}` |
    | 所属Epic | 该场景对应的Epic短号                                                                                                        |
    | 场景描述 | 从角色视角描述的具体业务验收画面（谁、做什么、达成什么）                                                                    |

+   业务验收场景编写示例（透管云）如下。

    | 场景编号       | 所属Epic | 场景描述                                                                           |
    | -------------- | -------- | ---------------------------------------------------------------------------------- |
    | BAS-EPIC001-01 | EPIC001  | 合规专员能够在30分钟内完成一份新规对内规的影响分析报告并自动生成比对差异表         |
    | BAS-EPIC001-02 | EPIC001  | 制度管理员收到系统推送的新规变化通知后，可查看自动标注的受影响内规条款清单         |
    | BAS-EPIC003-01 | EPIC003  | 执行人员在完成合规任务后，系统自动采集执行证据并关联到对应的合规要求，无需手工上传 |

    +   表 业务验收场景示例（透管云）

#### 业务活动→Epic映射规范

+   检查所有业务活动(CL2/PL2流程节点)是否都有Epic覆盖。**映射对象说明**：此处"业务活动"特指第3章定义的PL2流程节点（编号格式BA-{域}-{序号}），即三线三级对齐模型中的活动线CL2，是宏观需求粒度的基本单元。业务活动与Epic不要求1:1，一个Epic可支撑多个CL2/PL2流程节点，一个CL2/PL2流程节点也可被多个Epic支撑。

+   **本节定位（即时验证）**：6.3的验证属于Epic推导过程的组成部分，目的是在推导阶段逐条检查映射关系、即时发现遗漏并补充Epic。输出物为三张逐条映射表和补充的Epic条目。第9章的完整性验证是对全部Epic的全量汇总验证，输出物为覆盖度统计和完整性结论，参见第9章。

+   业务活动→Epic映射应包含以下列。

    | 列名     | 说明                    |
    | -------- | ----------------------- |
    | 活动编号 | 业务活动编号(BA-*)      |
    | 活动名称 | 业务活动名称            |
    | Epic短号 | 覆盖该活动的Epic短号    |
    | Epic名称 | 覆盖该活动的Epic名称    |
    | 覆盖状态 | Y（已覆盖）/N（未覆盖） |

#### 实体生命周期→Epic映射规范

+   检查所有关键实体的生命周期阶段是否都有Epic覆盖。重点关注无人工干预的状态流转（如自动过期、级联废止等）。

+   实体生命周期→Epic映射应包含以下列。

    | 列名         | 说明                    |
    | ------------ | ----------------------- |
    | 实体         | 核心实体名称            |
    | 生命周期阶段 | 实体的生命周期阶段名称  |
    | Epic短号     | 覆盖该阶段的Epic短号    |
    | Epic名称     | 覆盖该阶段的Epic名称    |
    | 覆盖状态     | Y（已覆盖）/N（未覆盖） |

#### 角色→Epic确认规范

+   确认所有角色的痛点和期望在推导阶段已转化为Epic。确认模板应包含所属利益相关方编号(SH-*)，建立Epic→角色→利益相关方的完整追溯链。

+   角色→Epic确认应包含以下列。

    | 列名           | 说明                      |
    | -------------- | ------------------------- |
    | 所属利益相关方 | 利益相关方编号(SH-*)      |
    | 角色编号       | 用户角色编号              |
    | 角色名称       | 用户角色名称              |
    | 痛点/期望      | 该角色的痛点或期望        |
    | Epic短号       | 覆盖该痛点/期望的Epic短号 |
    | Epic名称       | 覆盖该痛点/期望的Epic名称 |
    | 覆盖状态       | Y（已覆盖）/N（未覆盖）   |

#### 冲突调和与遗漏补充规则

+   **需求冲突调和规则**：在三维映射验证过程中，角色线推导的Epic与实体线或活动线验证结论之间可能产生冲突。典型冲突场景包括：角色线推导出某Epic（用户期望的操作），但实体线验证发现该操作会导致实体状态流转不闭环；角色线推导出某Epic，但活动线验证发现该Epic覆盖的业务活动与已有Epic存在职责重叠。

+   冲突调和以**业务目标对齐度**为最终裁决标准，具体处理流程如下：
    +   **步骤1 冲突识别**：在6.3.1-6.3.3的映射验证中，标记角色线推导结论与实体线/活动线验证结论之间的矛盾项。
    +   **步骤2 上溯业务目标**：将冲突双方的结论分别向上追溯到第2章定义的业务目标，评估各方结论对业务目标的支撑程度。
    +   **步骤3 裁决**：优先保留业务目标对齐度更高的结论。具体而言——若角色线推导的Epic直接支撑核心业务目标，但实体线验证发现的状态不闭环问题属于边缘场景，则保留该Epic并记录实体线的问题为待阶段3解决的设计约束；若实体线验证发现的逻辑缺陷会导致核心业务目标无法达成（如关键实体状态流转断裂），则应调整或拆分角色线推导的Epic以修复逻辑缺陷。
    +   **步骤4 记录**：所有冲突调和决策应记录在映射验证结论中，包括冲突描述、裁决依据（对齐的业务目标编号）和处理结果。

+   **逻辑推测声明**：上述冲突调和流程为基于方法论的逻辑推测，非行业权威标准。实际项目中可根据团队实践调整裁决流程，但"业务目标对齐度"作为最终裁决标准的原则宜保持。

+   **遗漏补充规则**：三个维度映射中发现的未覆盖项，应分析是否需要补充Epic。补充的Epic应标注推导来源为"实体验证补充"或"活动验证补充"。补充的Epic应按6.2.3编号规范分配语义ID和短号，短号按全局递增顺序接续分配。如某维度验证认为某项重要而另一维度认为不重要，取高优先级。

## 3.7 第7章 基础性需求

### 3.7.1 章节综述

+   定义跨BC的通用能力需求——即独立于业务Epic的功能性横切关注点，回答"系统应提供哪些跨BC的公共功能"。
+   **基础性需求与非功能需求的边界**：基础性需求定义需要建设什么通用能力（功能性横切关注点）；非功能需求（第8章）定义应达到什么质量水平（质量约束）。以"安全"为例：基础性需求中的安全相关内容（如身份认证、审计日志）定义的是需要建设的通用安全能力；非功能需求中的安全需求（如加密算法标准、认证超时时长）定义的是这些能力应达到的质量水平。
+   基础性需求独立于业务Epic，作为横切关注点在版本规划（第10章）中统一安排版本。

### 3.7.2 章节结构

+   第7章结构与内容要点如下表所示。

    | 编号 | 标题           | 内容要点                                                 | 表达规范           |
    | ---- | -------------- | -------------------------------------------------------- | ------------------ |
    | 7.1  | 基础性需求总览 | 需求分类表：列出所有基础性需求分类及典型需求项           | 基础性需求分类表   |
    | 7.x  | {具体能力分类} | 该分类下每条基础性需求的详细定义，使用基础性需求定义规范 | 基础性需求定义规范 |

    +   表 第7章结构与内容要点

+   **主文与说明书的结构差异说明**：本规范（主文）第7章采用"总览+通用模板"结构（7.1基础性需求总览、7.x按具体能力分类分节），目的是阐述基础性需求的方法论和填写规则。编写宏观需求规格说明书时，第7章宜按具体能力分类分节组织（如7.1身份认证、7.2权限管理等），每节使用基础性需求定义规范填写该分类的具体需求。
+   具体分类可根据项目实际情况增减，不限于基础性需求分类表所列的分类项。

### 3.7.3 表达规范

#### 基础性需求分类表

+   列出所有基础性需求分类及典型需求项，作为第7章的总览索引。

+   典型基础性需求分类如下表所示。

    | 分类     | 典型需求项                 |
    | -------- | -------------------------- |
    | 身份认证 | 统一身份认证、多因素认证   |
    | 权限管理 | 统一权限框架、数据权限控制 |
    | 租户管理 | 多租户架构、租户生命周期   |
    | 审计日志 | 统一审计日志、日志查询分析 |
    | 消息通知 | 消息通知中心               |
    | 文件管理 | 文件与附件管理             |

    +   表 基础性需求分类（示例）

#### 基础性需求定义规范

+   每条基础性需求采用以下模板定义。

+   基础性需求定义应包含以下列。

    | 列名       | 说明                                                                                                               |
    | ---------- | ------------------------------------------------------------------------------------------------------------------ |
    | 需求编号   | 采用双轨制标识。语义ID格式：`FR-{能力描述}`；短号格式：`FR{2位数字}`。详见《P01-软件开发编号规范》2.2.13节         |
    | 需求名称   | 需求的名称                                                                                                         |
    | 需求分类   | 所属分类（对应基础性需求分类表中的分类）                                                                           |
    | 需求描述   | 详细描述                                                                                                           |
    | 能力要点   | 核心能力点列表                                                                                                     |
    | 目标版本   | 计划交付版本（P1-P6）                                                                                              |
    | 建议归属域 | 建议由哪个业务域承接实现（待阶段3 BC划分时确认最终负责BC）                                                         |
    | 关联Epic   | 依赖此基础性需求的Epic短号列表（可选）。建立从基础性需求到Epic的反向追溯，便于版本规划时评估基础性需求的交付优先级 |

    +   表 基础性需求定义规范

## 3.8 第8章 非功能需求框架

### 3.8.1 章节综述

+   定义产品的质量属性框架，在宏观需求阶段给出全局级的基线目标和约束，为下游BC级需求细化提供输入。
+   **非功能需求与基础性需求的边界**：非功能需求定义系统应达到的质量水平（质量约束），回答"系统应以什么标准运行"；基础性需求（第7章）定义需要建设的通用能力（功能性横切关注点），回答"系统应提供哪些跨BC的公共功能"。当同一主题（如安全）同时涉及两者时，应区分能力建设（归入基础性需求）和质量标准（归入非功能需求）。
+   在宏观需求阶段定义全局框架，在BC级需求中细化具体指标。

### 3.8.2 章节结构

+   第8章结构与内容要点如下表所示。

    | 编号 | 标题           | 内容要点                                                 | 表达规范           |
    | ---- | -------------- | -------------------------------------------------------- | ------------------ |
    | 8.1  | 非功能需求总览 | 需求分类表：列出所有非功能需求分类及典型指标             | 非功能需求分类表   |
    | 8.x  | {具体分类}     | 该分类下每条非功能需求的框架定义，使用非功能需求框架规范 | 非功能需求框架规范 |
    | 8.Y  | 集成接口需求   | 产品与外部系统的集成点和接口需求                         | 集成接口需求规范   |

    +   表 第8章结构与内容要点

+   **主文与说明书的结构差异说明**：本规范（主文）第8章采用"分类总览+通用模板+集成接口专节"结构（8.1非功能需求总览、8.x按具体分类分节、8.Y集成接口需求），目的是阐述非功能需求的方法论和填写规则。编写宏观需求规格说明书时，第8章宜按具体分类分节组织（如8.1性能需求、8.2安全需求等），每节使用非功能需求框架规范填写该分类的框架要求。
+   具体分类可根据项目实际情况增减，不限于非功能需求分类表所列的分类项。
+   8.Y集成接口需求的编号说明：8.Y应排在所有非功能需求分类之后，作为第8章的最后一节。例如，若说明书的第8章包含8.1性能需求、8.2安全需求、8.3可用性需求，则集成接口需求编号为8.4。

### 3.8.3 表达规范

#### 非功能需求分类表

+   列出所有非功能需求分类及典型指标，作为第8章的总览索引。

+   非功能需求分类如下表所示。

    | 分类         | 说明               | 典型指标                 |
    | ------------ | ------------------ | ------------------------ |
    | 性能需求     | 系统响应和处理能力 | 响应时间、吞吐量、并发数 |
    | 安全需求     | 系统安全防护能力   | 认证、授权、加密、审计   |
    | 可用性需求   | 系统持续服务能力   | 可用率、RTO、RPO         |
    | 可扩展性     | 系统扩展能力       | 水平扩展、垂直扩展       |
    | 兼容性需求   | 系统兼容能力       | 浏览器、移动端、操作系统 |
    | 可维护性     | 系统维护能力       | 可监控、可诊断、可升级   |
    | 易用性需求   | 用户使用体验       | 学习成本、操作效率       |
    | 集成接口需求 | 外部系统集成能力   | 集成协议、数据格式、频率 |

    +   表 非功能需求分类

#### 非功能需求框架规范

+   非功能需求编号采用双轨制标识。语义ID格式：`NFR-{类别}-{约束描述}`；短号格式：`NFR{3位数字}`。详见《P01-软件开发编号规范》。

+   非功能需求框架定义应包含以下列。

    | 列名     | 说明                                                                                                                            |
    | -------- | ------------------------------------------------------------------------------------------------------------------------------- |
    | 需求编号 | 双轨制编号                                                                                                                      |
    | 需求分类 | 所属分类（对应非功能需求分类表中的分类）                                                                                        |
    | 需求项   | 具体的非功能需求项名称                                                                                                          |
    | 框架要求 | 全局级的要求描述                                                                                                                |
    | 典型场景 | 质量属性场景描述（触发条件 + 质量要求）                                                                                         |
    | 量化约束 | 全局基线值或量级范围（Order of Magnitude）。宏观需求阶段允许给出量级而非精确数值（如"千级并发"而非"500并发"），详见下方填写说明 |
    | 目标版本 | 计划交付版本（P1-P6）                                                                                                           |
    | 备注     | 补充说明（如"需在BC级细化"）                                                                                                    |

    +   表 非功能需求框架规范

+   **典型场景填写说明**：典型场景采用质量属性场景（Quality Attribute Scenarios）的方式描述，明确"在什么条件下，系统应表现出什么质量水平"。场景描述应包含触发条件（什么情况下）+ 质量要求（系统应如何表现），使技术架构师可据此确定性能包络和架构方案。对于量化约束明确的需求项，典型场景提供约束的业务背景；对于量化约束暂不明确的需求项，典型场景提供方向性参考。每个需求项宜描述1-2个最具代表性的场景，不追求穷尽。

+   **量化约束填写说明**：宏观需求阶段的量化约束以**量级优先**为原则——当前阶段允许且鼓励给出量级（Order of Magnitude），而非要求给出精确数值。这是因为宏观需求阶段尚未完成技术预研和容量规划，过早给出精确数值往往缺乏依据，反而可能误导下游架构决策。量级表述示例："百毫秒级响应""千级并发""万级日活"；精确数值示例："响应时间<200ms""500并发用户"——后者在宏观需求阶段仅当有充分依据时才宜填写。量化约束的定位是为下游BC级需求提供全局级的基线目标和约束输入。量化约束应为全局基线值或量级范围（如"核心操作响应时间 秒级""系统设计并发用户 千级"），不应细化到每个接口或每个页面的精确指标——后者属于BC级详细需求的职责。无法量化的需求项（如"可维护性-代码规范"）可填写"-"，但应尽量为可量化的需求项给出量级目标。量化约束宜与典型场景配合使用——场景提供业务背景，约束提供数值目标或量级范围，两者共同为技术架构师提供设计输入。

+   以下为量化约束与典型场景填写示例。

    | 需求分类   | 需求项     | 框架要求             | 典型场景                                                           | 量化约束                   | 目标版本 | 备注         |
    | ---------- | ---------- | -------------------- | ------------------------------------------------------------------ | -------------------------- | -------- | ------------ |
    | 性能需求   | 响应时间   | 核心操作快速响应     | 合规专员在工作时间内执行新规比对操作，系统应在可接受时间内返回结果 | 核心操作 <2s，复杂查询 <5s | P1       | 需在BC级细化 |
    | 性能需求   | 并发能力   | 支撑目标用户规模     | 促销高峰期或月末集中操作时段，系统应支撑目标并发用户数的正常使用   | 设计基数 500 并发用户      | P1       | 需在BC级细化 |
    | 可用性需求 | 系统可用率 | 工作时间持续可用     | 工作日9:00-18:00期间，系统应持续可用，计划外停机不应影响业务连续性 | 可用率 >= 99.9%            | P1       | 需在BC级细化 |
    | 安全需求   | 数据加密   | 敏感数据加密存储传输 | 用户登录凭证和敏感业务数据在网络传输和存储时应受加密保护           | 传输TLS 1.2+，存储AES-256  | P1       | 需在BC级细化 |
    | 易用性需求 | 学习成本   | 新用户快速上手       | 新入职的合规专员在完成培训后，应能独立完成核心业务流程操作         | 核心流程培训 <= 2小时      | P2       | 需在BC级细化 |

    +   表 非功能需求量化约束与典型场景示例

#### 集成接口需求规范

+   定义产品与外部系统的集成点和接口需求。在宏观需求阶段识别集成全景，在BC级需求中细化接口规格。

+   集成接口需求应包含以下列。

    | 列名     | 说明                  |
    | -------- | --------------------- |
    | 集成方向 | 入站/出站             |
    | 外部系统 | 外部系统名称          |
    | 集成目的 | 集成的业务目的        |
    | 数据类型 | 集成涉及的数据类型    |
    | 集成方式 | 集成的技术方式        |
    | 目标版本 | 计划交付版本（P1-P6） |

    +   表 集成接口需求规范

## 3.9 第9章 完整性验证

### 3.9.1 章节综述

+   从全局统计视角确认需求的完整性和一致性，在6.3逐条映射的基础上，汇总计算各维度的覆盖度并给出完整性结论。
+   **本章定位（全量汇总验证）**：第9章是对全部Epic清单的全量汇总验证。6.3的逐条映射表是本章汇总统计的数据来源。两者的分工如下：6.3在Epic推导过程中边推导边验证（逐条映射，标记每一项的覆盖状态Y/N，主要目的是发现遗漏并即时补充Epic）；第9章在Epic推导和6.3映射全部完成后执行（汇总统计，计算各维度的覆盖度百分比，主要目的是确认总体完整性并给出是否通过的结论）。
+   **验证时机**：完整性验证应在版本规划（第10章）之前完成，确保进入版本规划的Epic清单是完整且经过验证的。

### 3.9.2 章节结构

+   验证的三个维度如下：角色推导完整性（确认所有角色的痛点和期望都已转化为Epic，汇总6.3.3的逐条确认结果）、价值生态覆盖度（确认所有业务活动即CL2/PL2流程节点都有Epic覆盖，汇总6.3.1的逐条映射结果）、实体生命周期覆盖度（确认所有实体状态流转都有Epic覆盖，汇总6.3.2的逐条映射结果）。

+   第9章结构与内容要点如下表所示。

    | 编号 | 标题                   | 内容要点                                                 | 表达规范                   |
    | ---- | ---------------------- | -------------------------------------------------------- | -------------------------- |
    | 9.1  | 角色推导完整性验证     | 汇总6.3.3，检查每个角色痛点/期望是否已推导出Epic         | 角色推导完整性验证规范     |
    | 9.2  | 价值生态覆盖度验证     | 汇总6.3.1，统计所有业务活动(CL2/PL2流程节点)的Epic覆盖度 | 价值生态覆盖度验证规范     |
    | 9.3  | 实体生命周期覆盖度验证 | 汇总6.3.2，统计所有关键实体的生命周期阶段Epic覆盖度      | 实体生命周期覆盖度验证规范 |
    | 9.4  | 完整性结论             | 综合三个维度给出明确的完整性结论                         | -                          |

    +   表 第9章结构与内容要点

+   完整性验证通过的判定条件：三个维度的覆盖状态均无未覆盖项（覆盖状态=N），或未覆盖项已在文档中给出合理说明（如"该活动为纯人工操作，不纳入系统范围"）。
+   完整性验证通过后，Epic清单即可进入第10章的版本规划。

### 3.9.3 表达规范

#### 角色推导完整性验证规范

+   基于6.3.3的逐条确认结果，汇总检查每个角色的痛点和期望是否都已推导出对应的Epic。如6.3.3已完成逐条确认且无遗漏，本节可直接引用6.3.3的确认表并给出汇总结论；如3.6.3.4补充了新Epic，应更新后重新汇总。

+   角色推导完整性验证应包含以下列。

    | 列名      | 说明                      |
    | --------- | ------------------------- |
    | 角色编号  | 用户角色编号              |
    | 角色名称  | 用户角色名称              |
    | 痛点/期望 | 该角色的痛点或期望描述    |
    | 对应Epic  | 覆盖该痛点/期望的Epic编号 |
    | 覆盖状态  | Y（已覆盖）/N（未覆盖）   |

    +   表 角色推导完整性验证规范

#### 价值生态覆盖度验证规范

+   基于6.3.1的逐条映射结果，汇总统计所有业务活动(CL2/PL2流程节点)的Epic覆盖度。
+   **验证对象说明**：此处"业务活动"特指第3章定义的PL2流程节点（编号格式BA-{域}-{序号}），即三线三级对齐模型中的活动线CL2，是宏观需求粒度的基本单元。

+   价值生态覆盖度验证应包含以下列。

    | 列名     | 说明               |
    | -------- | ------------------ |
    | 验证维度 | 验证维度名称       |
    | 数量     | 该维度的总数       |
    | 覆盖度   | 该维度的覆盖百分比 |

    +   表 价值生态覆盖度验证规范

+   验证维度包括：已定义业务活动（总数）、活动有角色参与（数量及覆盖度）、活动有Epic覆盖（数量及覆盖度）。

#### 实体生命周期覆盖度验证规范

+   基于6.3.2的逐条映射结果，汇总统计所有关键实体的生命周期阶段Epic覆盖度。

+   实体生命周期覆盖度验证应包含以下列。

    | 列名             | 说明                         |
    | ---------------- | ---------------------------- |
    | 实体分类         | 实体的分类（内容/主体/业务） |
    | 实体数           | 该分类下的实体数量           |
    | 生命周期阶段总数 | 该分类的生命周期阶段总数     |
    | 已覆盖Epic数     | 已有Epic覆盖的阶段数         |
    | 覆盖度           | 覆盖百分比                   |

    +   表 实体生命周期覆盖度验证规范

#### 完整性结论编写规则

+   应给出明确的完整性结论，包括：角色推导（所有角色痛点/期望是否已转化为Epic，基于9.1汇总）、价值生态（所有业务活动即CL2/PL2流程节点是否有Epic覆盖，基于9.2统计）、实体生命周期（所有实体状态流转是否有Epic覆盖，基于9.3统计）、3.6.3.4遗漏补充中新增的Epic是否已纳入上述统计。

## 3.10 第10章 版本规划

### 3.10.1 章节综述

+   基于第9章完整性验证通过的Epic清单，将Epic分配到各规划版本，建立从Epic到版本的完整映射。
+   版本规划应确保Epic到版本的映射完整且符合战略规划的路线图。
+   **优先级与版本的关系**：在宏观需求阶段，需求优先级等同于版本——Epic的优先级由其所属的规划版本（P1-P6）体现，P1优先级最高，必须在版本P1实现，P6优先级最低。在详细需求阶段，同一版本内的优先级由迭代计划体现。

### 3.10.2 章节结构

+   第10章结构与内容要点如下表所示。

    | 编号 | 标题                  | 内容要点                                     | 表达规范                |
    | ---- | --------------------- | -------------------------------------------- | ----------------------- |
    | 10.1 | 版本号体系            | 三段式版本号结构(X.Y.Z)及各段含义            | 版本号体系图            |
    | 10.2 | 规划版本定义（P1-P6） | P1-P6六个规划版本的定位说明                  | 规划版本定义表          |
    | 10.3 | 补充版本与修订版本    | 规划外变更的版本处理规则                     | 补充版本触发决策表      |
    | 10.4 | 版本规划              | 各规划版本的Epic分配总览                     | 版本规划规范            |
    | 10.5 | 版本分配决策方法      | 采用WSJF或MoSCoW方法进行系统化的版本分配决策 | WSJF评估模板+锚定标准表 |
    | 10.6 | Epic-版本映射         | 建立Epic与规划版本的逐条映射关系             | Epic-版本映射规范       |

    +   表 第10章结构与内容要点

+   版本规划应与战略规划中的路线图一致。

### 3.10.3 表达规范

#### 版本号体系图

+   产品版本号采用三段式结构：主版本.规划版本.修订版本。版本号体系应以ASCII图呈现，包含以下内容：X.Y.Z各段的含义定义、规划内版本（偶数）与规划外版本（奇数）的对照、修订版本的说明。

+   版本号体系如下图所示。

    ```graph
    ┌──────────────────────────────────────────────────────────────────────────────────┐
    │                              版本号体系                                          │
    ├──────────────────────────────────────────────────────────────────────────────────┤
    │                                                                                  │
    │  版本号格式：X.Y.Z                                                               │
    │                                                                                  │
    │  X - 主版本号                                                                    │
    │      1 = 从MVP到完善版的演进过程                                                 │
    │      2 = 理想版/重大架构升级                                                     │
    │                                                                                  │
    │  Y - 规划版本号                                                                  │
    │      偶数（0/2/4/6/8）= 规划内版本，对应P1-P6                                    │
    │      奇数（1/3/5/7/9）= 规划外补充版本                                           │
    │                                                                                  │
    │  Z - 修订版本号                                                                  │
    │      技术调整、BUG修复、小优化                                                   │
    │                                                                                  │
    │  ════════════════════════════════════════════════════════════════════════════    │
    │                                                                                  │
    │  规划内版本（偶数）        规划外版本（奇数）         修订版本                   │
    │  ──────────────────        ──────────────────         ──────────                 │
    │  1.0 (P1) MVP版本          1.1 规划补充               1.0.1 BUG修复              │
    │  1.2 (P2) 增强版本         1.3 规划补充               1.2.1 技术调整             │
    │  1.4 (P3) 完善版本         1.5 规划补充               1.4.2 小优化               │
    │  1.6 (P4) 扩展版本         1.7 规划补充                                          │
    │  1.8 (P5) 高级版本         1.9 规划补充                                          │
    │  2.0 (P6) 理想版本                                                               │
    │                                                                                  │
    └──────────────────────────────────────────────────────────────────────────────────┘
    ```

    +   图 版本号体系

#### 规划版本定义表

+   P1-P6为规划内版本，与版本号一一对应，同时表达优先级。P1优先级最高，P6优先级最低；Epic的规划版本即为其优先级。

+   规划版本定义应包含以下列。

    | 列名     | 说明                      |
    | -------- | ------------------------- |
    | 规划版本 | P1-P6                     |
    | 版本号   | 对应的产品版本号          |
    | 优先级   | 最高/高/中高/中/中低/最低 |
    | 版本定位 | 版本的定位描述            |
    | 说明     | 版本的详细说明            |

    +   表 规划版本定义规范

+   以下为规划版本定义的标准内容。

    | 规划版本 | 版本号 | 优先级 | 版本定位 | 说明                       |
    | -------- | ------ | ------ | -------- | -------------------------- |
    | P1       | 1.0    | 最高   | MVP版本  | 规划时能想到的最小可行产品 |
    | P2       | 1.2    | 高     | 增强版本 | 核心功能增强，用户体验提升 |
    | P3       | 1.4    | 中高   | 完善版本 | 功能趋于完善，覆盖主要场景 |
    | P4       | 1.6    | 中     | 扩展版本 | 功能扩展，支持更多业务场景 |
    | P5       | 1.8    | 中低   | 高级版本 | 高级功能，满足深度用户需求 |
    | P6       | 2.0    | 最低   | 理想版本 | 规划时能想到的理想完整版   |

    +   表 规划版本定义

+   P6(2.0)版本号说明：P1-P5的版本号主版本号(X)均为1，规划版本号(Y)为偶数递增（0/2/4/6/8）。P6的版本号跳变为2.0——Y归零同时X递增为2，表示产品从"MVP到完善版"的演进过程结束，进入"理想版/重大架构升级"阶段。这是版本号体系中唯一的跨主版本跳变点。

#### 补充版本触发决策表

+   补充版本和修订版本用于处理规划外的变更。

+   版本类型说明如下。

    | 版本类型 | 版本号示例    | 用途                      | 触发条件                   |
    | -------- | ------------- | ------------------------- | -------------------------- |
    | 补充版本 | 1.1, 1.3, 1.5 | 规划不足导致的功能增加    | 发现规划遗漏的必要功能     |
    | 修订版本 | 1.0.1, 1.2.3  | 技术调整、BUG修复、小优化 | 线上问题修复、技术债务清理 |

    +   表 补充版本与修订版本

+   版本号使用原则：规划内功能应落入偶数版本（P1-P6）；规划外的功能补充使用奇数版本；技术性修改使用第三位修订号；应尽量减少补充版本，体现规划的完整性。

+   补充版本触发决策标准：当发现规划外的功能需求时，应按以下标准判断是创建补充版本还是合并到下一规划版本。

    | 判断维度 | 创建补充版本（奇数版本）                           | 合并到下一规划版本（偶数版本）       |
    | -------- | -------------------------------------------------- | ------------------------------------ |
    | 紧迫性   | 存在外部截止日期（如法规生效日、合同承诺日）       | 无硬性时间约束，可等待下一规划版本   |
    | 业务影响 | 不实现将导致核心业务流程无法闭环或已上线功能不可用 | 影响范围有限，属于体验优化或效率提升 |
    | 依赖关系 | 下游Epic或外部系统依赖此功能，阻塞其他工作         | 无阻塞性依赖，可独立排期             |
    | 工作量   | 工作量较小（通常不超过1-2个Epic规模）              | 工作量较大，宜与下一规划版本整体规划 |

    +   表 补充版本触发决策标准

+   补充版本管理规则：补充版本中的Epic应在创建时即纳入追溯矩阵（第11章），确保追溯链完整；补充版本中的Epic在下一规划版本规划时应回顾，评估是否需要调整版本归属或合并；同一规划版本周期内宜最多创建一个补充版本，避免版本碎片化。

#### 版本规划规范

+   将Epic分配到各规划版本。

+   版本规划应包含以下列。

    | 列名       | 说明                 |
    | ---------- | -------------------- |
    | 规划版本   | P1-P6                |
    | 版本号     | 对应的产品版本号     |
    | 版本定位   | 版本的定位描述       |
    | Epic数量   | 该版本包含的Epic数量 |
    | 关键里程碑 | 该版本的关键里程碑   |

    +   表 版本规划规范

#### WSJF评估模板与锚定标准

+   将Epic分配到P1-P6规划版本时，应采用系统化的决策方法，推荐使用WSJF（Weighted Shortest Job First）方法。WSJF得分越高，应分配到越早的规划版本（即优先级越高）。本规范的WSJF方法遵循SAFe框架的标准实践，采用修正Fibonacci序列（1, 2, 3, 5, 8, 13, 20）进行相对估算。

+   WSJF评估应包含以下列。

    | 列名              | 说明                                                        |
    | ----------------- | ----------------------------------------------------------- |
    | Epic短号          | Epic短号                                                    |
    | Epic名称          | Epic名称                                                    |
    | 业务价值          | 该Epic对业务目标的贡献程度（1/2/3/5/8/13/20）               |
    | 时间紧迫性        | 延迟实现的代价（1/2/3/5/8/13/20）                           |
    | 风险降低/机会促成 | 该Epic对风险的降低程度或对机会的促成程度（1/2/3/5/8/13/20） |
    | 实现规模          | 预估的实现工作量（1/2/3/5/8/13/20）                         |
    | WSJF得分          | (业务价值 + 时间紧迫性 + 风险降低/机会促成) / 实现规模      |

    +   表 WSJF版本分配评估规范

+   WSJF得分计算：WSJF = (业务价值 + 时间紧迫性 + 风险降低/机会促成) / 实现规模。得分越高，应分配到越早的规划版本。
+   评分采用修正Fibonacci序列（1, 2, 3, 5, 8, 13, 20），遵循SAFe框架的相对估算原则——各维度的分值不表示绝对量，而是在当前评估批次内各Epic之间的相对比较。评估时应选取一个基准Epic（通常为中等规模和价值的Epic）赋予中间值（如5），其他Epic相对于基准进行估算。

+   各维度的锚定标准如下表所示，评估时应参照锚定说明确定分值，确保不同评估者对同一分值区间的理解一致。

    | 维度              | 1-2                                 | 3-5                                      | 8-13                                           | 20                                           |
    | ----------------- | ----------------------------------- | ---------------------------------------- | ---------------------------------------------- | -------------------------------------------- |
    | 业务价值          | 锦上添花，对业务目标无直接贡献      | 有明确的效率提升或体验改善               | 直接影响核心业务指标（如转化率、留存率）       | 不做则无法达成战略目标                       |
    | 时间紧迫性        | 无时间约束，延迟半年以上影响可忽略  | 有内部期望时间，延迟一个季度会影响竞争力 | 有外部截止日期，延迟一个月会导致合同违约或处罚 | 存在硬性法规生效日，逾期将导致业务不合规     |
    | 风险降低/机会促成 | 不涉及风险降低或机会促成            | 降低中等技术风险或验证关键技术假设       | 显著降低架构风险或消除核心业务不确定性         | 不做则存在系统性风险（如数据安全、合规风险） |
    | 实现规模          | 工作量极小（1-2人周），技术方案明确 | 工作量中等（1-2人月），需一定技术预研    | 工作量较大（1-2个季度），涉及多团队协作        | 工作量巨大（半年以上），需重大架构调整       |

    +   表 WSJF评分锚定标准

+   锚定标准使用说明：上表为通用锚定参考，实际项目可根据自身业务特点调整各区间的具体描述，但应在评估前达成团队共识；评估前应组织校准会议，选取2-3个典型Epic作为基准进行试评分，确认团队对锚定标准和相对估算尺度的理解一致；同一轮评估中应使用相同的锚定标准，避免中途调整导致前后不一致。

+   也可采用MoSCoW方法（Must/Should/Could/Won't）作为简化替代。

#### Epic-版本映射规范

+   建立Epic与规划版本的映射关系，规划版本即为Epic的优先级。

+   Epic-版本映射应包含以下列。

    | 列名               | 说明                     |
    | ------------------ | ------------------------ |
    | Epic短号           | Epic短号                 |
    | Epic名称           | Epic名称                 |
    | 规划版本(=优先级)  | P1-P6                    |
    | 版本号             | 对应的产品版本号         |
    | 决策依据(WSJF得分) | WSJF得分或其他决策依据   |
    | 依赖Epic           | 该Epic依赖的其他Epic短号 |

    +   表 Epic-版本映射规范

## 3.11 第11章 追溯矩阵

### 3.11.1 章节综述

+   建立从业务目标到版本的完整追溯链路，验证需求的完整性和一致性。
+   追溯链路：目标 → 困境 → 业务活动(CL2/PL2流程节点) → 角色 → Epic → 版本。
+   **追溯对象说明**：此处"业务活动"特指第3章定义的PL2流程节点（编号格式BA-{域}-{序号}），即三线三级对齐模型中的活动线CL2，是宏观需求粒度的基本单元。
+   追溯矩阵应从分维度和全链路两个层面建立。
+   **与第9章的分工**：第9章（完整性验证）和第11章（追溯矩阵）的数据来源相同（均基于6.3的映射结果），但用途和输出物不同。第9章侧重**验证结论**——汇总统计各维度覆盖度百分比，输出"完整性验证通过/不通过"的判定结论，是版本规划（第10章）的前置条件。第11章侧重**审计追溯**——建立从目标到版本的完整追溯链路，提供逐条可审查的追溯记录，是需求评审和后续阶段回溯的工作基准。

### 3.11.2 章节结构

+   第11章结构与内容要点如下表所示。

    | 编号 | 标题                  | 内容要点                                       | 表达规范                  |
    | ---- | --------------------- | ---------------------------------------------- | ------------------------- |
    | 11.1 | 追溯矩阵目的          | 追溯链路说明                                   | -                         |
    | 11.2 | 困境→业务活动追溯     | 验证每个困境是否都有业务活动支撑               | 困境→业务活动追溯规范     |
    | 11.3 | 角色→Epic追溯         | 验证每个角色的痛点/期望是否都有Epic支撑        | 角色→Epic追溯规范         |
    | 11.4 | 业务活动→Epic追溯     | 验证每个业务活动是否都有Epic覆盖               | 业务活动→Epic追溯规范     |
    | 11.5 | 实体生命周期→Epic追溯 | 验证每个关键实体的生命周期阶段是否都有Epic覆盖 | 实体生命周期→Epic追溯规范 |
    | 11.6 | Epic→版本追溯         | 验证每个Epic是否都有版本安排                   | Epic→版本追溯规范         |
    | 11.7 | 全链路追溯矩阵        | 建立从目标到版本的完整追溯链路                 | 全链路追溯矩阵规范        |
    | 11.8 | 覆盖度验证            | 各维度覆盖度检查清单                           | 覆盖度验证检查清单        |

    +   表 第11章结构与内容要点

### 3.11.3 表达规范

#### 困境→业务活动追溯规范

+   验证每个困境是否都有业务活动(CL2/PL2流程节点)支撑。

+   困境→业务活动追溯应包含以下列。

    | 列名             | 说明                       |
    | ---------------- | -------------------------- |
    | 困境描述         | 困境的描述内容             |
    | 解决该困境的活动 | 业务活动编号及名称         |
    | 活动贡献         | 该活动对解决困境的贡献说明 |

    +   表 困境→业务活动追溯规范

#### 角色→Epic追溯规范

+   验证每个角色的痛点/期望是否都有Epic支撑。

+   角色→Epic追溯应包含以下列。

    | 列名      | 说明                      |
    | --------- | ------------------------- |
    | 角色编号  | 用户角色编号              |
    | 角色名称  | 用户角色名称              |
    | 痛点/期望 | 该角色的痛点或期望        |
    | Epic短号  | 覆盖该痛点/期望的Epic短号 |
    | Epic名称  | 覆盖该痛点/期望的Epic名称 |
    | 覆盖状态  | Y（已覆盖）/N（未覆盖）   |

    +   表 角色→Epic追溯规范

#### 业务活动→Epic追溯规范

+   验证每个业务活动(CL2/PL2流程节点)是否都有Epic覆盖。

+   业务活动→Epic追溯应包含以下列。

    | 列名     | 说明                    |
    | -------- | ----------------------- |
    | 活动编号 | 业务活动编号            |
    | 活动名称 | 业务活动名称            |
    | Epic短号 | 覆盖该活动的Epic短号    |
    | Epic名称 | 覆盖该活动的Epic名称    |
    | 覆盖状态 | Y（已覆盖）/N（未覆盖） |

    +   表 业务活动→Epic追溯规范

#### 实体生命周期→Epic追溯规范

+   验证每个关键实体的生命周期阶段是否都有Epic覆盖。

+   实体生命周期→Epic追溯应包含以下列。

    | 列名         | 说明                    |
    | ------------ | ----------------------- |
    | 实体         | 核心实体名称            |
    | 生命周期阶段 | 实体的生命周期阶段名称  |
    | Epic短号     | 覆盖该阶段的Epic短号    |
    | Epic名称     | 覆盖该阶段的Epic名称    |
    | 覆盖状态     | Y（已覆盖）/N（未覆盖） |

    +   表 实体生命周期→Epic追溯规范

#### Epic→版本追溯规范

+   验证每个Epic是否都有版本安排。

+   Epic→版本追溯应包含以下列。

    | 列名              | 说明                    |
    | ----------------- | ----------------------- |
    | Epic短号          | Epic短号                |
    | Epic名称          | Epic名称                |
    | 目标版本(=优先级) | P1-P6                   |
    | 覆盖状态          | Y（已覆盖）/N（未覆盖） |

    +   表 Epic→版本追溯规范

#### 全链路追溯矩阵规范

+   全链路追溯矩阵建立从目标到版本的完整追溯链路。矩阵中包含利益相关方列，通过利益相关方编号(SH-*)可回溯到5.1.2中的特定利益相关方定义，建立Epic→角色→利益相关方的完整追溯链。

+   全链路追溯矩阵应包含以下列。

    | 列名       | 说明                 |
    | ---------- | -------------------- |
    | 目标       | 业务目标             |
    | 困境       | 困境编号             |
    | 活动       | 业务活动编号         |
    | 利益相关方 | 利益相关方编号(SH-*) |
    | 角色       | 用户角色编号         |
    | Epic       | Epic短号             |
    | 版本       | 规划版本(P1-P6)      |

    +   表 全链路追溯矩阵规范

+   以下为透管云项目的追溯矩阵示例。

    | 目标     | 困境   | 活动     | 利益相关方 | 角色  | Epic    | 版本 |
    | -------- | ------ | -------- | ---------- | ----- | ------- | ---- |
    | 客户价值 | DLM001 | BA-CM-01 | SH-01      | UR-06 | EPIC001 | P1   |
    | 客户价值 | DLM001 | BA-CM-02 | SH-01      | UR-06 | EPIC002 | P1   |
    | 客户价值 | DLM002 | BA-EX-02 | SH-02      | UR-05 | EPIC003 | P2   |

    +   表 追溯矩阵示例（透管云）

#### 覆盖度验证检查清单

+   覆盖度验证检查清单如下。

    | 检查项           | 检查内容                                      | 通过标准 |
    | ---------------- | --------------------------------------------- | -------- |
    | 困境覆盖         | 所有困境是否都有业务活动(CL2/PL2流程节点)支撑 | 100%覆盖 |
    | 角色推导覆盖     | 所有角色痛点/期望是否有Epic支撑               | 100%覆盖 |
    | 业务活动覆盖     | 所有业务活动(CL2/PL2流程节点)是否都有Epic覆盖 | 100%覆盖 |
    | 实体生命周期覆盖 | 所有实体状态流转是否有Epic覆盖                | 100%覆盖 |
    | 版本覆盖         | 所有Epic是否都有版本安排                      | 100%覆盖 |
    | 基础性需求覆盖   | 基础性需求是否完整定义                        | 100%覆盖 |
    | 非功能需求覆盖   | 非功能需求框架是否完整定义                    | 100%覆盖 |

    +   表 覆盖度验证检查清单

# 附录A（资料性）术语表

+   业界通用术语（AI已具备充分理解能力，仅列出名称）：
    -   MECE、价值流、业务流程、用户旅程、验收标准

+   天帷通用术语（定义参见《C99-天帷通用术语规范》）：
    -   主题、业务域、业务活动、史诗、业务目标、困境、痛点、期望、关键实体、生命周期、事件、利益相关方、用户角色、工作场景、基础性需求、非功能需求、限界上下文

+   文档专有术语：
    -   宏观需求：Epic层级的需求，描述业务能力域或大的业务目标，从角色痛点与期望推导而来，是需求层级体系中的L1层级
    -   实体关系全景：展示业务域内所有关键实体及其关联关系的全景图，用于理解实体间的依赖和交互
    -   关键旅程触点：用户在完成关键任务过程中与系统交互的关键节点，是用户体验设计的重要输入
    -   业务验收场景：从业务视角定义的验收场景，描述业务目标达成的判断标准，用于Epic级别的验收

# 附录B（资料性）文档说明

+   协同规范：本规范在定义表达规范时，同时受 C01（内容表达规范）和 C02（排版格式规范）约束。

+   下位文档：本规范约束的目标文档为"02-宏观需求规格说明书"，该文档是阶段2的核心交付物，定义产品的Epic级需求、业务活动、关键实体、用户角色、基础性需求和非功能框架。

# 修订记录

| 标记 | 日期       | 修订内容                                                                                                          | 修订人 |
| ---- | ---------- | ----------------------------------------------------------------------------------------------------------------- | ------ |
| 0.10 | 2026-02-25 | 初始版本（按C11结构规范迁移，整合原V0.10~V0.30变更历史）                                                          | 丁劲松 |
| 0.11 | 2026-02-27 | 按C11/M01/S10规范全面调整：删除文档信息区；重构总则（补充目的/管理要点/密级）；批量术语替换（章节综述、表达规范） | AI     |
| 0.12 | 2026-02-27 | 调整附录术语表：按C11三层术语体系重构；新增附录文档说明；检查引言段和过渡段；质量检查                             | AI     |
| R.08 | 2026-02-27 | 按C11/M01/S10全面重构：第2章改为"编写规范结构要求"（2.1完整结构、2.2总则要求、2.3正文要求、2.4附录要求）          | AI     |
|      |            | 原2.1-2.6节移入2.3节作为2.3.1-2.3.6；删除第3章"文档信息区编写规则"；第4章改为"正文章节编写规则"                   |        |
|      |            | 批量替换：必备内容→章节结构、内容模型→表达规范；删除第5章"附录编写规则"（附录A需求层级体系已在S10中定义）         |        |
|      |            | 附录重新编号：原附录B→附录A、原附录C→附录B                                                                        |        |
| R.09 | 2026-02-27 | 基于C11/M01/S10(v0.31_R03)优化：第2章改为"宏观需求规格说明书结构要求"（S10标准4列表）                             | AI     |
|      |            | 新增2.1裁剪指引；删除第2章编写规范自身结构描述（由M01/C11覆盖）；删除第3章"内容表达要求"（由C01/M01覆盖）         |        |
|      |            | 原第4章改为第3章"正文章节编写规则"（3.1-3.11）；全局替换残留"内容模型"为"表达规范"                                |        |
|      |            | 四列表中"模板"命名统一改为"规范"（如困境描述模板→困境描述规范）；附录B文档说明中术语同步更新                      |        |
