# 1 目的和范围

+   文档编号：M01
+   文档名称：规范文档编写规范
+   目的：规定规范类文档的专用编写要求
+   范围：所有规范类文档，包括表达规范（C01）、排版格式规范（C02）、本规范（M01）、编号规范、过程规范、术语规范等
+   管理要点：总则专用要素（目的、范围、管理要点）、规则主体收录标准、附录详尽性要求、段落结构要求、一致性约束编写规则、语言要求
+   文档密级：【商密二级】 -- 外发必追责。

# 2 规范结构要求

## 2.1 规范类文档的完整结构

+   规范类文档的分区结构遵循《C11-文档通用结构规范》定义的五分区结构（总则、正文、规范性附录、资料性附录、修订记录）。
+   各分区的编写规则来源如下表所示。

    | 分区       | 规则来源                                        |
    | ---------- | ----------------------------------------------- |
    | 总则       | 《C11-文档通用结构规范》第5节 + 本规范第2.2节   |
    | 正文       | 《C11-文档通用结构规范》第3节 + 本规范第2.3节   |
    | 规范性附录 | 《C11-文档通用结构规范》第6.1节                 |
    | 资料性附录 | 《C11-文档通用结构规范》第6.1节 + 本规范第2.4节 |
    | 修订记录   | 《C11-文档通用结构规范》第7节                   |

## 2.2 总则要求

### 2.2.1 基本要求

+   规范类文档的总则除《C11-文档通用结构规范》定义的通用要素（文档编号、文档名称、文档密级）外，还应包含以下专用要素：

    | 要素     | 必备/可选 | 说明                     |
    | -------- | --------- | ------------------------ |
    | 目的     | 必备      | 本规范的目的             |
    | 范围     | 必备      | 本规范适用的对象或范围   |
    | 管理要点 | 必备      | 本规范管辖的主要内容要点 |

### 2.2.2 总则模板

+   总则模板如下：

    ```text
    # 1 {总则标题}

    +   文档编号：{编号}
    +   文档名称：{名称}
    +   目的：{本规范的目的}
    +   范围：{适用于哪些文档类型或角色}
    +   管理要点：{本规范管辖的主要内容要点}
    +   文档密级：{密级标注，按《C11-文档通用结构规范》第8节执行}
    ```

## 2.3 正文要求

### 2.3.1 基本要求

+   规范类文档的正文称为"规则主体"，收录执行所必需的内容，具体为以下四类。

    | 类别       | 定义                               | 缺失后果           |
    | ---------- | ---------------------------------- | ------------------ |
    | 规则与约束 | 必须遵守的规定、禁止事项、强制要求 | 执行者会做错       |
    | 判断标准   | 用于决策的具体标准和阈值           | 执行者无法做判断   |
    | 必要视图   | 表达核心要素关联关系的视图         | 执行者会理解错结构 |
    | 最小示例   | 每个模板/规则附1个最典型的示例     | 执行者无法消除歧义 |

+   不属于上述四类的内容不应放在规则主体中。
+   规则编写核查要点：
    -   独立可执行性：规则本身应能独立理解和执行，无需依赖附录即可明白核心要求
    -   要素完整性：规则应包含适用对象、核心要求、判断标准等必要要素
    -   表述精确性：使用"应""不应""禁止"等规范性用语，避免模糊表述
    -   逻辑自洽性：规则之间不应存在矛盾或循环依赖

### 2.3.2 不收录内容

+   不收录内容（应移至附录）：动机铺垫、设计原因、历史背景；方法论推导过程、概念辨析；补充示例（超出最小示例的额外示例）；教学性内容、新手指引。
+   模板位置选择：10行以内的单个模板可直接嵌入正文（如总则模板）；超过10行或有3个以上模板时应移至规范性附录。

## 2.4 附录要求

### 2.4.1 基本要求

+   正文的精简以附录的详尽为前提。附录（尤其是资料性附录）应尽可能详尽——方法论讲透、示例给足、正反例覆盖、概念辨析穷尽。
+   正文中每一处被省略的动机铺垫、教学内容、补充示例，都应在附录中有对应的完整版本。
+   原则：正文做减法，附录做加法。
+   规范性附录引用要求：规范性附录应在正文中至少被引用一次。正文中在相关位置标注"模板见规范性附录X"或"详见规范性附录Y"；规范性附录中标注"本附录用于X.X节"。未被正文引用的内容应作为资料性附录而非规范性附录。

### 2.4.2 详尽性判断标准

+   详尽性判断标准：
    -   方法论讲透：推导过程完整，读者能理解"为什么这样设计"
    -   示例给足：每个规则至少1个正例 + 1个反例
    -   正反例覆盖：典型场景和边界场景都有示例
    -   概念辨析穷尽：易混淆的术语有对比说明

# 3 内容表达要求

+   本规范在《C01-内容表达规范》定义的通用表达规则（知识单点定义、术语处理、逻辑性与段落结构、表格列表选择、图的使用、语言精简、语言风格、规范性用语）的基础上，定义规范类文档的表达专用约束。

## 3.1 段落结构要求

+   适用范围：规范类文档的正文（规则主体）。资料性附录中的教学内容、方法论推导可以有引言段和总结段。
+   规范类文档的正文应直接给出规范性内容，省略动机铺垫、引言段、总结段、过渡段。
+   省略动机铺垫。正确写法："Epic编号格式为…"。错误写法："为了便于追溯，我们设计了以下编号格式…"。错误写法："考虑到跨团队协作的需要，本规范规定…"。
+   省略引言段。正确写法：直接写内容。错误写法："本节将介绍…"。
+   省略总结段。正确写法：直接写内容。错误写法："综上所述…"。
+   省略过渡段。正确写法：直接写内容。错误写法："在了解了业务生态之后，接下来…"。

## 3.2 一致性约束编写规则

+   规范类文档的规则主体中，存在跨章节数据依赖的内容应定义一致性约束。一致性约束声明不同章节之间的数据一致性要求，防止文档内部自相矛盾。
+   触发条件：当同一数据项（如技术栈名称、版本号、接口参数）在多个章节出现时，需定义一致性约束。

### 3.2.1 约束的定义位置与格式

+   一致性约束定义在受约束章节中，以独立的内容要点行呈现。格式："一致性约束：{受约束数据项}以{权威来源章节编号}为权威来源"。
+   权威来源章节是该数据项首次完整定义的章节。受约束章节引用该数据项时，不得与权威来源矛盾。

### 3.2.2 约束的编写要求

+   约束链应为有向无环图（DAG）——不允许循环依赖。A→B→C→A 形式的循环约束 → 结构缺陷，应重新划分权威来源。
+   约束应具体到章节编号。错误写法："应与相关章节一致"。正确写法："以第5.2节为权威来源"。
+   同一数据项只能有一个权威来源。多章节涉及同一数据项时，由首次完整定义该数据项的章节担任权威来源。

### 3.2.3 示例

```text
| 编号 | 标题     | 内容要点                                                                       | 表达规范 |
| ---- | -------- | ------------------------------------------------------------------------------ | -------- |
| 5.2  | 技术选型 | 技术栈清单与版本号                                                             |          |
|      |          | 一致性约束：技术栈名称和版本号以第5.2节为权威来源，第7章部署规划引用时不得矛盾 |          |
```

## 3.3 语言要求

+   规范类文档在《C01-内容表达规范》的通用语言要求基础上，增加以下专用要求。
+   使用陈述句，避免感叹句。判断标准和验证条件可使用疑问句（如"是否会…？会→…；不会→…"）。除判断条件场景外，避免使用疑问句。
+   条件逻辑用"→"表达。正确写法："未登录时访问鉴权资源 → 返回 401"。错误写法："当用户在未登录状态下访问需要鉴权的资源时，系统会返回错误"。

# 附录A（资料性）术语表

+   业界通用术语（AI已具备充分理解能力，仅列出名称）：
    -   DAG（有向无环图）、规范性附录、资料性附录、规范性用语（应/宜/可/不应/不宜）

+   文档专有术语：
    -   规则主体：规范类文档的正文部分，收录执行所必需的四类内容（规则与约束、判断标准、必要视图、最小示例）。
    -   一致性约束：声明规范类文档不同章节之间数据一致性要求的机制，通过指定权威来源章节防止跨章节数据矛盾。
    -   权威来源：数据项首次完整定义的章节，其他章节引用该数据项时不得与之矛盾。

# 附录B（资料性）文档说明

+   规范文档编写规范在规范体系中的定位如下图所示。

    ```graph
    ┌─────────────────────────────────────────────────────────┐
    │         规范文档编写规范在规范体系中的定位              │
    ├─────────────────────────────────────────────────────────┤
    │                                                         │
    │  上位规范                       管辖对象                │
    │  ┌──────────────────┐         ┌──────────────────────┐  │
    │  │ C11-文档通用     │         │                      │  │
    │  │   结构规范       │         │   规范类文档         │  │
    │  └────────┬─────────┘         │  （C01/C02/M01/      │  │
    │           │ 专用化            │   S10/C99/…）        │  │
    │  ┌────────▼─────────┐         │                      │  │
    │  │ M01-规范文档     │──收录──▶│                      │  │
    │  │   编写规范       │  标准、 │                      │  │
    │  │  （本规范）      │  编写   │                      │  │
    │  └──────────────────┘  要求   └──────────────────────┘  │
    │                                                         │
    │  协同规范（各管一个维度，同时约束规范类文档）           │
    │  ┌──────────────────┐                                   │
    │  │ C01-内容表达规范 │──内容怎么表达──▶ 规范类文档       │
    │  └──────────────────┘                                   │
    │  ┌──────────────────┐                                   │
    │  │ C02-排版格式规范 │──格式怎么排────▶ 规范类文档       │
    │  └──────────────────┘                                   │
    │                                                         │
    └─────────────────────────────────────────────────────────┘
    ```

    +   图 规范文档编写规范在规范体系中的定位

+   层级关系说明：
    -   **上下位关系**：M01 是 C11 的下位专用规范——在 C11 定义的通用分区结构基础上，为规范类文档增加专用的收录标准和编写要求
    -   **协同关系**：C01、C02 与 M01 协同，分别从表达、格式维度约束规范类文档
    -   **叠加约束**：规范类文档同时受 C11（通用结构）、M01（专用要求）、C01（表达）、C02（格式）的多重约束

+   不涉及的范围：
    -   文档分区结构、总则通用要素、附录体系、修订记录格式、密级标注（见《C11-文档通用结构规范》）
    -   通用语言写法和用语风格（见《C01-内容表达规范》）
    -   排版格式（见《C02-排版格式规范》）

# 附录C（资料性）正反例对比

+   本附录通过正反例对比，展示规范类文档编写中的常见问题和正确做法。

## C.1 规则主体编写

### C.1.1 独立可执行性

+   反例：
    -   "文档应遵循相关规范要求"（未明确哪些规范，无法独立执行）
    -   "系统应具备必要的安全能力"（"必要"无法量化，无法判断是否满足）

+   正例：
    -   "文档应遵循《C01-内容表达规范》和《C02-排版格式规范》的要求"
    -   "系统应具备身份认证、访问控制、审计日志三项安全能力"

### C.1.2 要素完整性

+   反例：
    -   "应进行代码审查"（缺少谁负责、何时进行、审查什么）
    -   "数据应分类管理"（缺少分类标准、管理方式）

+   正例：
    -   "开发团队应在代码合并前进行代码审查，审查内容包括代码规范、安全漏洞、性能问题"
    -   "数据应按敏感程度分为公开、内部、机密三级，各级数据应采用相应的访问控制和加密措施"

### C.1.3 表述精确性

+   反例：
    -   "建议定期备份数据"（"建议"非强制性，"定期"不明确）
    -   "尽量避免使用弱口令"（"尽量"模糊，"弱口令"未定义）

+   正例：
    -   "应每日凌晨2点自动备份数据"
    -   "禁止使用弱口令，弱口令定义见附录A术语表"

## C.2 段落结构

### C.2.1 省略动机铺垫

+   反例：
    -   "为了便于追溯和管理，我们设计了以下编号格式…"

+   正例：
    -   "Epic编号格式为E-YYYYMMDD-NNN"

### C.2.2 省略引言段和总结段

+   反例：
    -   "本节将介绍文档的编号规则。编号格式为…。综上所述，编号应遵循统一格式"

+   正例：
    -   "编号格式为…"

## C.3 一致性约束

### C.3.1 约束定义

+   反例：
    -   "技术栈应与相关章节一致"（未明确权威来源）
    -   "接口参数以第5章为准，第5章以第7章为准，第7章以第5章为准"（循环依赖）

+   正例：
    -   "一致性约束：技术栈名称和版本号以第5.2节为权威来源"
    -   "一致性约束：接口参数定义以第5.1节为权威来源，第7章部署配置引用时不得矛盾"

# 修订记录

| 标记 | 日期       | 修订内容                                                                                                                 | 修订人 |
| ---- | ---------- | ------------------------------------------------------------------------------------------------------------------------ | ------ |
| 0.10 | 2026-02-23 | 初始版本，从《C01-内容表达规范》v0.10中拆出规范类文档的内容组织结构                                                      | 丁劲松 |
| 0.20 | 2026-02-23 | 按《C01-内容表达规范》v0.20全面改造；新增五层文档分区结构和总则必备要素；新增附录标题格式规范                            | 丁劲松 |
|      |            | 资料性附录条目按内容性质分为三组；恢复多级标题结构；从91迁入规范类文档专用的段落结构要求和语言要求                       |        |
| 0.21 | 2026-02-24 | 新增"一致性约束编写规则"（含定义位置、编写要求、示例）；管辖范围增加"一致性约束"                                         | 丁劲松 |
| 0.22 | 2026-02-24 | 按《C11-文档通用结构规范》v0.11全面改造：总则增加与C11的承接声明                                                         | 丁劲松 |
|      |            | 删除与C11重复的分区结构、附录收录标准、双向链接规则，改为承接或引用C11；管辖范围收窄为正文收录标准和专用编写要求         |        |
|      |            | 密级改为【商密二级】；新增术语表附录；一致性约束调整至第5节（段落结构之后、语言要求之前）                                |        |
| 0.23 | 2026-02-24 | 按评审报告修复：管辖范围增加"附录详尽性的专用要求"；承接表"文档分区结构"对应分区改为"全文"                               | 丁劲松 |
|      |            | 承接表"正文"改为"正文分区"、删除括号注释；附录体系承接拆为两行：4.1增加专用要求、4.2~4.4直接遵循                         |        |
|      |            | 新增附录B文档定位；术语表"规范性附录""资料性附录"移至业界通用术语                                                        |        |
| 0.24 | 2026-02-26 | 重构正文结构：第2节改为"规范结构要求"（含规则主体收录标准、附录详尽性要求）                                              | 丁劲松 |
|      |            | 第3节改为"内容表达要求"（含段落结构要求、一致性约束编写规则、语言要求）；删除1.2节"与上位规范的关系"                     |        |
|      |            | 新增2.0节"规范类文档的完整结构"；第3节开头增加"在C01基础上定义专用约束"的声明；管辖范围调整为"结构专用约束+表达专用约束" |        |
|      |            | 增加可执行性改进：2.1节增加"不收录内容"说明；2.2节增加"详尽性判断标准"；3.1节增加"适用范围"说明；3.2节增加"触发条件"说明 |        |
|      |            | 表述优化：2.2节详尽性判断标准改为列表；3.2节调整触发条件位置；附录B图示改"专用化"                                        |        |
| 0.25 | 2026-02-27 | 优化文档结构：删除1.1节标题，总则直接列要素；第2节增加三级标题提升结构完整性                                             | 丁劲松 |
|      |            | 2.2总则要求（2.2.1基本要求、2.2.2总则模板）；2.3正文要求（2.3.1基本要求、2.3.2不收录内容）                               |        |
|      |            | 2.4附录要求（2.4.1基本要求、2.4.2详尽性判断标准）；调整管辖范围：增加"总则专用要素"                                      |        |
|      |            | 调整2.1节表格：总则规则来源改为"C11第3节 + 本规范第2.2节"；2.2.2节增加"总则模板如下"说明                                 |        |
|      |            | 修正模板中密级标注引用为明确引用《C11》第6节                                                                             |        |
| 0.30 | 2026-02-27 | 按C11 v0.13-v0.14全面验证：确认所有章节引用正确（第5节总则、第3节五分区、第6.1节附录、第7节修订记录、第8节密级）         | 丁劲松 |
|      |            | 第1节标题"目的和范围"、总则要素"目的、范围、管理要点"、附录B"文档说明"、图标题格式、层级关系说明分条列示                 |        |
|      |            | 第2.3.1节规则编写核查要点（独立可执行性、要素完整性、表述精确性、逻辑自洽性）；新增附录C正反例对比                       |        |
|      |            | 第2.4.1节规范性附录引用要求（双向链接标注方式）；第2.3.2节模板位置选择规则（10行以内可嵌入正文）                         |        |
|      |            | 归并v0.26修订记录，更新主版本号为0.30                                                                                    |        |
