# C02 排版格式规范 — 格式规则 Schema
# 来源规范：specs/common/C02-排版格式规范_v0.21@202602241234.md
# 用途：AI 内容编写阶段加载此 schema（替代完整规范），提供基本格式约束
# 完整规则（详细说明和边界情况）：见原规范文件

doc_id: C02
doc_name: 排版格式规范

# ── Markdown 符号 ──
symbols:
  "+": "通用内容行标记（段落、说明、描述等所有非列表内容）"
  "-": "列表项标记（仅用于真正的枚举/并列项）"
  "#": "标题标记"
  "```": "代码块/图块起止标记"
  indent: "4空格/层"
  rule: "除标题(#)、列表项(-)、代码块(```)外，所有内容行必须用+开头"

# ── 禁用语法 ──
prohibited:
  - "> 引用块"
  - "[^] 脚注"
  - "- [ ] 任务列表"
  - "--- 或 *** 分隔线（表格分隔行除外）"
  - "* 作为列表符号"

# ── 标题层级 ──
headings:
  max_depth: 6
  format: "# {N} 标题 → ## {N.N} → ### {N.N.N} → #### → ##### → ######"
  no_title_above_h1: true  # 正文从#开始，不在上方设文档名称标题

# ── 缩进规则 ──
indentation:
  标题下的+: "不缩进"
  嵌套内容: "每深一层+4空格"
  列表项-: "与同级+保持相同缩进深度"
  子级: "-下的子-或子+再缩进4空格"
  嵌套: "+下可有-，-下可有+，自由嵌套"

# ── 表格 ──
tables:
  syntax: "标准Markdown（| 分隔列, --- 定义表头分隔行）"
  max_line_width: 360  # 中文=2, 英文/数字/符号=1
  header: "必填，不得留空"
  no_br: true  # 禁止<br>换行，需换行时拆为多行
  alignment: "填充空格确保等宽字体下各列对齐"

# ── 图 ──
figures:
  type: "ASCII文本图 only"
  code_fence: "```graph"  # graph为自定义语言标识
  max_line_width: 360
  required_chars: "─│┌┐└┘├┤┬┴┼▶▼◆●"
  prohibited_chars: "+-|*（作为图形元素）"
  alignment: "同级元素水平/垂直对齐，同类元素大小相同"

# ── 图表标题与说明 ──
captions:
  说明: "图/表上方，完整陈述句，不以冒号结尾"
  标题: "图/表下方"
  缩进: "图/表/代码块相对说明文字缩进4空格"
  编号: "不编号"
  引用: "位置性语言（上图/下表/以下代码）或引用标题文字"

# ── 代码块 ──
code_blocks:
  language_tag: "必须注明（json/yaml/python/java/sql/bash/text等）"
  nesting: "嵌套场景外层用4空格缩进，不用反引号嵌套"

# ── 公式与特殊格式 ──
formulas:
  inline: "$...$"
  block: "$$...$$"

# ── 允许的HTML ──
allowed_html: [sup, sub, mark, u]
html_rule: "除以上4种外，禁止在正文中使用其他HTML标签"
