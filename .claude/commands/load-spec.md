# 加载约束规范（AI 判断类型）

读取约束规范文件，由 AI 根据文件内容判断其性质并打上对应标记。适合文件类型不明确、或介于多种规范之间的情况。

## 用法

```
/load-spec /path/to/constraint-file.md
/load-spec /path/to/specs-dir/
```

## 执行步骤

### 文件模式（参数为文件路径）

1.   读取 $ARGUMENTS 指定的文件
2.   根据内容判断规范性质，按以下标准分类：
-   **layout**：排版格式规则（标题、列表、表格等视觉呈现）
-   **style**：语言风格、术语规范、逻辑表达要求
-   **domain**：文档骨架、领域特定结构框架
-   **spec**：以上均不明确、或属于混合性约束
3.   输出加载确认（带判断说明）：
   ```
   [LOADED {判断类型}] {文件路径} | ~{字节数÷3.5取整} tokens  ← /load-spec 判断为 {类型}
   ```

### 目录模式（参数为目录路径）

1.   列出该目录下所有 `.md` 文件（按文件名排序，同前缀取最新版本）
2.   对每个文件逐一执行文件模式步骤

### 加载后

扫描本次会话全部 `[LOADED *]` 记录，列出已加载文件清单及估算合计。

容量检查（以 200K 为基准）：
-   合计 > 120K tokens → ⚠️ 已超过 60%，谨慎继续加载
-   合计 > 160K tokens → 🔴 已超过 80%，强烈建议停止加载
